2026-02-02 00:00:23 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 00:00:24 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:00:24 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:00:24 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:00:24 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:00:24 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:00:24 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:00:24 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:00:24 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:00:24 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:00:24 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:00:24 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:00:24 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:00:24 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:00:24 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:00:31 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:00:31 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:00:31 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:00:31 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:00:31 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:00:31 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:00:31 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:00:31 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:00:31 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:00:31 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:00:31 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:00:31 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:00:31 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:00:31 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:00:31 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:00:37 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:00:37 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:00:37 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 00:00:37 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 00:00:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 00:00:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:00:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 00:00:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:00:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 00:00:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:00:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:00:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 00:00:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00198s] ('teacher-001',)
2026-02-02 00:00:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:00:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:00:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                u.id as user_id,
                u.username,
                u.email,
                u.full_name
            FROM users u
            WHERE u.roles::jsonb ? 'student'
              AND u.is_active = true
            ORDER BY u.full_name ASC, u.username ASC
        
2026-02-02 00:00:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00163s] ()
2026-02-02 00:00:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:01:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:01:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO modules (module_id, course_id, title, description, order_index, is_published, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN, $7::JSONB) RETURNING modules.created_at, modules.updated_at
2026-02-02 00:01:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00207s] ('f2dcb9c8-66d1-49a2-9284-fa4aaa6bc3d9', 'course-001', 'Comisi√≥n Lunes 8-10', 'M√≥dulo de prueba', 0, False, '{}')
2026-02-02 00:01:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:01:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:01:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR
2026-02-02 00:01:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00200s] ('f2dcb9c8-66d1-49a2-9284-fa4aaa6bc3d9',)
2026-02-02 00:01:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:01:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:01:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 00:01:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 9.361s ago] ('teacher-001',)
2026-02-02 00:01:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:01:16 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:01:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 00:01:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 19.89s ago] ('teacher-001',)
2026-02-02 00:01:16 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:01:23 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:01:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 00:01:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.3s ago] ('teacher-001',)
2026-02-02 00:01:23 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:02:09 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:02:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 00:02:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00197s] ('docente-001',)
2026-02-02 00:02:09 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:02:11 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:02:12 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:02:13 - watchfiles.main - INFO - _log_changes:308 - 19 changes detected
2026-02-02 00:02:13 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-02 00:02:14 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:02:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:02:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 00:02:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00141s] ('docente@test.com',)
2026-02-02 00:02:25 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:02:59 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-02 00:03:00 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 00:03:01 - watchfiles.main - INFO - _log_changes:308 - 24 changes detected
2026-02-02 00:03:02 - watchfiles.main - INFO - _log_changes:308 - 104 changes detected
2026-02-02 00:03:03 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:03:03 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:03:04 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:03:05 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:03:05 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:03:06 - watchfiles.main - INFO - _log_changes:308 - 45 changes detected
2026-02-02 00:03:08 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:03:10 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:03:50 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:03:50 - watchfiles.main - INFO - _log_changes:308 - 65 changes detected
2026-02-02 00:03:51 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:03:52 - watchfiles.main - INFO - _log_changes:308 - 38 changes detected
2026-02-02 00:03:53 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:03:53 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-02 00:03:54 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:04:39 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:04:39 - watchfiles.main - INFO - _log_changes:308 - 29 changes detected
2026-02-02 00:04:41 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:04:42 - watchfiles.main - INFO - _log_changes:308 - 23 changes detected
2026-02-02 00:05:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:05:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 00:05:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 268.5s ago] ('docente-001',)
2026-02-02 00:05:25 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:05:27 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:05:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                u.id as user_id,
                u.username,
                u.email,
                u.full_name
            FROM users u
            WHERE u.roles::jsonb ? 'student'
              AND u.is_active = true
            ORDER BY u.full_name ASC, u.username ASC
        
2026-02-02 00:05:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 270.1s ago] ()
2026-02-02 00:05:27 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:05:27 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:05:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 00:05:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 197.6s ago] ('docente-001',)
2026-02-02 00:05:27 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:05:33 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:05:35 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:05:36 - watchfiles.main - INFO - _log_changes:308 - 29 changes detected
2026-02-02 00:05:36 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:05:36 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-02 00:05:37 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:06:30 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:07:03 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:07:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 00:07:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 366.1s ago] ('docente-001',)
2026-02-02 00:07:03 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:07:20 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:07:21 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:07:22 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 00:07:22 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:07:22 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:07:22 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:07:22 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:07:22 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:07:22 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:07:22 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:07:22 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:07:22 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:07:22 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:07:22 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:07:22 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:07:22 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:07:22 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:07:22 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:07:23 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-02 00:07:23 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-02 00:07:24 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-02 00:07:24 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:07:30 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:07:30 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:07:30 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 00:07:30 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 00:08:22 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:09:27 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:10:47 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:12:27 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:14:00 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:15:30 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:15:35 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:15:36 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:15:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 00:15:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:15:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 00:15:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:15:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 00:15:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:15:46 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:15:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 00:15:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00292s] ('docente-001',)
2026-02-02 00:15:46 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:15:48 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:15:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 00:15:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.323s ago] ('docente-001',)
2026-02-02 00:15:48 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:16:03 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:16:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 00:16:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 16.25s ago] ('docente-001',)
2026-02-02 00:16:03 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:17:03 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:17:05 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 00:17:08 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:17:08 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:17:08 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:17:08 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:17:08 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:17:08 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:17:08 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:17:08 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:17:08 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:17:08 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:17:08 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:17:08 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:17:08 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:17:08 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:17:16 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:17:16 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:17:16 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:17:16 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:17:16 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:17:16 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:17:16 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:17:16 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:17:16 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:17:16 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:17:16 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:17:16 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:17:16 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:17:16 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:17:16 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:17:25 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:17:25 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:17:25 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 00:17:25 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 00:18:14 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - create_module:229 - Failed to create module: 'subject_code' is an invalid keyword argument for CourseModel
2026-02-02 00:18:52 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 00:18:53 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:18:53 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:18:53 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:18:53 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:18:53 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:18:53 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:18:53 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:18:53 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:18:53 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:18:53 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:18:53 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:18:53 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:18:53 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:18:53 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:19:06 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:19:06 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:19:06 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:19:06 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:19:06 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:19:06 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:19:06 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:19:06 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:19:06 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:19:06 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:19:06 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:19:06 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:19:06 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:19:06 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:19:06 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:19:16 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:19:16 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:19:16 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 00:19:16 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 00:19:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 00:19:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:19:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 00:19:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:19:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 00:19:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:19:54 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:19:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO subjects (id, name, code, created_at, updated_at)
            VALUES ($1, $2, $3, NOW(), NOW())
            ON CONFLICT (code) DO UPDATE SET updated_at = NOW()
            RETURNING id
        
2026-02-02 00:19:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00149s] ('d4c97076-d1bd-40e4-834a-342a29af078a', 'Test', 'MOD_4EB87BBE')
2026-02-02 00:19:54 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 00:19:54 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - create_module:248 - Failed to create module: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "id" of relation "subjects" does not exist
[SQL: 
            INSERT INTO subjects (id, name, code, created_at, updated_at)
            VALUES ($1, $2, $3, NOW(), NOW())
            ON CONFLICT (code) DO UPDATE SET updated_at = NOW()
            RETURNING id
        ]
[parameters: ('d4c97076-d1bd-40e4-834a-342a29af078a', 'Test', 'MOD_4EB87BBE')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-02 00:20:37 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:20:37 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:20:37 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:20:37 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:20:37 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:20:37 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:20:37 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:20:37 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:20:37 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:20:37 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:20:37 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:20:37 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:20:37 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:20:37 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:20:48 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:20:49 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:20:49 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:20:49 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:20:49 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:20:49 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:20:49 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:20:49 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:20:49 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:20:49 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:20:49 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:20:49 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:20:49 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:20:49 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:20:49 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:20:56 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:20:57 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:20:57 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 00:20:57 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 00:21:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 00:21:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:21:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 00:21:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:21:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 00:21:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:21:20 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:21:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO subjects (subject_id, name, code, created_at)
            VALUES ($1, $2, $3, NOW())
            ON CONFLICT (code) DO UPDATE SET created_at = NOW()
            RETURNING subject_id
        
2026-02-02 00:21:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00303s] ('efe389c0-006b-407b-8331-e78f704149c6', 'Comision Final', 'MOD_57BB5D37')
2026-02-02 00:21:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO courses (course_id, subject_id, year, semester, is_active)
            VALUES ($1, $2, $3, $4, true)
        
2026-02-02 00:21:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00292s] ('3563c5c3-03ed-4ec0-837c-a12848084c3f', 'efe389c0-006b-407b-8331-e78f704149c6', 2026, 1)
2026-02-02 00:21:20 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 00:21:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - create_module:248 - Failed to create module: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 1 (expected str, got int)
[SQL: 
            INSERT INTO courses (course_id, subject_id, year, semester, is_active)
            VALUES ($1, $2, $3, $4, true)
        ]
[parameters: ('3563c5c3-03ed-4ec0-837c-a12848084c3f', 'efe389c0-006b-407b-8331-e78f704149c6', 2026, 1)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 00:21:46 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:21:46 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:21:46 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:21:46 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:21:46 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:21:46 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:21:46 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:21:46 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:21:46 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:21:46 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:21:46 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:21:46 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:21:46 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:21:46 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:21:58 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:21:58 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:21:58 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:21:58 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:21:58 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:21:58 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:21:58 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:21:58 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:21:58 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:21:58 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:21:58 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:21:58 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:21:58 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:21:58 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:21:58 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:22:06 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:22:06 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:22:06 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 00:22:06 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO subjects (subject_id, name, code, created_at)
            VALUES ($1, $2, $3, NOW())
            ON CONFLICT (code) DO UPDATE SET created_at = NOW()
            RETURNING subject_id
        
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00636s] ('ca1dfbfe-85c5-459a-972d-1b59fa6c93d8', 'Comision Nueva', 'MOD_7E761E0F')
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO courses (course_id, subject_id, year, semester, is_active)
            VALUES ($1, $2, 2026, 1, true)
        
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00340s] ('a3bb26a2-1028-4149-a18b-c110384db423', 'ca1dfbfe-85c5-459a-972d-1b59fa6c93d8')
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 00:22:06 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - create_module:246 - Failed to create module: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "subject_code" of relation "courses" violates not-null constraint
DETAIL:  Failing row contains (a3bb26a2-1028-4149-a18b-c110384db423, null, 2026, 1, t, 2026-02-02 00:22:06.844886+00, ca1dfbfe-85c5-459a-972d-1b59fa6c93d8).
[SQL: 
            INSERT INTO courses (course_id, subject_id, year, semester, is_active)
            VALUES ($1, $2, 2026, 1, true)
        ]
[parameters: ('a3bb26a2-1028-4149-a18b-c110384db423', 'ca1dfbfe-85c5-459a-972d-1b59fa6c93d8')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00168s] ('teacher-001',)
2026-02-02 00:22:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:22:47 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:22:47 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:22:47 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:22:47 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:22:47 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:22:47 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:22:47 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:22:47 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:22:47 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:22:47 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:22:48 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:22:48 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:22:48 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:22:48 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:22:57 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:22:58 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:22:58 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:22:58 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:22:58 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:22:58 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:22:58 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:22:58 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:22:58 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:22:58 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:22:58 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:22:58 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:22:58 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:22:58 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:22:58 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:23:06 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:23:06 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:23:06 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 00:23:06 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO subjects (subject_id, name, code, created_at)
            VALUES ($1, $2, $3, NOW())
            ON CONFLICT (code) DO UPDATE SET created_at = NOW()
            RETURNING subject_id
        
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00217s] ('48028e4b-5b9f-4df2-b9af-ac9e311ccfa0', 'Comision Definitiva', 'MOD_BE5A2A61')
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO courses (course_id, subject_code, subject_id, year, semester, is_active)
            VALUES ($1, $2, $3, 2026, '1C', true)
        
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00161s] ('d4c07691-b92d-4d45-8ffa-70819ac488d8', 'MOD_BE5A2A61', '48028e4b-5b9f-4df2-b9af-ac9e311ccfa0')
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 00:23:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - create_module:248 - Failed to create module: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.ForeignKeyViolationError'>: insert or update on table "courses" violates foreign key constraint "courses_subject_code_fkey"
DETAIL:  Key (subject_code)=(MOD_BE5A2A61) is not present in table "subjects_legacy".
[SQL: 
            INSERT INTO courses (course_id, subject_code, subject_id, year, semester, is_active)
            VALUES ($1, $2, $3, 2026, '1C', true)
        ]
[parameters: ('d4c07691-b92d-4d45-8ffa-70819ac488d8', 'MOD_BE5A2A61', '48028e4b-5b9f-4df2-b9af-ac9e311ccfa0')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00143s] ('teacher-001',)
2026-02-02 00:23:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:23:52 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:23:52 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:23:52 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:23:52 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:23:52 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:23:52 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:23:52 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:23:52 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:23:52 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:23:52 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:23:52 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:23:52 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:23:52 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:23:52 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:24:03 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:24:03 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:24:03 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:24:03 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:24:03 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:24:03 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:24:03 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:24:03 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:24:03 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:24:03 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:24:03 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:24:03 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:24:03 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:24:03 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:24:03 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:24:11 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:24:12 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:24:12 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 00:24:12 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 00:26:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 00:26:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:26:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 00:26:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:26:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 00:26:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:26:24 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:26:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO subjects_legacy (id, code, name, created_at)
            VALUES ($1, $2, $3, NOW())
            ON CONFLICT (code) DO NOTHING
        
2026-02-02 00:26:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00185s] ('285f7edc-918c-4537-8b84-9dd30d40c05d', 'MOD_51CA8988', 'Comision Martes 10-12')
2026-02-02 00:26:24 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 00:26:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - create_module:262 - Failed to create module: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "id" of relation "subjects_legacy" does not exist
[SQL: 
            INSERT INTO subjects_legacy (id, code, name, created_at)
            VALUES ($1, $2, $3, NOW())
            ON CONFLICT (code) DO NOTHING
        ]
[parameters: ('285f7edc-918c-4537-8b84-9dd30d40c05d', 'MOD_51CA8988', 'Comision Martes 10-12')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-02 00:26:58 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 00:26:59 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:26:59 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:26:59 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:26:59 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:26:59 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:26:59 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:26:59 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:26:59 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:26:59 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:26:59 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:26:59 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:26:59 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:26:59 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:26:59 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:27:10 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:27:11 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:27:11 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:27:11 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:27:11 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:27:11 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:27:11 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:27:11 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:27:11 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 00:27:11 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 00:27:11 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 00:27:11 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 00:27:11 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 00:27:11 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 00:27:11 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 00:27:19 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:27:19 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 00:27:19 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 00:27:19 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO subjects_legacy (code, name)
            VALUES ($1, $2)
            ON CONFLICT (code) DO NOTHING
        
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00269s] ('MOD_B31E6230', 'Comision Viernes 14-16')
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO subjects (subject_id, name, code, created_at)
            VALUES ($1, $2, $3, NOW())
            ON CONFLICT (code) DO UPDATE SET created_at = NOW()
            RETURNING subject_id
        
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00194s] ('038fe810-f707-4a81-afb1-84bad6819bb0', 'Comision Viernes 14-16', 'MOD_B31E6230')
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO courses (course_id, subject_code, subject_id, year, semester, is_active)
            VALUES ($1, $2, $3, 2026, '1C', true)
        
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00176s] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894', 'MOD_B31E6230', '038fe810-f707-4a81-afb1-84bad6819bb0')
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO enrollments (enrollment_id, user_id, course_id, role, status)
            VALUES ($1, $2, $3, 'TEACHER', 'ACTIVE')
        
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00164s] ('0fdaeff7-9f9a-42b6-a7b7-4ce812182303', 'teacher-001', 'a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894')
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO modules (module_id, course_id, title, description, order_index, is_published, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN, $7::JSONB) RETURNING modules.created_at, modules.updated_at
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00152s] ('309fd23a-eebf-496c-b939-fb482aa83100', 'a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894', 'Comision Viernes 14-16', 'Comision de introduccion a la programacion', 0, False, '{}')
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00115s] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 00:27:24 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:27:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:27:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 00:27:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00212s] ('teacher-001',)
2026-02-02 00:27:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:28:32 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:28:33 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:28:42 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:28:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 00:28:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 61.5s ago] ('docente-001',)
2026-02-02 00:28:42 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:29:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:29:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 00:29:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 115.6s ago] ('docente-001',)
2026-02-02 00:29:36 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:29:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 00:29:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                u.id as user_id,
                u.username,
                u.email,
                u.full_name
            FROM users u
            WHERE u.roles::jsonb ? 'student'
              AND u.is_active = true
            ORDER BY u.full_name ASC, u.username ASC
        
2026-02-02 00:29:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00196s] ()
2026-02-02 00:29:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 00:29:45 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:29:46 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:29:48 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:29:48 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:29:51 - watchfiles.main - INFO - _log_changes:308 - 21 changes detected
2026-02-02 00:29:52 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 00:29:53 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-02 00:29:53 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 00:29:53 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-02 00:32:14 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:32:14 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-02 00:34:32 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:37:02 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:39:34 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:42:01 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:44:33 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:46:15 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:47:13 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:48:24 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:50:31 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:52:32 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:54:44 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:57:23 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 00:59:50 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:02:18 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:04:38 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:07:19 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:09:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:12:17 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:14:47 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:17:03 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:19:18 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:21:47 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:24:24 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:26:51 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:29:12 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:31:41 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:34:13 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:36:37 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:39:10 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:41:34 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:44:00 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:46:29 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:48:34 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:51:07 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:53:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:56:32 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 01:59:13 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:01:47 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:04:24 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:06:52 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:09:33 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:12:11 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:14:47 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:17:25 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:20:00 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:22:41 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:25:10 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:27:16 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:29:38 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:32:03 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:34:33 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:37:02 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:38:31 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:39:57 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:41:01 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:41:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:41:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                u.id as user_id,
                u.username,
                u.email,
                u.full_name
            FROM users u
            WHERE u.roles::jsonb ? 'student'
              AND u.is_active = true
            ORDER BY u.full_name ASC, u.username ASC
        
2026-02-02 02:41:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7900s ago] ()
2026-02-02 02:41:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO subjects_legacy (code, name)
            VALUES ($1, $2)
            ON CONFLICT (code) DO NOTHING
        
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8050s ago] ('MOD_5318FBD8', 'Comision 1')
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO subjects (subject_id, name, code, created_at)
            VALUES ($1, $2, $3, NOW())
            ON CONFLICT (code) DO UPDATE SET created_at = NOW()
            RETURNING subject_id
        
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8050s ago] ('0729ebfe-c357-4198-ac9e-b112bf5475c1', 'Comision 1', 'MOD_5318FBD8')
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO courses (course_id, subject_code, subject_id, year, semester, is_active)
            VALUES ($1, $2, $3, 2026, '1C', true)
        
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8051s ago] ('2509308a-be40-4e24-9cec-b7be47aab375', 'MOD_5318FBD8', '0729ebfe-c357-4198-ac9e-b112bf5475c1')
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO enrollments (enrollment_id, user_id, course_id, role, status)
            VALUES ($1, $2, $3, 'TEACHER', 'ACTIVE')
        
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8051s ago] ('bca25180-944f-4797-89ac-956270551e6b', 'docente-001', '2509308a-be40-4e24-9cec-b7be47aab375')
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO modules (module_id, course_id, title, description, order_index, is_published, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN, $7::JSONB) RETURNING modules.created_at, modules.updated_at
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8051s ago] ('34168338-bc48-4bde-ac67-2c034e7aa29a', '2509308a-be40-4e24-9cec-b7be47aab375', 'Comision 1', 'Comision de prueba ', 0, False, '{}')
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8051s ago] ('34168338-bc48-4bde-ac67-2c034e7aa29a',)
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.course_id = $2::VARCHAR AND enrollments.module_id = $3::VARCHAR
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00343s] ('student-001', '2509308a-be40-4e24-9cec-b7be47aab375', '34168338-bc48-4bde-ac67-2c034e7aa29a')
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.course_id = $2::VARCHAR AND enrollments.module_id = $3::VARCHAR
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1791s ago] ('alumno-001', '2509308a-be40-4e24-9cec-b7be47aab375', '34168338-bc48-4bde-ac67-2c034e7aa29a')
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO enrollments (enrollment_id, user_id, course_id, module_id, role, status, completed_at, dropped_at, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::enrollmentrole, $6::enrollment_status_new, $7::TIMESTAMP WITH TIME ZONE, $8::TIMESTAMP WITH TIME ZONE, $9::JSONB) RETURNING enrollments.enrolled_at, enrollments.created_at, enrollments.updated_at
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00242s] ('c2ef80d0-50ee-48ac-81be-cdda8a05007f', 'student-001', '2509308a-be40-4e24-9cec-b7be47aab375', '34168338-bc48-4bde-ac67-2c034e7aa29a', 'STUDENT', 'ACTIVE', None, None, '{}')
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO enrollments (enrollment_id, user_id, course_id, module_id, role, status, completed_at, dropped_at, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::enrollmentrole, $6::enrollment_status_new, $7::TIMESTAMP WITH TIME ZONE, $8::TIMESTAMP WITH TIME ZONE, $9::JSONB) RETURNING enrollments.enrolled_at, enrollments.created_at, enrollments.updated_at
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02428s ago] ('73b4c194-018b-43d2-b3ef-3d2193ea5fa9', 'alumno-001', '2509308a-be40-4e24-9cec-b7be47aab375', '34168338-bc48-4bde-ac67-2c034e7aa29a', 'STUDENT', 'ACTIVE', None, None, '{}')
2026-02-02 02:41:34 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - create_enrollment:2386 - Failed to create enrollment: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: type "enrollmentrole" does not exist
[SQL: INSERT INTO enrollments (enrollment_id, user_id, course_id, module_id, role, status, completed_at, dropped_at, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::enrollmentrole, $6::enrollment_status_new, $7::TIMESTAMP WITH TIME ZONE, $8::TIMESTAMP WITH TIME ZONE, $9::JSONB) RETURNING enrollments.enrolled_at, enrollments.created_at, enrollments.updated_at]
[parameters: ('c2ef80d0-50ee-48ac-81be-cdda8a05007f', 'student-001', '2509308a-be40-4e24-9cec-b7be47aab375', '34168338-bc48-4bde-ac67-2c034e7aa29a', 'STUDENT', 'ACTIVE', None, None, '{}')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-02 02:41:34 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 02:41:34 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - create_enrollment:2386 - Failed to create enrollment: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: type "enrollmentrole" does not exist
[SQL: INSERT INTO enrollments (enrollment_id, user_id, course_id, module_id, role, status, completed_at, dropped_at, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::enrollmentrole, $6::enrollment_status_new, $7::TIMESTAMP WITH TIME ZONE, $8::TIMESTAMP WITH TIME ZONE, $9::JSONB) RETURNING enrollments.enrolled_at, enrollments.created_at, enrollments.updated_at]
[parameters: ('73b4c194-018b-43d2-b3ef-3d2193ea5fa9', 'alumno-001', '2509308a-be40-4e24-9cec-b7be47aab375', '34168338-bc48-4bde-ac67-2c034e7aa29a', 'STUDENT', 'ACTIVE', None, None, '{}')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-02 02:41:48 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 02:41:50 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 02:41:50 - watchfiles.main - INFO - _log_changes:308 - 13 changes detected
2026-02-02 02:41:55 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:41:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 02:41:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00212s] ('alumno@test.com',)
2026-02-02 02:41:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00398s] ('alumno-001', 'ACTIVE')
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02505s ago] ('alumno-001', 'ACTIVE')
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00223s] ('alumno-001',)
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0512s ago] ('alumno-001',)
2026-02-02 02:41:57 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:42:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:42:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 02:42:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.53s ago] ('docente@test.com',)
2026-02-02 02:42:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:42:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:42:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 02:42:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8066s ago] ('docente-001',)
2026-02-02 02:42:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:42:31 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:42:33 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 02:42:34 - watchfiles.main - INFO - _log_changes:308 - 11 changes detected
2026-02-02 02:42:34 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-02 02:42:34 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-02 02:42:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:42:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 02:42:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.02071s] ('undefined', 'ACTIVE')
2026-02-02 02:42:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:42:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:42:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 02:42:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1357s ago] ('undefined', 'ACTIVE')
2026-02-02 02:42:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:42:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:42:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 02:42:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00317s] ('undefined',)
2026-02-02 02:42:44 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_activities:2536 - Failed to get module activities: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        ]
[parameters: ('undefined',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 02:42:44 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 02:42:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:42:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 02:42:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02658s ago] ('undefined',)
2026-02-02 02:42:44 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_activities:2536 - Failed to get module activities: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        ]
[parameters: ('undefined',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 02:42:44 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00329s] ('undefined',)
2026-02-02 02:42:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_stats:2584 - Failed to get module stats: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        ]
[parameters: ('undefined',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01777s ago] ('undefined',)
2026-02-02 02:42:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_stats:2584 - Failed to get module stats: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        ]
[parameters: ('undefined',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.9636s ago] ('undefined',)
2026-02-02 02:42:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_activities:2536 - Failed to get module activities: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        ]
[parameters: ('undefined',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.9775s ago] ('undefined',)
2026-02-02 02:42:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_activities:2536 - Failed to get module activities: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        ]
[parameters: ('undefined',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 02:42:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 4.187s ago] ('undefined', 'ACTIVE')
2026-02-02 02:42:46 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:42:46 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:42:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 02:42:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 4.201s ago] ('undefined', 'ACTIVE')
2026-02-02 02:42:46 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:43:18 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:43:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.course_id = $2::VARCHAR AND enrollments.module_id = $3::VARCHAR
2026-02-02 02:43:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 103.8s ago] ('alumno-001', 'a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894', '309fd23a-eebf-496c-b939-fb482aa83100')
2026-02-02 02:43:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO enrollments (enrollment_id, user_id, course_id, module_id, role, status, completed_at, dropped_at, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::enrollmentrole, $6::enrollment_status_new, $7::TIMESTAMP WITH TIME ZONE, $8::TIMESTAMP WITH TIME ZONE, $9::JSONB) RETURNING enrollments.enrolled_at, enrollments.created_at, enrollments.updated_at
2026-02-02 02:43:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 103.6s ago] ('7614021b-e641-45df-a382-ecc818ad7f18', 'alumno-001', 'a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894', '309fd23a-eebf-496c-b939-fb482aa83100', 'STUDENT', 'ACTIVE', None, None, '{}')
2026-02-02 02:43:18 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 02:43:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - create_enrollment:2386 - Failed to create enrollment: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: type "enrollmentrole" does not exist
[SQL: INSERT INTO enrollments (enrollment_id, user_id, course_id, module_id, role, status, completed_at, dropped_at, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::enrollmentrole, $6::enrollment_status_new, $7::TIMESTAMP WITH TIME ZONE, $8::TIMESTAMP WITH TIME ZONE, $9::JSONB) RETURNING enrollments.enrolled_at, enrollments.created_at, enrollments.updated_at]
[parameters: ('7614021b-e641-45df-a382-ecc818ad7f18', 'alumno-001', 'a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894', '309fd23a-eebf-496c-b939-fb482aa83100', 'STUDENT', 'ACTIVE', None, None, '{}')]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-02 02:43:23 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 02:43:23 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 02:43:25 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 02:43:25 - watchfiles.main - INFO - _log_changes:308 - 32 changes detected
2026-02-02 02:43:26 - watchfiles.main - INFO - _log_changes:308 - 35 changes detected
2026-02-02 02:43:26 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-02 02:44:15 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:44:16 - watchfiles.main - INFO - _log_changes:308 - 41 changes detected
2026-02-02 02:44:49 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 02:44:53 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 02:44:53 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 02:44:53 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 02:44:53 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 02:44:53 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 02:44:53 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 02:44:53 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 02:44:53 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 02:44:53 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 02:44:53 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 02:44:53 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 02:44:53 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 02:44:53 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 02:44:53 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 02:45:00 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 02:45:00 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 02:45:00 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 02:45:00 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 02:45:00 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 02:45:00 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 02:45:00 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 02:45:00 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 02:45:00 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 02:45:00 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 02:45:00 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 02:45:00 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 02:45:00 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 02:45:00 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 02:45:00 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 02:45:06 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 02:45:06 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 02:45:06 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 02:45:06 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.course_id = $2::VARCHAR AND enrollments.module_id = $3::VARCHAR
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00156s] ('alumno-001', 'a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894', '309fd23a-eebf-496c-b939-fb482aa83100')
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO enrollments (enrollment_id, user_id, course_id, module_id, role, status, completed_at, dropped_at, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::enrollment_role, $6::enrollment_status_new, $7::TIMESTAMP WITH TIME ZONE, $8::TIMESTAMP WITH TIME ZONE, $9::JSONB) RETURNING enrollments.enrolled_at, enrollments.created_at, enrollments.updated_at
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00178s] ('9c38fff1-940c-45be-8c79-6d5a3017c9d9', 'alumno-001', 'a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894', '309fd23a-eebf-496c-b939-fb482aa83100', 'STUDENT', 'ACTIVE', None, None, '{}')
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.enrollment_id = $1::VARCHAR
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00189s] ('9c38fff1-940c-45be-8c79-6d5a3017c9d9',)
2026-02-02 02:45:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - create_enrollment:2378 - Enrolled user alumno-001 in course a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894 as EnrollmentRoleEnum.STUDENT
2026-02-02 02:45:17 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:46:11 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:46:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 02:46:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00174s] ('docente-001',)
2026-02-02 02:46:11 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:46:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:46:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 02:46:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.937s ago] ('teacher-001',)
2026-02-02 02:46:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:46:38 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 02:46:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:46:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 02:46:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00466s] ('undefined', 'ACTIVE')
2026-02-02 02:46:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:46:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:46:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 02:46:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05557s ago] ('undefined', 'ACTIVE')
2026-02-02 02:46:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00315s] ('docente-001',)
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01981s ago] ('docente-001',)
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00141s] ('2509308a-be40-4e24-9cec-b7be47aab375',)
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01759s ago] ('2509308a-be40-4e24-9cec-b7be47aab375',)
2026-02-02 02:46:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:47:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:47:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 02:47:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.823s ago] ('undefined', 'ACTIVE')
2026-02-02 02:47:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:47:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:47:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 02:47:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.856s ago] ('undefined', 'ACTIVE')
2026-02-02 02:47:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.911s ago] ('docente-001',)
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.931s ago] ('docente-001',)
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.899s ago] ('2509308a-be40-4e24-9cec-b7be47aab375',)
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.914s ago] ('2509308a-be40-4e24-9cec-b7be47aab375',)
2026-02-02 02:47:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:47:04 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR
2026-02-02 02:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00221s] ('34168338-bc48-4bde-ac67-2c034e7aa29a',)
2026-02-02 02:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - DELETE FROM modules WHERE modules.module_id = $1::VARCHAR
2026-02-02 02:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00193s] ('34168338-bc48-4bde-ac67-2c034e7aa29a',)
2026-02-02 02:47:04 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:47:04 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - delete_module:2281 - Deleted module 34168338-bc48-4bde-ac67-2c034e7aa29a
2026-02-02 02:47:04 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 02:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 9.111s ago] ('2509308a-be40-4e24-9cec-b7be47aab375',)
2026-02-02 02:47:04 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:47:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:47:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 02:47:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.98s ago] ('docente-001',)
2026-02-02 02:47:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:47:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:47:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 02:47:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.95s ago] ('2509308a-be40-4e24-9cec-b7be47aab375',)
2026-02-02 02:47:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:47:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:47:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 02:47:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.97s ago] ('2509308a-be40-4e24-9cec-b7be47aab375',)
2026-02-02 02:47:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:47:29 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:47:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO subjects_legacy (code, name)
            VALUES ($1, $2)
            ON CONFLICT (code) DO NOTHING
        
2026-02-02 02:47:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00189s] ('MOD_81BEA9F8', 'undefined')
2026-02-02 02:47:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO subjects (subject_id, name, code, created_at)
            VALUES ($1, $2, $3, NOW())
            ON CONFLICT (code) DO UPDATE SET created_at = NOW()
            RETURNING subject_id
        
2026-02-02 02:47:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00166s] ('601b1145-d285-4e30-a9bd-d32417ac081b', 'undefined', 'MOD_81BEA9F8')
2026-02-02 02:47:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO courses (course_id, subject_code, subject_id, year, semester, is_active)
            VALUES ($1, $2, $3, 2026, '1C', true)
        
2026-02-02 02:47:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00159s] ('f9a03eab-cc52-435a-897e-a729afa8d668', 'MOD_81BEA9F8', '601b1145-d285-4e30-a9bd-d32417ac081b')
2026-02-02 02:47:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO enrollments (enrollment_id, user_id, course_id, role, status)
            VALUES ($1, $2, $3, 'TEACHER', 'ACTIVE')
        
2026-02-02 02:47:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00140s] ('7346e44b-2111-4652-b096-4dc3146517c2', 'undefined', 'f9a03eab-cc52-435a-897e-a729afa8d668')
2026-02-02 02:47:30 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 02:47:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - create_module:261 - Failed to create module: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.ForeignKeyViolationError'>: insert or update on table "enrollments" violates foreign key constraint "enrollments_user_id_fkey"
DETAIL:  Key (user_id)=(undefined) is not present in table "users".
[SQL: 
            INSERT INTO enrollments (enrollment_id, user_id, course_id, role, status)
            VALUES ($1, $2, $3, 'TEACHER', 'ACTIVE')
        ]
[parameters: ('7346e44b-2111-4652-b096-4dc3146517c2', 'undefined', 'f9a03eab-cc52-435a-897e-a729afa8d668')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2026-02-02 02:47:34 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 02:47:35 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 02:47:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:47:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 02:47:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 40.97s ago] ('docente-001',)
2026-02-02 02:47:36 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:47:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:47:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 02:47:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 40.95s ago] ('2509308a-be40-4e24-9cec-b7be47aab375',)
2026-02-02 02:47:36 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:47:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 02:47:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 02:47:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 40.96s ago] ('2509308a-be40-4e24-9cec-b7be47aab375',)
2026-02-02 02:47:36 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 02:47:36 - watchfiles.main - INFO - _log_changes:308 - 21 changes detected
2026-02-02 02:47:36 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 02:47:37 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-02 02:47:37 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:25:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:25:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 128.6s ago] ('docente-001',)
2026-02-02 13:25:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:25:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 128.6s ago] ('2509308a-be40-4e24-9cec-b7be47aab375',)
2026-02-02 13:25:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:25:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 128.6s ago] ('2509308a-be40-4e24-9cec-b7be47aab375',)
2026-02-02 13:25:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:31 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:25:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 133.6s ago] ('undefined', 'ACTIVE')
2026-02-02 13:25:31 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:31 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:25:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 133.6s ago] ('undefined', 'ACTIVE')
2026-02-02 13:25:31 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 132.1s ago] ('docente-001',)
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 132.1s ago] ('docente-001',)
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 132.1s ago] ('2509308a-be40-4e24-9cec-b7be47aab375',)
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 132.1s ago] ('2509308a-be40-4e24-9cec-b7be47aab375',)
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 134.8s ago] ('undefined', 'ACTIVE')
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 134.9s ago] ('undefined', 'ACTIVE')
2026-02-02 13:25:32 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:25:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 136.1s ago] ('undefined', 'ACTIVE')
2026-02-02 13:25:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:25:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 136.1s ago] ('undefined', 'ACTIVE')
2026-02-02 13:25:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 136s ago] ('docente-001',)
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 136s ago] ('docente-001',)
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 136s ago] ('2509308a-be40-4e24-9cec-b7be47aab375',)
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 136s ago] ('2509308a-be40-4e24-9cec-b7be47aab375',)
2026-02-02 13:25:36 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:38 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:25:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 13:25:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00264s] ('docente@test.com',)
2026-02-02 13:25:40 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:40 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:25:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 13:25:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 184.1s ago] ('docente-001',)
2026-02-02 13:25:40 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:25:41 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:25:41 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-02 13:25:41 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:25:55 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:25:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                u.id as user_id,
                u.username,
                u.email,
                u.full_name
            FROM users u
            WHERE u.roles::jsonb ? 'student'
              AND u.is_active = true
            ORDER BY u.full_name ASC, u.username ASC
        
2026-02-02 13:25:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.01595s] ()
2026-02-02 13:25:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO subjects_legacy (code, name)
            VALUES ($1, $2)
            ON CONFLICT (code) DO NOTHING
        
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 134.6s ago] ('MOD_0978BB6E', 'Comision 1')
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO subjects (subject_id, name, code, created_at)
            VALUES ($1, $2, $3, NOW())
            ON CONFLICT (code) DO UPDATE SET created_at = NOW()
            RETURNING subject_id
        
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 134.6s ago] ('2d2da11d-746f-4de0-bd38-1eb6a953abd2', 'Comision 1', 'MOD_0978BB6E')
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO courses (course_id, subject_code, subject_id, year, semester, is_active)
            VALUES ($1, $2, $3, 2026, '1C', true)
        
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 134.6s ago] ('a882f15f-d3ea-4105-b759-99c564e59758', 'MOD_0978BB6E', '2d2da11d-746f-4de0-bd38-1eb6a953abd2')
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO enrollments (enrollment_id, user_id, course_id, role, status)
            VALUES ($1, $2, $3, 'TEACHER', 'ACTIVE')
        
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 134.6s ago] ('b5346957-4806-4ac6-8536-025809f51fd3', 'docente-001', 'a882f15f-d3ea-4105-b759-99c564e59758')
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO modules (module_id, course_id, title, description, order_index, is_published, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN, $7::JSONB) RETURNING modules.created_at, modules.updated_at
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00212s] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'a882f15f-d3ea-4105-b759-99c564e59758', 'Comision 1', 'Comision de prueba ', 0, False, '{}')
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00183s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.course_id = $2::VARCHAR AND enrollments.module_id = $3::VARCHAR
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 267.1s ago] ('student-001', 'a882f15f-d3ea-4105-b759-99c564e59758', '701c7617-75ea-4caa-89f9-a541f213e03a')
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.course_id = $2::VARCHAR AND enrollments.module_id = $3::VARCHAR
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 267.1s ago] ('alumno-001', 'a882f15f-d3ea-4105-b759-99c564e59758', '701c7617-75ea-4caa-89f9-a541f213e03a')
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO enrollments (enrollment_id, user_id, course_id, module_id, role, status, completed_at, dropped_at, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::enrollment_role, $6::enrollment_status_new, $7::TIMESTAMP WITH TIME ZONE, $8::TIMESTAMP WITH TIME ZONE, $9::JSONB) RETURNING enrollments.enrolled_at, enrollments.created_at, enrollments.updated_at
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 267.1s ago] ('18338db2-b381-452e-acc8-66a4695c9d38', 'student-001', 'a882f15f-d3ea-4105-b759-99c564e59758', '701c7617-75ea-4caa-89f9-a541f213e03a', 'STUDENT', 'ACTIVE', None, None, '{}')
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO enrollments (enrollment_id, user_id, course_id, module_id, role, status, completed_at, dropped_at, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::enrollment_role, $6::enrollment_status_new, $7::TIMESTAMP WITH TIME ZONE, $8::TIMESTAMP WITH TIME ZONE, $9::JSONB) RETURNING enrollments.enrolled_at, enrollments.created_at, enrollments.updated_at
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 267.1s ago] ('3b049777-1c46-4e18-a2bf-58fa7f1fc147', 'alumno-001', 'a882f15f-d3ea-4105-b759-99c564e59758', '701c7617-75ea-4caa-89f9-a541f213e03a', 'STUDENT', 'ACTIVE', None, None, '{}')
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.enrollment_id = $1::VARCHAR
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 267.1s ago] ('18338db2-b381-452e-acc8-66a4695c9d38',)
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - create_enrollment:2378 - Enrolled user student-001 in course a882f15f-d3ea-4105-b759-99c564e59758 as EnrollmentRoleEnum.STUDENT
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.enrollment_id = $1::VARCHAR
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 267.1s ago] ('3b049777-1c46-4e18-a2bf-58fa7f1fc147',)
2026-02-02 13:26:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - create_enrollment:2378 - Enrolled user alumno-001 in course a882f15f-d3ea-4105-b759-99c564e59758 as EnrollmentRoleEnum.STUDENT
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.1s ago] ('docente-001',)
2026-02-02 13:26:09 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:12 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:26:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 174s ago] ('undefined', 'ACTIVE')
2026-02-02 13:26:12 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:12 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:26:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 174s ago] ('undefined', 'ACTIVE')
2026-02-02 13:26:12 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 174.7s ago] ('docente-001',)
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 174.7s ago] ('docente-001',)
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 174.7s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 174.7s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:26:14 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:17 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:26:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 177.5s ago] ('docente-001',)
2026-02-02 13:26:17 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:17 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:26:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 177.5s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:26:17 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:17 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:26:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 177.5s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:26:17 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:26:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 181.1s ago] ('undefined', 'ACTIVE')
2026-02-02 13:26:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:26:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 181.1s ago] ('undefined', 'ACTIVE')
2026-02-02 13:26:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 180.5s ago] ('docente-001',)
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 180.5s ago] ('docente-001',)
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 180.5s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 180.5s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:26:20 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:26 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:26:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:26:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 188.6s ago] ('undefined', 'ACTIVE')
2026-02-02 13:26:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:26:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:26:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 188.6s ago] ('undefined', 'ACTIVE')
2026-02-02 13:26:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:26:27 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:26:28 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-02 13:27:14 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:28:07 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:28:42 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:28:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:28:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 324.4s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:28:42 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:29:01 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:29:02 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:29:04 - watchfiles.main - INFO - _log_changes:308 - 23 changes detected
2026-02-02 13:29:04 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:29:04 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-02 13:29:05 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:29:05 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:29:27 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:29:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:29:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 369.2s ago] ('309fd23a-eebf-496c-b939-fb482aa83100', 'ACTIVE')
2026-02-02 13:29:27 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:29:46 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:29:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:29:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 388.7s ago] ('309fd23a-eebf-496c-b939-fb482aa83100', 'ACTIVE')
2026-02-02 13:29:46 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:29:48 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:30:32 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:30:33 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:30:34 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-02 13:30:35 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:30:35 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:30:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:30:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:30:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 442s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:30:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:30:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:30:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 442.1s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:30:40 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:30:40 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:30:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:30:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:30:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00195s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:30:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:30:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:30:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.008242s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:30:44 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_activities:2536 - Failed to get module activities: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        ]
[parameters: ('701c7617-75ea-4caa-89f9-a541f213e03a',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 13:30:44 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 13:30:44 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_activities:2536 - Failed to get module activities: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        ]
[parameters: ('701c7617-75ea-4caa-89f9-a541f213e03a',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 13:30:44 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 13:30:49 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:30:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 13:30:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 493.1s ago] ('docente-001',)
2026-02-02 13:30:49 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:30:51 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:30:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:30:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 453.9s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:30:51 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:30:51 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:30:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:30:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 453.9s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:30:51 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:30:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:30:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:30:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 9.152s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:30:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:30:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:30:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 9.159s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:30:53 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_activities:2536 - Failed to get module activities: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        ]
[parameters: ('701c7617-75ea-4caa-89f9-a541f213e03a',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 13:30:53 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_activities:2536 - Failed to get module activities: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        ]
[parameters: ('701c7617-75ea-4caa-89f9-a541f213e03a',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 13:30:53 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 13:30:53 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 13:30:54 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:30:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 13:30:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 497.3s ago] ('docente-001',)
2026-02-02 13:30:54 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:30:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:30:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:30:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 458.1s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:30:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:30:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:30:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 458.1s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:30:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:30:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:30:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:30:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:30:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 13.37s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:30:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:30:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:30:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 13.39s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:30:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_activities:2536 - Failed to get module activities: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        ]
[parameters: ('701c7617-75ea-4caa-89f9-a541f213e03a',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 13:30:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_activities:2536 - Failed to get module activities: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        ]
[parameters: ('701c7617-75ea-4caa-89f9-a541f213e03a',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 13:30:57 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 13:30:57 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 13:31:24 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:31:26 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:31:27 - watchfiles.main - INFO - _log_changes:308 - 25 changes detected
2026-02-02 13:31:28 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:31:28 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:32:26 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:32:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:32:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:32:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 112.9s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 13:32:36 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_activities:2536 - Failed to get module activities: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'GRADED' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        ]
[parameters: ('309fd23a-eebf-496c-b939-fb482aa83100',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 13:32:36 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 13:33:35 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:33:36 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:33:36 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 13:33:37 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:33:37 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:33:37 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:33:37 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:33:37 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:33:37 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:33:37 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:33:37 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:33:37 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:33:37 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:33:37 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:33:37 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:33:37 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:33:37 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:33:45 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:33:45 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:33:45 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 13:33:45 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 13:34:46 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:35:12 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 13:35:14 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:35:14 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:35:14 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:35:14 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:35:14 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:35:14 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:35:14 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:35:14 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:35:14 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:35:14 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:35:14 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:35:14 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:35:14 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:35:14 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:35:22 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:35:23 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:35:23 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:35:23 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:35:23 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:35:23 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:35:23 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:35:23 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:35:23 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:35:23 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:35:23 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:35:23 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:35:23 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:35:23 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:35:23 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:35:29 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:35:29 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:35:29 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 13:35:29 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 13:36:23 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:36:25 - watchfiles.main - INFO - _log_changes:308 - 13 changes detected
2026-02-02 13:36:25 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:36:26 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:36:27 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:36:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 13:36:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 13:36:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 13:36:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 13:36:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 13:36:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 13:36:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:36:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:36:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00374s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:36:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:37:24 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:37:25 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:37:26 - watchfiles.main - INFO - _log_changes:308 - 19 changes detected
2026-02-02 13:37:26 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-02 13:37:27 - watchfiles.main - INFO - _log_changes:308 - 12 changes detected
2026-02-02 13:37:27 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:38:04 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:38:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:38:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 84.63s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 13:38:04 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:38:20 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:38:21 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:38:22 - watchfiles.main - INFO - _log_changes:308 - 15 changes detected
2026-02-02 13:38:22 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:38:22 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:38:23 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:38:35 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:38:35 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:38:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:38:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:683 - üöÄ Starting graph execution for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:610 - üéØ Executing graph for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:611 - üéØ Initial state phase: ingestion
2026-02-02 13:38:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:308 - Starting PDF ingestion for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:36 - backend.src_v3.infrastructure.ai.rag.document_processor - INFO - process_pdf:88 - Processed PDF '4aeefe6d-ea92-48ab-a949-83e96bce8bf7_Bucles en Python_ Repetici√≥n y Control de Flujo.pdf': 7 pages, 10 chunks
2026-02-02 13:38:36 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:38:37 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:38:37 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:38:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:38:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:38:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion
2026-02-02 13:38:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:38:35.517566'}
2026-02-02 13:38:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 13:38:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:39 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:38:39 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:38:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:38:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:38:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion
2026-02-02 13:38:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:38:35.517566'}
2026-02-02 13:38:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 13:38:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:41 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:38:41 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:38:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:38:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:38:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion
2026-02-02 13:38:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:38:35.517566'}
2026-02-02 13:38:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 13:38:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:43 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:38:43 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:38:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:38:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:38:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion
2026-02-02 13:38:43 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:38:35.517566'}
2026-02-02 13:38:43 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 13:38:43 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:45 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:38:45 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:38:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:38:46 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:46 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:38:46 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion
2026-02-02 13:38:46 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:38:35.517566'}
2026-02-02 13:38:46 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 13:38:46 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:51 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:38:51 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:38:51 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:38:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:38:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion
2026-02-02 13:38:53 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:38:35.517566'}
2026-02-02 13:38:53 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 13:38:53 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:56 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:38:56 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:38:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:38:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:38:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion
2026-02-02 13:38:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:38:35.517566'}
2026-02-02 13:38:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 13:38:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:59 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:38:59 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:38:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:38:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:38:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:38:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion
2026-02-02 13:38:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:38:35.517566'}
2026-02-02 13:38:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 13:38:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:00 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:00 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - add_documents:90 - Added 10 documents to collection 'job_4aeefe6d-ea92-48ab-a949-83e96bce8bf7_docs'
2026-02-02 13:39:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:333 - PDF ingestion complete for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:571 - üîÄ Routing after ingestion: current_phase=ingestion_complete
2026-02-02 13:39:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:577 - üîÄ ‚Üí Going to generate_draft
2026-02-02 13:39:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:352 - üé® Starting exercise generation for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:04 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:04 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:04 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:403 - ü§ñ Calling Mistral AI for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7...
2026-02-02 13:39:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:05 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:05 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:05 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:07 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:07 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:10 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:10 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:10 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:10 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:10 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:10 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:12 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:12 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:12 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:12 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:12 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:12 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:12 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:12 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:12 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:14 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:14 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:14 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:14 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:14 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:14 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:14 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:14 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:14 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:16 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:16 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:16 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:16 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:16 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:16 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:16 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:16 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:16 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:18 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:18 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:20 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:20 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:22 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:22 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:22 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:39:23 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:39:23 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:39:23 - watchfiles.main - INFO - _log_changes:308 - 6 changes detected
2026-02-02 13:39:24 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:24 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:24 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:39:26 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:26 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:28 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:28 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:30 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:30 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:31 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:31 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:31 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:31 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:31 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:33 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:33 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:33 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:33 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:33 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:33 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:33 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:33 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:33 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:35 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:35 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:37 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:37 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:39 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:39 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:41 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:41 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:43 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:43 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:43 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:43 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:43 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:45 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:45 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:47 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:47 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:47 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:47 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:47 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:50 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:50 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:52 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:52 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:52 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:52 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:52 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:54 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:54 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:54 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:54 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:54 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:56 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:56 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:56 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:56 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:56 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:58 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:39:58 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:39:58 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:39:58 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:39:58 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:39:58 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:39:58 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:39:58 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:39:58 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:00 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:40:00 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:40:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:40:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:40:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:40:00 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:40:00 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:40:00 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:02 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:40:02 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:40:02 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:40:02 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:02 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:40:02 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:40:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:40:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:40:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:04 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:40:04 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:40:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:40:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:40:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:40:04 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:40:04 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:40:04 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:06 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:40:06 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:40:06 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:40:06 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:06 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:40:06 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:40:06 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:40:06 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:40:06 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:08 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:40:08 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:40:08 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:40:08 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:08 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:40:08 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:40:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:40:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:40:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:09 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:40:11 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:40:11 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:40:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:40:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:40:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:40:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:40:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:40:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:11 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:40:13 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:40:13 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:40:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:40:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:40:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:40:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:40:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:40:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:15 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:40:15 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:40:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:40:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:40:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:40:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:40:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:40:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:17 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:40:17 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:40:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:40:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:40:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:40:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:40:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:40:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:19 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:40:19 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:40:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:40:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:40:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:40:19 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:40:19 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:40:19 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:21 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: ingestion_complete
2026-02-02 13:40:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:39:00.094024'}
2026-02-02 13:40:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:40:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'processing' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:406 - ‚úÖ Mistral responded for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7, parsing 25549 chars...
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:477 - ‚úÖ Exercise generation complete for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: 10 exercises created
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:485 - Exercise generation complete for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:583 - üîÄ Routing after generation: current_phase=generation
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:589 - üîÄ ‚Üí Going to human_review
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:508 - ‚úã Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 reached human review checkpoint - execution will stop here
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:514 - üèÅ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 ready for approval with 10 exercises
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:617 - üèÅ Graph execution completed for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:618 - üèÅ Final phase: review
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:619 - üèÅ Awaiting approval: True
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:620 - üèÅ Draft exercises count: 10
2026-02-02 13:40:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:689 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 execution completed
2026-02-02 13:40:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - run_generation:1624 - Generation job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 completed: processing
2026-02-02 13:40:23 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 found, phase: review
2026-02-02 13:40:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1680 - üìã State for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7: {'job_id': '4aeefe6d-ea92-48ab-a949-83e96bce8bf7', 'current_step': 'review', 'draft_ready': True, 'published': False, 'error': None, 'created_at': '2026-02-02T13:38:35.517551', 'updated_at': '2026-02-02T13:40:21.688981'}
2026-02-02 13:40:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1707 - üéØ Job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7 - current_step: review, draft_ready: True, published: False
2026-02-02 13:40:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1724 - ‚úÖ Returning status 'awaiting_approval' for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:23 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:812 - üìù Approving job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7, current phase: review
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:822 - ‚úÖ Approving 10 exercises
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:832 - üì¶ Extracted 10 exercises for persistence
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:844 - ‚úÖ State updated to 'published'
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:857 - üíæ Persisting 10 exercises to database...
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.db_persistence - INFO - publish_exercises_to_db:53 - Persisting 10 exercises to database
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.db_persistence - INFO - publish_exercises_to_db:77 - Created activity: 017e118e-78db-4f09-9bfc-f296703a6eb2
2026-02-02 13:40:23 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:40:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO activities (activity_id, title, subject, unit_id, teacher_id, course_id, instructions, status, difficulty_level, policies, start_date, end_date, deleted_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::JSONB, $11::TIMESTAMP WITH TIME ZONE, $12::TIMESTAMP WITH TIME ZONE, $13::TIMESTAMP WITH TIME ZONE) RETURNING activities.created_at
2026-02-02 13:40:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00256s] ('017e118e-78db-4f09-9bfc-f296703a6eb2', 'Bucles', 'Actividad generada autom√°ticamente sobre Unidad 1 ', '1', 'docente-001', None, 'Complete the following exercises based on the course material.', 'active', 'intermedio', '{"allow_retries": true, "max_attempts": 3, "show_solution_after_submit": false}', datetime.datetime(2026, 2, 2, 13, 40, 23, 773121), None, None)
2026-02-02 13:40:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1841 - INSERT INTO exercises_v2 (exercise_id, activity_id, title, description, subject_id, unit_number, difficulty, language, mission_markdown, starter_code, solution_code, test_cases, tags, estimated_time_minutes, deleted_at) VALUES ($1::VARCHAR, $2::VARCH ... 2227 characters truncated ... INTEGER, $150::TIMESTAMP WITH TIME ZONE) RETURNING exercises_v2.created_at, exercises_v2.exercise_id
2026-02-02 13:40:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1841 - [generated in 0.00028s (insertmanyvalues) 1/1 (ordered)] ('40c45cda-8a5b-4158-8d9f-a18306f16ba5', '017e118e-78db-4f09-9bfc-f296703a6eb2', 'Contar n√∫meros pares con continue', 'Usa continue para omitir n√∫meros pares en un rango', None, 1, 'facil', 'python', '## üéØ Objetivo\nImplementa un bucle que imprima solo los n√∫meros impares del 1 al 10 usando la sentencia continue.\n\n## üìã Requisitos\n1. Usa un bucle ... (240 characters truncated) ... *\n1\n3\n5\n7\n9\n\n## üîç Pistas\n- Usa el operador m√≥dulo para identificar n√∫meros pares\n- La sentencia continue debe estar dentro de un condicional', '# Ejercicio: Contar n√∫meros pares con continue\n#\n# Tu tarea:\n# 1. Implementa un bucle for que itere del 1 al 10\n# 2. Usa continue para omitir n√∫meros pares\n# 3. Imprime los n√∫meros impares\n#\n# Tu c√≥digo aqu√≠:\n', '# Ejercicio: Contar n√∫meros pares con continue\n#\n# Implementa un bucle for que itere del 1 al 10\n# Usa continue para omitir n√∫meros pares\n# Impri ... (18 characters truncated) ... ares\n#\nfor numero in range(1, 11):\n    if numero % 2 == 0:\n        continue\n    print(numero)\n\n# Llamada de prueba\nprint("Prueba completada")', '[{"description": "Verifica que se impriman solo n\\u00fameros impares", "input_data": "", "expected_output": "1\\n3\\n5\\n7\\n9\\n", "is_hidden": fal ... (196 characters truncated) ... rifica que se usen las sentencias correctas", "input_data": "", "expected_output": "1\\n3\\n5\\n7\\n9\\n", "is_hidden": false, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, '9f5fad14-1ea2-4c14-8b09-e868709ba8ff', '017e118e-78db-4f09-9bfc-f296703a6eb2', 'Tabla de multiplicar con bucles anidados', 'Crea una tabla de multiplicar usando bucles anidados', None, 1, 'facil', 'python', '## üéØ Objetivo\nImplementa una tabla de multiplicar del 1 al 5 usando bucles anidados.\n\n## üìã Requisitos\n1. Usa un bucle for anidado\n2. Imprime la  ... (495 characters truncated) ... \t5 * 3 = 15\t5 * 4 = 20\t5 * 5 = 25\n\n## üîç Pistas\n- Usa range() para generar los n√∫meros\n- Usa end="\\t" para separar los resultados en una l√≠nea', '# Ejercicio: Tabla de multiplicar con bucles anidados\n#\n# Tu tarea:\n# 1. Implementa un bucle for anidado\n# 2. Imprime la tabla de multiplicar del 1 al 5\n# 3. Formatea la salida para que sea legible\n#\n# Tu c√≥digo aqu√≠:\n', '# Ejercicio: Tabla de multiplicar con bucles anidados\n#\n# Implementa un bucle for anidado\n# Imprime la tabla de multiplicar del 1 al 5\n# Formatea ... (80 characters truncated) ...  6):\n        resultado = i * j\n        print(f"{i} * {j} = {resultado}", end="\\t")\n    print()\n\n# Llamada de prueba\nprint("Prueba completada")', '[{"description": "Verifica que se imprima la tabla de multiplicar correctamente", "input_data": "", "expected_output": "1 * 1 = 1\\t1 * 2 = 2\\t1 * 3 ... (1098 characters truncated) ... t4 * 3 = 12\\t4 * 4 = 16\\t4 * 5 = 20\\n5 * 1 = 5\\t5 * 2 = 10\\t5 * 3 = 15\\t5 * 4 = 20\\t5 * 5 = 25\\n", "is_hidden": false, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, '24e7eac1-f292-4ad9-9371-03e6c11f875a', '017e118e-78db-4f09-9bfc-f296703a6eb2', 'Iterar sobre un diccionario', 'Itera sobre un diccionario y muestra sus claves y valores', None, 1, 'facil', 'python', '## üéØ Objetivo\nItera sobre un diccionario y muestra sus claves y valores.\n\n## üìã Requisitos\n1. Usa un bucle for para iterar sobre el diccionario\n2 ... (314 characters truncated) ... urso, Valor: Programaci√≥n\n\n## üîç Pistas\n- Usa un bucle for para iterar sobre las claves\n- Usa la sintaxis diccionario[clave] para acceder al valor', '# Ejercicio: Iterar sobre un diccionario\n#\n# Tu tarea:\n# 1. Define un diccionario con al menos 3 claves y valores\n# 2. Usa un bucle for para iterar sobre el diccionario\n# 3. Imprime cada clave y su valor correspondiente\n#\n# Tu c√≥digo aqu√≠:\n', '# Ejercicio: Iterar sobre un diccionario\n#\n# Define un diccionario con al menos 3 claves y valores\n# Usa un bucle for para iterar sobre el diccion ... (111 characters truncated) ... Programaci√≥n"}\nfor clave in estudiante:\n    print(f"Clave: {clave}, Valor: {estudiante[clave]}")\n\n# Llamada de prueba\nprint("Prueba completada")', '[{"description": "Verifica que se impriman las claves y valores correctamente", "input_data": "", "expected_output": "Clave: nombre, Valor: Ana\\nCla ... (446 characters truncated) ... utput": "Clave: nombre, Valor: Ana\\nClave: edad, Valor: 20\\nClave: curso, Valor: Programaci\\u00f3n\\n", "is_hidden": false, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, 'f5ce7d49-00b9-478e-9ca3-ab683ddde2bc', '017e118e-78db-4f09-9bfc-f296703a6eb2', 'Bucle while con entrada del usuario', 'Implementa un bucle while que solicite entrada del usuario', None ... 50 parameters truncated ... '# Ejercicio: Iterar sobre una cadena con enumerate\n#\n# Usa un bucle for\n# Usa la funci√≥n enumerate()\n# Imprime el √≠ndice y el car√°cter correspond ... (29 characters truncated) ... nfor indice, caracter in enumerate(palabra):\n    print(f"√çndice: {indice}, Car√°cter: {caracter}")\n\n# Llamada de prueba\nprint("Prueba completada")', '[{"description": "Verifica que se impriman los \\u00edndices y caracteres correctamente", "input_data": "", "expected_output": "\\u00cdndice: 0, Car\ ... (827 characters truncated) ... ndice: 3, Car\\u00e1cter: h\\n\\u00cdndice: 4, Car\\u00e1cter: o\\n\\u00cdndice: 5, Car\\u00e1cter: n\\n", "is_hidden": false, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, '750cbe3a-ac8b-4edc-b668-76dd0a4677dd', '017e118e-78db-4f09-9bfc-f296703a6eb2', 'Bucle for con break y else', 'Implementa un bucle for que use break y else', None, 1, 'dificil', 'python', '## üéØ Objetivo\nImplementa un bucle for que busque un n√∫mero espec√≠fico y use break y else.\n\n## üìã Requisitos\n1. Usa un bucle for\n2. Usa la sentenc ... (382 characters truncated) ...  Usa la sentencia break para terminar el bucle cuando se encuentre el n√∫mero\n- Usa la cl√°usula else para imprimir un mensaje cuando el bucle termine', '# Ejercicio: Bucle for con break y else\n#\n# Tu tarea:\n# 1. Usa un bucle for\n# 2. Usa la sentencia break para terminar el bucle cuando se encuentre el n√∫mero\n# 3. Usa la cl√°usula else para imprimir un mensaje cuando el bucle termine\n#\n# Tu c√≥digo aqu√≠:\n', '# Ejercicio: Bucle for con break y else\n#\n# Usa un bucle for\n# Usa la sentencia break para terminar el bucle cuando se encuentre el n√∫mero\n# Usa  ... (204 characters truncated) ... bucle.")\n        break\nelse:\n    print("El bucle for termin√≥ porque no se encontr√≥ el n√∫mero.")\n\n# Llamada de prueba\nprint("Prueba completada")', '[{"description": "Verifica que el bucle termine cuando se encuentre el n\\u00famero", "input_data": "5", "expected_output": "Encontrado el 5, termina ... (333 characters truncated) ...  bucle no sea infinito", "input_data": "7", "expected_output": "Encontrado el 7, terminando el bucle.\\n", "is_hidden": false, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, 'a3391070-f68f-477c-8e3e-1f813f95c839', '017e118e-78db-4f09-9bfc-f296703a6eb2', 'Bucle while con break y else', 'Implementa un bucle while que use break y else', None, 1, 'dificil', 'python', '## üéØ Objetivo\nImplementa un bucle while que busque un n√∫mero espec√≠fico y use break y else.\n\n## üìã Requisitos\n1. Usa un bucle while\n2. Usa la sen ... (386 characters truncated) ...  Usa la sentencia break para terminar el bucle cuando se encuentre el n√∫mero\n- Usa la cl√°usula else para imprimir un mensaje cuando el bucle termine', '# Ejercicio: Bucle while con break y else\n#\n# Tu tarea:\n# 1. Usa un bucle while\n# 2. Usa la sentencia break para terminar el bucle cuando se encuentre el n√∫mero\n# 3. Usa la cl√°usula else para imprimir un mensaje cuando el bucle termine\n#\n# Tu c√≥digo aqu√≠:\n', '# Ejercicio: Bucle while con break y else\n#\n# Usa un bucle while\n# Usa la sentencia break para terminar el bucle cuando se encuentre el n√∫mero\n#  ... (243 characters truncated) ... ak\n    contador += 1\nelse:\n    print("El bucle while termin√≥ porque no se encontr√≥ el n√∫mero.")\n\n# Llamada de prueba\nprint("Prueba completada")', '[{"description": "Verifica que el bucle termine cuando se encuentre el n\\u00famero", "input_data": "5", "expected_output": "Encontrado el 5, termina ... (335 characters truncated) ...  bucle no sea infinito", "input_data": "7", "expected_output": "Encontrado el 7, terminando el bucle.\\n", "is_hidden": false, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, '4060d53a-c057-4667-90bd-cf9d4ae0f020', '017e118e-78db-4f09-9bfc-f296703a6eb2', 'Comprensi√≥n de lista anidada', 'Crea una matriz de multiplicaci√≥n usando comprensi√≥n de lista anidada', None, 1, 'dificil', 'python', '## üéØ Objetivo\nCrea una matriz de multiplicaci√≥n del 1 al 5 usando comprensi√≥n de lista anidada.\n\n## üìã Requisitos\n1. Usa una comprensi√≥n de lista  ... (385 characters truncated) ...  Usa una comprensi√≥n de lista anidada para generar la matriz\n- Usa una comprensi√≥n de lista interna para calcular el producto de cada par de n√∫meros', '# Ejercicio: Comprensi√≥n de lista anidada\n#\n# Tu tarea:\n# 1. Usa una comprensi√≥n de lista anidada\n# 2. Calcula el producto de cada par de n√∫meros\n# 3. Formatea la salida para que sea legible\n#\n# Tu c√≥digo aqu√≠:\n', '# Ejercicio: Comprensi√≥n de lista anidada\n#\n# Usa una comprensi√≥n de lista anidada\n# Calcula el producto de cada par de n√∫meros\n# Formatea la sal ... (6 characters truncated) ... ra que sea legible\n#\nmatriz = [[i * j for j in range(1, 6)] for i in range(1, 6)]\nprint(matriz)\n\n# Llamada de prueba\nprint("Prueba completada")', '[{"description": "Verifica que la matriz contenga los productos correctos", "input_data": "", "expected_output": "[[1, 2, 3, 4, 5], [2, 4, 6, 8, 10], ... (472 characters truncated) ... ut": "[[1, 2, 3, 4, 5], [2, 4, 6, 8, 10], [3, 6, 9, 12, 15], [4, 8, 12, 16, 20], [5, 10, 15, 20, 25]]\\n", "is_hidden": false, "timeout_seconds": 5}]', '["auto-generated"]', 15, None)
2026-02-02 13:40:23 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.db_persistence - INFO - publish_exercises_to_db:123 - Successfully persisted activity 017e118e-78db-4f09-9bfc-f296703a6eb2 with 10 exercises
2026-02-02 13:40:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:873 - Published exercises to database: 017e118e-78db-4f09-9bfc-f296703a6eb2
2026-02-02 13:40:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - approve_and_publish_exercises:1933 - Published exercises for job 4aeefe6d-ea92-48ab-a949-83e96bce8bf7
2026-02-02 13:40:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 225.6s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:40:25 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:40:30 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:40:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:40:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00352s] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:40:30 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:40:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:40:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02461s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:40:30 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:40:30 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:40:31 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:40:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:40:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 231.4s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:40:31 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:40:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:40:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 231.4s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:40:31 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:40:31 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:40:33 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:40:33 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:40:33 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2.303s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:40:33 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:40:33 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:40:33 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2.311s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:40:33 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:40:33 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:40:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:40:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:40:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 234.3s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:40:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:40:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:40:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 234.3s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:40:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:40:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:40:59 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:41:00 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:41:02 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-02 13:41:57 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:41:58 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:41:58 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 13:41:59 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:41:59 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:41:59 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:41:59 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:41:59 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:41:59 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:41:59 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:41:59 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:41:59 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:41:59 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:41:59 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:41:59 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:41:59 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:41:59 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:42:09 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:42:09 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:42:09 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 13:42:09 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 13:42:58 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:42:59 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:42:59 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 13:42:59 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:42:59 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:42:59 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:42:59 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:42:59 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:42:59 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:42:59 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:42:59 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:42:59 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:42:59 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:42:59 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:42:59 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:42:59 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:42:59 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:43:01 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:43:01 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:43:01 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:43:01 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:43:01 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:43:01 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:43:01 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:43:01 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:43:01 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:43:01 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:43:01 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:43:01 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:43:01 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:43:01 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:43:08 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:43:08 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:43:08 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:43:08 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:43:08 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:43:08 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:43:08 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:43:08 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:43:08 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:43:08 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:43:08 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:43:08 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:43:08 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:43:08 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:43:08 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:43:14 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:43:14 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:43:14 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 13:43:14 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 13:43:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 13:43:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 13:43:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 13:43:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 13:43:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 13:43:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 13:43:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:43:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:43:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00164s] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 13:43:40 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:43:51 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:43:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:43:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00460s] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:43:51 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:43:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:43:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03328s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:43:51 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:43:51 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:43:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:43:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:43:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.75s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:43:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:43:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:43:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.76s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:43:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:43:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:44:02 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:44:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:44:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:44:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 16.22s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:44:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:44:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:44:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 16.23s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:44:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:44:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:44:09 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:44:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:44:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 29.23s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:44:09 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:44:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:44:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 29.23s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:44:09 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:44:09 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:44:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:44:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        
2026-02-02 13:44:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00144s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:44:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:44:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        
2026-02-02 13:44:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.007609s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:44:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_stats:2589 - Failed to get module stats: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        ]
[parameters: ('701c7617-75ea-4caa-89f9-a541f213e03a',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 13:44:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_stats:2589 - Failed to get module stats: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        ]
[parameters: ('701c7617-75ea-4caa-89f9-a541f213e03a',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 13:44:10 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 13:44:10 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 13:44:11 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:44:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:44:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 30.67s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:44:11 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:44:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:44:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 30.68s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:44:11 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:44:11 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.84s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.85s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 33.32s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 33.33s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:44:13 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:44:55 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:44:57 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:44:58 - watchfiles.main - INFO - _log_changes:308 - 13 changes detected
2026-02-02 13:45:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:45:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 87.08s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:45:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:45:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:45:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00277s] ('docente-001',)
2026-02-02 13:45:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:45:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01333s ago] ('docente-001',)
2026-02-02 13:45:40 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:45:40 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:45:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:45:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00264s] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:45:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:45:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01265s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:45:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:45:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:45:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:45:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 116.2s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:45:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:45:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 116.2s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:45:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:45:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.915s ago] ('docente-001',)
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.925s ago] ('docente-001',)
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.856s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.863s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:45:48 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:45:49 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:45:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.833s ago] ('docente-001',)
2026-02-02 13:45:49 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:45:49 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:45:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.785s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:45:49 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:45:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.795s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:45:49 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:45:49 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:45:51 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:45:52 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:45:53 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-02 13:45:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 13:45:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00137s] ('docente@test.com',)
2026-02-02 13:45:57 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:45:58 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:45:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 13:45:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00159s] ('docente-001',)
2026-02-02 13:45:58 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:46:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:46:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:46:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 130.1s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:46:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:46:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:46:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 130.2s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:46:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:46:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 24.26s ago] ('docente-001',)
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 24.28s ago] ('docente-001',)
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 24.25s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 24.25s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:46:05 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:46:45 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:46:48 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:47:17 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:47:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:47:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 206s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:47:17 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:47:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:47:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 206s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:47:17 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:47:17 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:47:31 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:47:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:47:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 231s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:47:31 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:47:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:47:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 231.1s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:47:31 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:47:31 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:47:41 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:47:44 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:47:44 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:48:31 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:49:27 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:49:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:49:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353.8s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:49:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:49:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353.3s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:49:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353.3s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:49:44 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:49:44 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:49:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:49:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 364.9s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:49:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:49:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 364.9s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:49:45 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:49:45 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:49:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 13:49:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00212s] ('test-96acbae653fb',)
2026-02-02 13:49:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 13:49:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0115s ago] ('test-96acbae653fb',)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07125s ago] ('test-96acbae653fb',)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00251s] ('test-96acbae653fb',)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08743s ago] ('test-96acbae653fb',)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0984s ago] ('test-96acbae653fb',)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00201s] ('test-96acbae653fb',)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04316s ago] ('test-96acbae653fb',)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00218s] ('test-96acbae653fb',)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.007448s ago] ('test-96acbae653fb',)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03536s ago] ('test-96acbae653fb',)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00224s] ('test-96acbae653fb',)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.008239s ago] ('test-96acbae653fb',)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:49:53 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 0 sessions for activity test-96acbae653fb
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:49:53 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 0 sessions for activity test-96acbae653fb
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2387s ago] ('test-96acbae653fb',)
2026-02-02 13:49:53 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 13:49:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 13:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 3.218s ago] ('test-96acbae653fb',)
2026-02-02 13:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 13:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 3.098s ago] ('test-96acbae653fb',)
2026-02-02 13:49:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:49:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 13:49:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 241.1s ago] ('docente-001',)
2026-02-02 13:49:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:49:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:49:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 368.6s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:49:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:49:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:49:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:49:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 368.6s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:49:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:50:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:50:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:50:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 379.9s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:50:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:50:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:50:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 379.9s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:50:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:50:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:50:14 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:50:16 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:50:17 - watchfiles.main - INFO - _log_changes:308 - 14 changes detected
2026-02-02 13:50:17 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-02 13:50:17 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:50:23 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:23 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:50:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:50:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:683 - üöÄ Starting graph execution for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:610 - üéØ Executing graph for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:611 - üéØ Initial state phase: ingestion
2026-02-02 13:50:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:308 - Starting PDF ingestion for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:23 - backend.src_v3.infrastructure.ai.rag.document_processor - INFO - process_pdf:88 - Processed PDF '13f8f19b-b941-44d3-a7a5-a5246489a375_Bucles en Python_ Repetici√≥n y Control de Flujo.pdf': 7 pages, 10 chunks
2026-02-02 13:50:23 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:27 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:27 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:50:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:50:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:50:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion
2026-02-02 13:50:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:23.325473'}
2026-02-02 13:50:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 13:50:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:31 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:31 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:50:31 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:50:31 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:33 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:50:33 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion
2026-02-02 13:50:33 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:23.325473'}
2026-02-02 13:50:33 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 13:50:33 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:35 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:35 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - add_documents:90 - Added 10 documents to collection 'job_13f8f19b-b941-44d3-a7a5-a5246489a375_docs'
2026-02-02 13:50:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:333 - PDF ingestion complete for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:571 - üîÄ Routing after ingestion: current_phase=ingestion_complete
2026-02-02 13:50:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:577 - üîÄ ‚Üí Going to generate_draft
2026-02-02 13:50:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:352 - üé® Starting exercise generation for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:38 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:38 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:38 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:50:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:50:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:403 - ü§ñ Calling Mistral AI for job 13f8f19b-b941-44d3-a7a5-a5246489a375...
2026-02-02 13:50:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:50:40 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:50:40 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:50:40 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:50:40 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:42 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:42 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:50:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:50:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:50:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:50:42 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:50:42 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:50:42 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:44 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:44 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:50:44 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:50:44 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:44 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:50:44 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:50:44 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:50:44 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:50:44 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:46 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:46 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:50:46 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:50:46 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:46 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:50:46 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:50:46 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:50:46 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:50:46 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:48 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:48 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:50:48 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:50:48 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:48 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:50:48 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:50:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:50:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:50:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:50 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:50 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:50:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:50:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:50:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:50:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:50:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:50:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:52 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:52 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:50:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:50:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:50:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:50:52 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:50:52 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:50:52 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:54 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:54 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:50:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:50:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:50:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:50:55 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:50:55 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:50:55 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:57 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:57 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:50:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:50:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:50:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:50:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:50:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:50:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:59 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:50:59 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:50:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:50:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:50:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:50:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:50:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:50:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:50:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:01 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:01 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:03 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:03 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:05 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:05 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:05 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:05 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:05 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:07 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:07 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:09 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:09 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:11 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:11 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:12 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:51:12 - watchfiles.main - INFO - _log_changes:308 - 42 changes detected
2026-02-02 13:51:12 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:51:13 - watchfiles.main - INFO - _log_changes:308 - 6 changes detected
2026-02-02 13:51:13 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:13 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:14 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:51:15 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:15 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:17 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:17 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:19 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:20 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:22 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:22 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:24 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:24 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:26 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:26 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:28 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:28 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:30 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:30 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:32 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:32 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:34 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:34 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:34 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:34 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:34 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:37 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:37 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:39 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:39 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:41 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:41 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:43 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:43 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:43 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:43 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:43 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:45 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:45 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:47 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: ingestion_complete
2026-02-02 13:51:47 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:50:35.318901'}
2026-02-02 13:51:47 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:51:47 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:406 - ‚úÖ Mistral responded for job 13f8f19b-b941-44d3-a7a5-a5246489a375, parsing 24362 chars...
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - WARNING - _generate_draft_node:469 - Expected 10 exercises, got 11
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:477 - ‚úÖ Exercise generation complete for job 13f8f19b-b941-44d3-a7a5-a5246489a375: 11 exercises created
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:485 - Exercise generation complete for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:583 - üîÄ Routing after generation: current_phase=generation
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:589 - üîÄ ‚Üí Going to human_review
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:508 - ‚úã Job 13f8f19b-b941-44d3-a7a5-a5246489a375 reached human review checkpoint - execution will stop here
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:514 - üèÅ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 ready for approval with 11 exercises
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:617 - üèÅ Graph execution completed for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:618 - üèÅ Final phase: review
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:619 - üèÅ Awaiting approval: True
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:620 - üèÅ Draft exercises count: 11
2026-02-02 13:51:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:689 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 execution completed
2026-02-02 13:51:47 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - run_generation:1628 - Generation job 13f8f19b-b941-44d3-a7a5-a5246489a375 completed: processing
2026-02-02 13:51:49 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:49 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:51:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 found, phase: review
2026-02-02 13:51:49 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 13f8f19b-b941-44d3-a7a5-a5246489a375: {'job_id': '13f8f19b-b941-44d3-a7a5-a5246489a375', 'current_step': 'review', 'draft_ready': True, 'published': False, 'error': None, 'created_at': '2026-02-02T13:50:23.325464', 'updated_at': '2026-02-02T13:51:47.702760'}
2026-02-02 13:51:49 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 13f8f19b-b941-44d3-a7a5-a5246489a375 - current_step: review, draft_ready: True, published: False
2026-02-02 13:51:49 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'awaiting_approval' for job 13f8f19b-b941-44d3-a7a5-a5246489a375
2026-02-02 13:51:49 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:51:49 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:51:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:51:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:814 - üìù Approving job 13f8f19b-b941-44d3-a7a5-a5246489a375, current phase: review
2026-02-02 13:51:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:824 - ‚úÖ Approving 11 exercises
2026-02-02 13:51:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:834 - üì¶ Extracted 11 exercises for persistence
2026-02-02 13:51:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:846 - ‚úÖ State updated to 'published'
2026-02-02 13:51:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - ERROR - approve_and_publish:885 - CRITICAL AI FAILURE - Approve and publish: Traceback (most recent call last):
  File "/app/backend/src_v3/infrastructure/ai/teacher_generator_graph.py", line 857, in approve_and_publish
    from backend.src_v3.infrastructure.ai.db_persistence import publish_exercises_to_db
  File "/app/backend/src_v3/infrastructure/ai/db_persistence.py", line 34, in <module>
    module_id: Optional[str] = None
               ^^^^^^^^
NameError: name 'Optional' is not defined

2026-02-02 13:51:54 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:51:55 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:51:56 - watchfiles.main - INFO - _log_changes:308 - 15 changes detected
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 494.7s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 494.7s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 506.2s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 506.3s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:52:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 408.8s ago] ('docente-001',)
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 408.8s ago] ('docente-001',)
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 408.8s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 408.8s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:52:29 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:52:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:52:49 - watchfiles.main - INFO - _log_changes:308 - 79 changes detected
2026-02-02 13:52:50 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:52:50 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 13:52:50 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:52:50 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:52:50 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:52:50 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:52:50 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:52:50 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:52:50 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:52:50 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:52:50 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:52:50 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:52:50 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:52:50 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:52:50 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:52:50 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:52:51 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:52:54 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:52:54 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:52:54 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:52:54 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:52:54 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:52:54 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:52:54 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:52:54 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:52:54 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:52:54 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:52:54 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:52:54 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:52:54 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:52:54 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:53:03 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:53:03 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:53:03 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:53:03 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:53:03 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:53:03 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:53:03 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:53:03 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:53:03 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:53:03 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:53:03 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:53:03 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:53:03 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:53:03 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:53:03 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:53:09 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:53:09 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:53:09 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 13:53:09 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 13:53:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 13:53:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 13:53:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 13:53:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 13:53:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 13:53:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 13:53:16 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:53:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:53:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00201s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:53:16 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:53:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 18.34s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:53:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:54:55 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 13:54:56 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:54:56 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:54:56 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:54:56 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:54:56 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:54:56 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:54:56 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:54:56 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:54:56 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:54:56 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:54:56 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:54:56 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:54:56 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:54:56 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:55:03 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:55:04 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:55:04 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:55:04 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:55:04 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:55:04 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:55:04 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:55:04 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:55:04 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:55:04 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:55:04 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:55:04 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:55:04 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:55:04 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:55:04 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:55:10 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:55:10 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:55:10 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 13:55:10 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 13:55:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 13:55:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 13:55:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 13:55:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 13:55:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 13:55:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 13:55:23 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:55:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:55:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00227s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:55:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 1 activities
2026-02-02 13:55:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 13:55:23 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:55:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:55:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 13:55:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00706s] ('docente-001',)
2026-02-02 13:55:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:55:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:55:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:55:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00183s] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:55:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:55:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:55:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR ORDER BY modules.order_index
2026-02-02 13:55:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02978s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 13:55:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:55:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:55:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:55:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00154s] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:55:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:55:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 13:55:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.006584s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 13:55:36 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:55:36 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:55:37 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:55:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:55:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 14.11s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:55:37 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 13:55:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 13:55:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 14.12s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 13:55:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 1 activities
2026-02-02 13:55:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 13:55:37 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:55:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 1 activities
2026-02-02 13:55:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 13:55:37 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 13:55:59 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:56:04 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:04 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:683 - üöÄ Starting graph execution for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:610 - üéØ Executing graph for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:611 - üéØ Initial state phase: ingestion
2026-02-02 13:56:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:308 - Starting PDF ingestion for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:04 - backend.src_v3.infrastructure.ai.rag.document_processor - INFO - process_pdf:88 - Processed PDF 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3_Bucles en Python_ Repetici√≥n y Control de Flujo.pdf': 7 pages, 10 chunks
2026-02-02 13:56:04 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:08 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:08 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:10 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:10 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion
2026-02-02 13:56:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:04.204212'}
2026-02-02 13:56:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 13:56:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:14 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:14 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:14 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:14 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion
2026-02-02 13:56:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:04.204212'}
2026-02-02 13:56:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 13:56:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:17 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:17 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion
2026-02-02 13:56:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:04.204212'}
2026-02-02 13:56:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 13:56:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:17 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:17 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - add_documents:90 - Added 10 documents to collection 'job_c34d88c4-527c-437e-a8fe-39a1ccdc2dd3_docs'
2026-02-02 13:56:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:333 - PDF ingestion complete for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:571 - üîÄ Routing after ingestion: current_phase=ingestion_complete
2026-02-02 13:56:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:577 - üîÄ ‚Üí Going to generate_draft
2026-02-02 13:56:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:352 - üé® Starting exercise generation for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:22 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:22 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:22 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:403 - ü§ñ Calling Mistral AI for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3...
2026-02-02 13:56:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:25 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:25 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:25 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:25 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:25 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:27 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:27 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:27 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:27 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:27 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:29 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:29 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:29 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:29 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:29 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:31 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:31 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:31 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:31 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:31 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:31 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:31 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:31 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:31 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:33 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:33 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:33 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:33 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:33 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:33 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:33 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:33 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:33 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:35 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:35 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:37 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:37 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:39 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:39 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:40 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:40 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:40 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:40 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:40 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:42 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:42 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:42 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:42 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:42 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:44 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:44 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:44 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:44 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:44 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:44 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:44 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:44 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:44 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:46 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:46 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:46 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:46 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:46 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:46 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:46 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:46 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:46 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:48 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:48 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:48 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:48 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:48 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:48 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:50 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:50 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:52 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:52 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:52 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:52 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:52 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:54 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:54 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:54 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:54 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:54 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:56 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:56 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:56 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:56 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:56 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:59 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:56:59 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:56:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:56:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:56:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:56:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:56:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:56:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:56:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:00 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:57:00 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:57:01 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:01 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:01 - watchfiles.main - INFO - _log_changes:308 - 7 changes detected
2026-02-02 13:57:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:02 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:57:03 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:03 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:05 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:05 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:05 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:05 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:05 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:07 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:07 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:09 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:09 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:11 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:11 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:13 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:13 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:15 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:15 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:17 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:17 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:20 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:20 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:22 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:22 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:24 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:24 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:26 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:26 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:28 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:28 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:30 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:30 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:32 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:32 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:34 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:34 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:34 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:34 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:34 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:36 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:36 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:36 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:36 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:36 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:36 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:36 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:36 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:36 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:39 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:39 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:41 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:41 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:43 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:43 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:43 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:43 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:43 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:45 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:45 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:47 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:57:47 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:47 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:47 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:47 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:47 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:49 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:49 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:49 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:49 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:49 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:49 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:57:51 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:51 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:51 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:51 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:51 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:51 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:51 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:51 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:51 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:53 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:53 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: ingestion_complete
2026-02-02 13:57:53 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:56:17.711854'}
2026-02-02 13:57:53 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 13:57:53 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:406 - ‚úÖ Mistral responded for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3, parsing 26953 chars...
2026-02-02 13:57:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - WARNING - _generate_draft_node:469 - Expected 10 exercises, got 11
2026-02-02 13:57:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:477 - ‚úÖ Exercise generation complete for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: 11 exercises created
2026-02-02 13:57:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:485 - Exercise generation complete for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:583 - üîÄ Routing after generation: current_phase=generation
2026-02-02 13:57:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:589 - üîÄ ‚Üí Going to human_review
2026-02-02 13:57:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:508 - ‚úã Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 reached human review checkpoint - execution will stop here
2026-02-02 13:57:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:514 - üèÅ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 ready for approval with 11 exercises
2026-02-02 13:57:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:617 - üèÅ Graph execution completed for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:618 - üèÅ Final phase: review
2026-02-02 13:57:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:619 - üèÅ Awaiting approval: True
2026-02-02 13:57:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:620 - üèÅ Draft exercises count: 11
2026-02-02 13:57:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:689 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 execution completed
2026-02-02 13:57:54 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - run_generation:1628 - Generation job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 completed: processing
2026-02-02 13:57:55 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:55 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 13:57:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 found, phase: review
2026-02-02 13:57:55 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3: {'job_id': 'c34d88c4-527c-437e-a8fe-39a1ccdc2dd3', 'current_step': 'review', 'draft_ready': True, 'published': False, 'error': None, 'created_at': '2026-02-02T13:56:04.204202', 'updated_at': '2026-02-02T13:57:54.588884'}
2026-02-02 13:57:55 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3 - current_step: review, draft_ready: True, published: False
2026-02-02 13:57:55 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'awaiting_approval' for job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3
2026-02-02 13:57:55 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 13:57:55 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 13:57:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 13:57:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:814 - üìù Approving job c34d88c4-527c-437e-a8fe-39a1ccdc2dd3, current phase: review
2026-02-02 13:57:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:824 - ‚úÖ Approving 11 exercises
2026-02-02 13:57:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:834 - üì¶ Extracted 11 exercises for persistence
2026-02-02 13:57:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:846 - ‚úÖ State updated to 'published'
2026-02-02 13:57:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:859 - üíæ Persisting 11 exercises to database...
2026-02-02 13:57:55 - backend.src_v3.infrastructure.ai.db_persistence - INFO - publish_exercises_to_db:55 - Persisting 11 exercises to database
2026-02-02 13:57:55 - backend.src_v3.infrastructure.ai.db_persistence - ERROR - publish_exercises_to_db:139 - Failed to persist exercises to database: 'module_id' is an invalid keyword argument for ActivityModel
Traceback (most recent call last):
  File "/app/backend/src_v3/infrastructure/ai/db_persistence.py", line 59, in publish_exercises_to_db
    activity = ActivityModel(
               ^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'module_id' is an invalid keyword argument for ActivityModel
2026-02-02 13:57:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - ERROR - approve_and_publish:885 - CRITICAL AI FAILURE - Approve and publish: Traceback (most recent call last):
  File "/app/backend/src_v3/infrastructure/ai/db_persistence.py", line 59, in publish_exercises_to_db
    activity = ActivityModel(
               ^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'module_id' is an invalid keyword argument for ActivityModel

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/src_v3/infrastructure/ai/teacher_generator_graph.py", line 862, in approve_and_publish
    persistence_result = await publish_exercises_to_db(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/backend/src_v3/infrastructure/ai/db_persistence.py", line 141, in publish_exercises_to_db
    raise RuntimeError(f"Database persistence failed: {str(e)}")
RuntimeError: Database persistence failed: 'module_id' is an invalid keyword argument for ActivityModel

2026-02-02 13:58:39 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 13:58:41 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:59:28 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 13:59:29 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 13:59:29 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 13:59:29 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:59:29 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:59:29 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:59:29 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:59:29 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:59:29 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:59:29 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:59:29 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:59:29 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:59:29 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:59:29 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:59:29 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:59:29 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:59:29 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:59:35 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:59:36 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:59:36 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 13:59:36 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 13:59:39 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 13:59:40 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:59:40 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:59:40 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:59:40 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:59:40 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:59:40 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:59:40 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:59:40 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:59:40 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:59:40 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:59:40 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:59:40 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:59:40 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:59:40 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:59:48 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:59:49 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:59:49 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:59:49 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:59:49 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:59:49 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:59:49 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:59:49 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:59:49 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 13:59:49 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 13:59:49 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 13:59:49 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 13:59:49 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 13:59:49 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 13:59:49 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 13:59:54 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:59:54 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 13:59:54 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 13:59:54 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 14:00:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 14:00:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 14:00:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 14:00:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 14:00:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 14:00:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 14:00:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:00:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 14:00:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00232s] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 14:00:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:00:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 14:00:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04342s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 14:00:13 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:00:13 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:00:14 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:00:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 14:00:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00148s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:00:14 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:00:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 14:00:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.007666s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:00:14 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 1 activities
2026-02-02 14:00:14 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 14:00:14 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:00:14 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 1 activities
2026-02-02 14:00:14 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 14:00:14 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:00:34 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:00:34 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:00:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:00:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:683 - üöÄ Starting graph execution for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:610 - üéØ Executing graph for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:611 - üéØ Initial state phase: ingestion
2026-02-02 14:00:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:308 - Starting PDF ingestion for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:35 - backend.src_v3.infrastructure.ai.rag.document_processor - INFO - process_pdf:88 - Processed PDF 'e5f3537c-0b06-491f-8351-9497e7e7fde8_Bucles en Python_ Repetici√≥n y Control de Flujo.pdf': 7 pages, 10 chunks
2026-02-02 14:00:35 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:00:37 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:00:37 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:00:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:00:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:00:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion
2026-02-02 14:00:38 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:34.454195'}
2026-02-02 14:00:38 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 14:00:38 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:40 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:00:40 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:00:40 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:00:40 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:00:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion
2026-02-02 14:00:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:34.454195'}
2026-02-02 14:00:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 14:00:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:41 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:00:43 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:00:43 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - add_documents:90 - Added 10 documents to collection 'job_e5f3537c-0b06-491f-8351-9497e7e7fde8_docs'
2026-02-02 14:00:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:333 - PDF ingestion complete for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:571 - üîÄ Routing after ingestion: current_phase=ingestion_complete
2026-02-02 14:00:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:577 - üîÄ ‚Üí Going to generate_draft
2026-02-02 14:00:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:352 - üé® Starting exercise generation for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:47 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:00:47 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:00:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:403 - ü§ñ Calling Mistral AI for job e5f3537c-0b06-491f-8351-9497e7e7fde8...
2026-02-02 14:00:47 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:00:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:00:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:48 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:00:48 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:00:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:00:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:00:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:50 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:00:50 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:00:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:00:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:00:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:00:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:00:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:00:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:52 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:00:52 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:00:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:00:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:00:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:00:52 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:00:52 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:00:52 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:55 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:00:55 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:00:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:00:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:00:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:00:55 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:00:55 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:00:55 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:57 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:00:57 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:00:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:00:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:00:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:00:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:00:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:00:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:59 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:00:59 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:00:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:00:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:00:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:00:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:00:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:00:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:00:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:01 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:01:01 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:01:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:01:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:01:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:01:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:01:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:01:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:03 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:01:03 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:01:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:01:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:01:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:01:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:01:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:01:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:05 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:01:05 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:01:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:01:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:01:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:01:05 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:01:05 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:01:05 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:07 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:01:07 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:01:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:01:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:01:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:01:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:01:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:01:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:09 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:01:09 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:01:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:01:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:01:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:01:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:01:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:01:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:11 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:01:11 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:01:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:01:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:01:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:01:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:01:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:01:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:13 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:01:13 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:01:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:01:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:01:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:01:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:01:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:01:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:16 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:01:16 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:01:16 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:01:16 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:16 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:01:16 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:01:16 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:01:16 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:01:16 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:18 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:01:18 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:01:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:01:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:01:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:01:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:01:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:01:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:20 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:01:20 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:01:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:01:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:01:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:01:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:01:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:01:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:22 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:01:22 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:01:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:01:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:01:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:01:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:01:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:01:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:24 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:01:24 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:01:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:01:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:01:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:01:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:01:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:01:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:26 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:01:26 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:01:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:01:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:01:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: ingestion_complete
2026-02-02 14:01:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:00:43.007648'}
2026-02-02 14:01:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:01:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:406 - ‚úÖ Mistral responded for job e5f3537c-0b06-491f-8351-9497e7e7fde8, parsing 21898 chars...
2026-02-02 14:01:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - WARNING - _generate_draft_node:469 - Expected 10 exercises, got 11
2026-02-02 14:01:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:477 - ‚úÖ Exercise generation complete for job e5f3537c-0b06-491f-8351-9497e7e7fde8: 11 exercises created
2026-02-02 14:01:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:485 - Exercise generation complete for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:583 - üîÄ Routing after generation: current_phase=generation
2026-02-02 14:01:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:589 - üîÄ ‚Üí Going to human_review
2026-02-02 14:01:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:508 - ‚úã Job e5f3537c-0b06-491f-8351-9497e7e7fde8 reached human review checkpoint - execution will stop here
2026-02-02 14:01:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:514 - üèÅ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 ready for approval with 11 exercises
2026-02-02 14:01:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:617 - üèÅ Graph execution completed for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:618 - üèÅ Final phase: review
2026-02-02 14:01:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:619 - üèÅ Awaiting approval: True
2026-02-02 14:01:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:620 - üèÅ Draft exercises count: 11
2026-02-02 14:01:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:689 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 execution completed
2026-02-02 14:01:27 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - run_generation:1628 - Generation job e5f3537c-0b06-491f-8351-9497e7e7fde8 completed: processing
2026-02-02 14:01:28 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:01:28 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:01:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:01:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:01:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 found, phase: review
2026-02-02 14:01:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job e5f3537c-0b06-491f-8351-9497e7e7fde8: {'job_id': 'e5f3537c-0b06-491f-8351-9497e7e7fde8', 'current_step': 'review', 'draft_ready': True, 'published': False, 'error': None, 'created_at': '2026-02-02T14:00:34.454185', 'updated_at': '2026-02-02T14:01:27.791896'}
2026-02-02 14:01:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job e5f3537c-0b06-491f-8351-9497e7e7fde8 - current_step: review, draft_ready: True, published: False
2026-02-02 14:01:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'awaiting_approval' for job e5f3537c-0b06-491f-8351-9497e7e7fde8
2026-02-02 14:01:28 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:01:28 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:01:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:01:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:814 - üìù Approving job e5f3537c-0b06-491f-8351-9497e7e7fde8, current phase: review
2026-02-02 14:01:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:824 - ‚úÖ Approving 11 exercises
2026-02-02 14:01:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:834 - üì¶ Extracted 11 exercises for persistence
2026-02-02 14:01:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:846 - ‚úÖ State updated to 'published'
2026-02-02 14:01:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:859 - üíæ Persisting 11 exercises to database...
2026-02-02 14:01:28 - backend.src_v3.infrastructure.ai.db_persistence - INFO - publish_exercises_to_db:55 - Persisting 11 exercises to database
2026-02-02 14:01:28 - backend.src_v3.infrastructure.ai.db_persistence - ERROR - publish_exercises_to_db:139 - Failed to persist exercises to database: 'description' is an invalid keyword argument for ActivityModel
Traceback (most recent call last):
  File "/app/backend/src_v3/infrastructure/ai/db_persistence.py", line 59, in publish_exercises_to_db
    activity = ActivityModel(
               ^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'description' is an invalid keyword argument for ActivityModel
2026-02-02 14:01:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - ERROR - approve_and_publish:885 - CRITICAL AI FAILURE - Approve and publish: Traceback (most recent call last):
  File "/app/backend/src_v3/infrastructure/ai/db_persistence.py", line 59, in publish_exercises_to_db
    activity = ActivityModel(
               ^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'description' is an invalid keyword argument for ActivityModel

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/src_v3/infrastructure/ai/teacher_generator_graph.py", line 862, in approve_and_publish
    persistence_result = await publish_exercises_to_db(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/backend/src_v3/infrastructure/ai/db_persistence.py", line 141, in publish_exercises_to_db
    raise RuntimeError(f"Database persistence failed: {str(e)}")
RuntimeError: Database persistence failed: 'description' is an invalid keyword argument for ActivityModel

2026-02-02 14:01:36 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 14:01:37 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:01:37 - watchfiles.main - INFO - _log_changes:308 - 6 changes detected
2026-02-02 14:01:39 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:02:22 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 14:02:34 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 14:02:35 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:02:35 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:02:35 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:02:35 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:02:35 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:02:35 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:02:35 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:02:35 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:02:35 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:02:35 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:02:35 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:02:35 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:02:35 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:02:35 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:02:42 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:02:42 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:02:42 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:02:42 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:02:42 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:02:42 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:02:42 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:02:42 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:02:42 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:02:42 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:02:42 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:02:42 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:02:42 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:02:42 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:02:42 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:02:48 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:02:49 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:02:49 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 14:02:49 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 14:02:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 14:02:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 14:02:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 14:02:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 14:02:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 14:02:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 14:02:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:02:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT 1
2026-02-02 14:02:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00137s] ()
2026-02-02 14:02:57 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.01219s] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07571s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00199s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.007396s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:03:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 1 activities
2026-02-02 14:03:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:03:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 1 activities
2026-02-02 14:03:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 14:03:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:03:46 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:03:53 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:03:53 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:03:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:03:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:683 - üöÄ Starting graph execution for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:03:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:610 - üéØ Executing graph for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:03:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:611 - üéØ Initial state phase: ingestion
2026-02-02 14:03:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:308 - Starting PDF ingestion for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:03:54 - backend.src_v3.infrastructure.ai.rag.document_processor - INFO - process_pdf:88 - Processed PDF 'bd54648c-e390-416c-aeac-905389b615a5_Bucles en Python_ Repetici√≥n y Control de Flujo.pdf': 7 pages, 10 chunks
2026-02-02 14:03:54 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:03:57 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:03:57 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:03:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:03:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:03:58 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:03:58 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion
2026-02-02 14:03:58 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:03:53.884212'}
2026-02-02 14:03:58 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 14:03:58 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:00 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:00 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:02 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:02 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion
2026-02-02 14:04:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:03:53.884212'}
2026-02-02 14:04:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion, draft_ready: False, published: False
2026-02-02 14:04:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:04 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:04 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - add_documents:90 - Added 10 documents to collection 'job_bd54648c-e390-416c-aeac-905389b615a5_docs'
2026-02-02 14:04:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:333 - PDF ingestion complete for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:571 - üîÄ Routing after ingestion: current_phase=ingestion_complete
2026-02-02 14:04:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:577 - üîÄ ‚Üí Going to generate_draft
2026-02-02 14:04:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:352 - üé® Starting exercise generation for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:08 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:08 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:08 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:08 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:08 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:08 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:403 - ü§ñ Calling Mistral AI for job bd54648c-e390-416c-aeac-905389b615a5...
2026-02-02 14:04:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:11 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:11 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:13 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:13 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:15 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:15 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:17 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:17 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:19 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:19 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:19 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:19 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:19 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:21 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:21 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:24 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:24 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:26 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:26 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:28 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:28 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:30 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:30 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:32 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:32 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:34 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:34 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:34 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:34 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:34 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:36 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:36 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:36 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:36 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:36 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:36 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:36 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:36 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:36 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:38 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:38 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:38 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:38 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:38 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:40 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:40 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:40 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:40 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:40 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:40 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:40 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:40 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:40 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:42 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: ingestion_complete
2026-02-02 14:04:42 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:04.252106'}
2026-02-02 14:04:42 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:04:42 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:406 - ‚úÖ Mistral responded for job bd54648c-e390-416c-aeac-905389b615a5, parsing 22440 chars...
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:477 - ‚úÖ Exercise generation complete for job bd54648c-e390-416c-aeac-905389b615a5: 10 exercises created
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:485 - Exercise generation complete for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:583 - üîÄ Routing after generation: current_phase=generation
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:589 - üîÄ ‚Üí Going to human_review
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:508 - ‚úã Job bd54648c-e390-416c-aeac-905389b615a5 reached human review checkpoint - execution will stop here
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:514 - üèÅ Job bd54648c-e390-416c-aeac-905389b615a5 ready for approval with 10 exercises
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:617 - üèÅ Graph execution completed for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:618 - üèÅ Final phase: review
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:619 - üèÅ Awaiting approval: True
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:620 - üèÅ Draft exercises count: 10
2026-02-02 14:04:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:689 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 execution completed
2026-02-02 14:04:42 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - run_generation:1628 - Generation job bd54648c-e390-416c-aeac-905389b615a5 completed: processing
2026-02-02 14:04:44 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 14:04:44 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 14:04:44 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:44 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:44 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:04:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job bd54648c-e390-416c-aeac-905389b615a5 found, phase: review
2026-02-02 14:04:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job bd54648c-e390-416c-aeac-905389b615a5: {'job_id': 'bd54648c-e390-416c-aeac-905389b615a5', 'current_step': 'review', 'draft_ready': True, 'published': False, 'error': None, 'created_at': '2026-02-02T14:03:53.884176', 'updated_at': '2026-02-02T14:04:42.989409'}
2026-02-02 14:04:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job bd54648c-e390-416c-aeac-905389b615a5 - current_step: review, draft_ready: True, published: False
2026-02-02 14:04:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'awaiting_approval' for job bd54648c-e390-416c-aeac-905389b615a5
2026-02-02 14:04:45 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:04:45 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:04:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:04:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:814 - üìù Approving job bd54648c-e390-416c-aeac-905389b615a5, current phase: review
2026-02-02 14:04:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:824 - ‚úÖ Approving 10 exercises
2026-02-02 14:04:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:834 - üì¶ Extracted 10 exercises for persistence
2026-02-02 14:04:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:846 - ‚úÖ State updated to 'published'
2026-02-02 14:04:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:859 - üíæ Persisting 10 exercises to database...
2026-02-02 14:04:45 - backend.src_v3.infrastructure.ai.db_persistence - INFO - publish_exercises_to_db:55 - Persisting 10 exercises to database
2026-02-02 14:04:45 - backend.src_v3.infrastructure.ai.db_persistence - ERROR - publish_exercises_to_db:139 - Failed to persist exercises to database: 'description' is an invalid keyword argument for ActivityModel
Traceback (most recent call last):
  File "/app/backend/src_v3/infrastructure/ai/db_persistence.py", line 59, in publish_exercises_to_db
    activity = ActivityModel(
               ^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'description' is an invalid keyword argument for ActivityModel
2026-02-02 14:04:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - ERROR - approve_and_publish:885 - CRITICAL AI FAILURE - Approve and publish: Traceback (most recent call last):
  File "/app/backend/src_v3/infrastructure/ai/db_persistence.py", line 59, in publish_exercises_to_db
    activity = ActivityModel(
               ^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'description' is an invalid keyword argument for ActivityModel

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/src_v3/infrastructure/ai/teacher_generator_graph.py", line 862, in approve_and_publish
    persistence_result = await publish_exercises_to_db(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/backend/src_v3/infrastructure/ai/db_persistence.py", line 141, in publish_exercises_to_db
    raise RuntimeError(f"Database persistence failed: {str(e)}")
RuntimeError: Database persistence failed: 'description' is an invalid keyword argument for ActivityModel

2026-02-02 14:04:45 - watchfiles.main - INFO - _log_changes:308 - 7 changes detected
2026-02-02 14:04:47 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:05:36 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 14:06:25 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 14:06:26 - watchfiles.main - INFO - _log_changes:308 - 35 changes detected
2026-02-02 14:07:14 - watchfiles.main - INFO - _log_changes:308 - 124 changes detected
2026-02-02 14:07:15 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 14:07:15 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:07:15 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:07:15 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:07:15 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:07:15 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:07:15 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:07:15 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:07:15 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:07:15 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:07:15 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:07:15 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:07:15 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:07:15 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:07:15 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:07:15 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 14:07:15 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:07:15 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:07:15 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:07:15 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:07:15 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:07:15 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:07:15 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:07:15 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:07:15 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:07:15 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:07:15 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:07:15 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:07:15 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:07:15 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:07:21 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:07:21 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:07:21 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 14:07:21 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 14:07:23 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:07:23 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:07:23 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:07:23 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:07:23 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:07:23 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:07:23 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:07:23 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:07:23 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:07:23 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:07:23 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:07:23 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:07:23 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:07:23 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:07:30 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:07:31 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:07:31 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:07:31 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:07:31 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:07:31 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:07:31 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:07:31 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:07:31 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:07:31 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:07:31 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:07:31 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:07:31 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:07:31 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:07:31 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:07:36 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:07:37 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:07:37 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 14:07:37 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 14:07:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 14:07:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 14:07:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 14:07:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 14:07:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 14:07:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 14:07:38 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:07:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT 1
2026-02-02 14:07:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00159s] ()
2026-02-02 14:07:38 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:08:19 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:08:19 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:08:19 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 14:08:20 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:08:20 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:08:20 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:08:20 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:08:20 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:08:20 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:08:20 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:08:20 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:08:20 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:08:20 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:08:20 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:08:20 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:08:20 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:08:20 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:08:29 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:08:30 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:08:30 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:08:30 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:08:30 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:08:30 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:08:30 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:08:30 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:08:30 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:08:30 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:08:30 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:08:30 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:08:30 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:08:30 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:08:30 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:08:36 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:08:36 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:08:36 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 14:08:36 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 14:09:16 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:09:16 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:09:16 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:09:16 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:09:16 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:09:16 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:09:16 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:09:16 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:09:16 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:09:16 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:09:16 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:09:16 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:09:16 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:09:16 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:09:23 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:09:23 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:09:23 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:09:23 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:09:23 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:09:23 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:09:23 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:09:23 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:09:23 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:09:23 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:09:23 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:09:23 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:09:23 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:09:23 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:09:23 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:09:29 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:09:29 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:09:29 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 14:09:29 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 14:10:12 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:10:12 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 14:10:12 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:10:12 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:10:12 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:10:12 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:10:12 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:10:12 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:10:12 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:10:12 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:10:12 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:10:12 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:10:12 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:10:12 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:10:12 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:10:12 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:10:12 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:10:13 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:10:13 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:10:13 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:10:13 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:10:13 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:10:13 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:10:13 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:10:13 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:10:13 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:10:13 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:10:13 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:10:13 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:10:13 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:10:13 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:10:14 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:10:14 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:10:14 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:10:14 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:10:14 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:10:14 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:10:14 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:10:14 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:10:14 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:10:14 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:10:14 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:10:14 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:10:14 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:10:14 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:10:21 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:10:21 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:10:21 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:10:21 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:10:21 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:10:21 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:10:21 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:10:21 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:10:21 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:10:21 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:10:21 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:10:21 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:10:21 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:10:21 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:10:21 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:10:28 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:10:28 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:10:28 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 14:10:28 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 14:11:11 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:11:11 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 14:11:11 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:11:11 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:11:11 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:11:11 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:11:11 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:11:11 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:11:11 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:11:11 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:11:11 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:11:11 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:11:11 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:11:11 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:11:11 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:11:11 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:11:11 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:11:11 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:11:11 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:11:11 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:11:11 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:11:11 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:11:11 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:11:11 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:11:11 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:11:11 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:11:11 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:11:11 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:11:11 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:11:11 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:11:11 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:11:18 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:11:18 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:11:18 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 14:11:18 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 14:11:26 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 14:11:27 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:11:27 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:11:27 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:11:27 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:11:27 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:11:27 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:11:27 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:11:27 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:11:27 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:11:27 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:11:27 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:11:27 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:11:27 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:11:27 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:11:35 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:11:35 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:11:35 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:11:35 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:11:35 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:11:35 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:11:35 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:11:35 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:11:35 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 14:11:35 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 14:11:35 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 14:11:35 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 14:11:35 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 14:11:35 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 14:11:35 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 14:11:41 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:11:41 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 14:11:41 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 14:11:41 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 14:12:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 14:12:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 14:12:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 14:12:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 14:12:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 14:12:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 14:12:11 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:12:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT 1
2026-02-02 14:12:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00143s] ()
2026-02-02 14:12:11 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:12:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:12:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 14:12:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00455s] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 14:12:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:12:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 14:12:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07499s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 14:12:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:12:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:12:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:12:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 14:12:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00132s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:12:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:12:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 14:12:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.007771s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:12:40 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 2 activities
2026-02-02 14:12:40 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 2 activities
2026-02-02 14:12:40 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:12:40 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 2 activities
2026-02-02 14:12:40 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 2 activities
2026-02-02 14:12:40 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:13:00 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:00 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:683 - üöÄ Starting graph execution for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:610 - üéØ Executing graph for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:611 - üéØ Initial state phase: ingestion
2026-02-02 14:13:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:308 - Starting PDF ingestion for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:01 - backend.src_v3.infrastructure.ai.rag.document_processor - INFO - process_pdf:88 - Processed PDF '1e960d3b-ba41-4840-a2a3-1fe33b53416e_Bucles en Python_ Repetici√≥n y Control de Flujo.pdf': 7 pages, 10 chunks
2026-02-02 14:13:01 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:06 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:06 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:06 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:06 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion
2026-02-02 14:13:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:00.957771'}
2026-02-02 14:13:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion, draft_ready: False, published: False
2026-02-02 14:13:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:10 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:10 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:10 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:10 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:10 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:10 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion
2026-02-02 14:13:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:00.957771'}
2026-02-02 14:13:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion, draft_ready: False, published: False
2026-02-02 14:13:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:12 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:12 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:12 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:12 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:12 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:12 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion
2026-02-02 14:13:12 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:00.957771'}
2026-02-02 14:13:12 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion, draft_ready: False, published: False
2026-02-02 14:13:12 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:13 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:13 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - add_documents:90 - Added 10 documents to collection 'job_1e960d3b-ba41-4840-a2a3-1fe33b53416e_docs'
2026-02-02 14:13:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:333 - PDF ingestion complete for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:571 - üîÄ Routing after ingestion: current_phase=ingestion_complete
2026-02-02 14:13:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:577 - üîÄ ‚Üí Going to generate_draft
2026-02-02 14:13:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:352 - üé® Starting exercise generation for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:17 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:17 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:17 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:403 - ü§ñ Calling Mistral AI for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e...
2026-02-02 14:13:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:20 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:20 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:22 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:22 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:24 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:24 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:26 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:26 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:28 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:28 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:30 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:30 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:32 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 14:13:32 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 14:13:32 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:32 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:33 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:13:33 - watchfiles.main - INFO - _log_changes:308 - 6 changes detected
2026-02-02 14:13:34 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:13:35 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:35 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:37 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:37 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:37 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:39 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:39 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:41 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:41 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:43 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:43 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:43 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:43 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:43 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:43 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:45 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:45 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:45 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:47 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:47 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:47 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:47 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:47 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:47 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:49 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:49 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:49 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:49 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:49 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:51 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:51 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:51 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:51 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:51 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:51 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:51 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:51 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:51 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:53 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:53 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:53 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:53 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:54 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:56 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:56 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:56 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:56 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:56 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:58 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:13:58 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:13:58 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:13:58 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:13:58 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:13:58 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:13:58 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:13:58 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:13:58 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:00 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:00 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:14:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:14:00 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:14:00 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:14:00 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:02 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:02 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:02 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:02 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:02 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:14:02 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:14:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:14:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:14:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:04 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:04 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:14:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:14:04 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:14:04 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:14:04 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:06 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:06 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:06 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:06 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:06 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:14:06 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:14:06 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:14:06 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:14:06 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:08 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:08 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:08 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:08 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:08 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:14:08 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:14:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:14:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:14:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:10 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:10 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:10 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:10 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:10 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:14:10 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:14:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:14:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:14:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:12 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:12 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:12 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:12 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:12 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:14:12 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:14:12 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:14:12 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:14:12 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:14 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:14 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:14 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:14 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:14 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:14:14 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:14:14 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:14:14 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:14:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:17 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:17 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:14:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:14:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:14:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:14:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:19 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:19 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:14:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:14:19 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:14:19 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:14:19 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:19 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 14:14:21 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:21 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:14:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:14:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:14:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:14:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:21 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:14:23 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:23 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:14:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:14:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:14:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:14:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:25 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:25 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:14:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:14:25 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:14:25 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:14:25 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:27 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:27 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:14:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: ingestion_complete
2026-02-02 14:14:27 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:13:13.084735'}
2026-02-02 14:14:27 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 14:14:27 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:406 - ‚úÖ Mistral responded for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e, parsing 27470 chars...
2026-02-02 14:14:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - WARNING - _generate_draft_node:469 - Expected 10 exercises, got 11
2026-02-02 14:14:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:477 - ‚úÖ Exercise generation complete for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: 11 exercises created
2026-02-02 14:14:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:485 - Exercise generation complete for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:583 - üîÄ Routing after generation: current_phase=generation
2026-02-02 14:14:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:589 - üîÄ ‚Üí Going to human_review
2026-02-02 14:14:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:508 - ‚úã Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e reached human review checkpoint - execution will stop here
2026-02-02 14:14:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:514 - üèÅ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e ready for approval with 11 exercises
2026-02-02 14:14:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:617 - üèÅ Graph execution completed for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:618 - üèÅ Final phase: review
2026-02-02 14:14:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:619 - üèÅ Awaiting approval: True
2026-02-02 14:14:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:620 - üèÅ Draft exercises count: 11
2026-02-02 14:14:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:689 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e execution completed
2026-02-02 14:14:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - run_generation:1628 - Generation job 1e960d3b-ba41-4840-a2a3-1fe33b53416e completed: processing
2026-02-02 14:14:29 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e found, phase: review
2026-02-02 14:14:29 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e: {'job_id': '1e960d3b-ba41-4840-a2a3-1fe33b53416e', 'current_step': 'review', 'draft_ready': True, 'published': False, 'error': None, 'created_at': '2026-02-02T14:13:00.957750', 'updated_at': '2026-02-02T14:14:28.239878'}
2026-02-02 14:14:29 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job 1e960d3b-ba41-4840-a2a3-1fe33b53416e - current_step: review, draft_ready: True, published: False
2026-02-02 14:14:29 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'awaiting_approval' for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:29 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:814 - üìù Approving job 1e960d3b-ba41-4840-a2a3-1fe33b53416e, current phase: review
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:824 - ‚úÖ Approving 11 exercises
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:834 - üì¶ Extracted 11 exercises for persistence
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:846 - ‚úÖ State updated to 'published'
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:859 - üíæ Persisting 11 exercises to database...
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.db_persistence - INFO - publish_exercises_to_db:54 - Persisting 11 exercises to database
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.db_persistence - INFO - publish_exercises_to_db:80 - Created activity: fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 14:14:29 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO activities (activity_id, title, subject, unit_id, teacher_id, course_id, module_id, order_index, instructions, status, difficulty_level, policies, start_date, end_date, deleted_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::INTEGER, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::JSONB, $13::TIMESTAMP WITH TIME ZONE, $14::TIMESTAMP WITH TIME ZONE, $15::TIMESTAMP WITH TIME ZONE) RETURNING activities.created_at
2026-02-02 14:14:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00150s] ('fd176d58-08a8-4e99-a81f-381ee0aed044', 'Bucles', 'Actividad generada autom√°ticamente sobre Unidad 1 ', '1', 'docente-001', None, '701c7617-75ea-4caa-89f9-a541f213e03a', 0, 'Complete the following exercises based on the course material.', 'active', 'intermedio', '{"allow_retries": true, "max_attempts": 3, "show_solution_after_submit": false}', datetime.datetime(2026, 2, 2, 14, 14, 29, 933554), None, None)
2026-02-02 14:14:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1841 - INSERT INTO exercises_v2 (exercise_id, activity_id, title, description, subject_id, unit_number, difficulty, language, mission_markdown, starter_code, solution_code, test_cases, tags, estimated_time_minutes, deleted_at) VALUES ($1::VARCHAR, $2::VARCH ... 2467 characters truncated ... INTEGER, $165::TIMESTAMP WITH TIME ZONE) RETURNING exercises_v2.created_at, exercises_v2.exercise_id
2026-02-02 14:14:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1841 - [generated in 0.00032s (insertmanyvalues) 1/1 (ordered)] ('a62d0872-b7d1-450c-a5d9-f49efaa0ebfd', 'fd176d58-08a8-4e99-a81f-381ee0aed044', 'Iteraci√≥n sobre una lista con for', 'Iterar sobre una lista e imprimir cada elemento con un mensaje personalizado.', None, 1, 'facil', 'python', "## üéØ Objetivo\nIterar sobre una lista de frutas e imprimir cada una con un mensaje personalizado.\n\n## üìã Requisitos\n1. Define una lista de frutas.\ ... (354 characters truncated) ... ana\nMe gusta comer cereza\n\n## üîç Pistas\n- Usa un bucle for para recorrer la lista.\n- Aseg√∫rate de imprimir cada elemento con el mensaje correcto.", "# Ejercicio: Iteraci√≥n sobre una lista con for\n#\n# Tu tarea:\n# 1. Define una lista de frutas.\n# 2. Usa un bucle for para iterar sobre la lista.\n# 3. Imprime cada fruta con el mensaje 'Me gusta comer [fruta]'.\n#\n# Escribe tu c√≥digo aqu√≠:\n", '# Ejercicio: Iteraci√≥n sobre una lista con for\n#\n# Tu tarea:\n# 1. Define una lista de frutas.\n# 2. Usa un bucle for para iterar sobre la lista.\n ... (28 characters truncated) ... el mensaje \'Me gusta comer [fruta]\'.\n#\nfrutas = [\'manzana\', \'banana\', \'cereza\']\nfor fruta in frutas:\n    print(f"Me gusta comer {fruta}")', '[{"description": "Test b\\u00e1sico con lista de frutas", "input_data": "[\'manzana\', \'banana\', \'cereza\']", "expected_output": "Me gusta comer m ... (237 characters truncated) ... cription": "Test con una sola fruta", "input_data": "[\'pera\']", "expected_output": "Me gusta comer pera", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, 'a4d411f1-3a5e-4302-a89a-06e43eb0a528', 'fd176d58-08a8-4e99-a81f-381ee0aed044', 'Uso de continue en un bucle for', 'Imprimir solo los n√∫meros impares de una lista usando la sentencia continue.', None, 1, 'facil', 'python', '## üéØ Objetivo\nImprimir solo los n√∫meros impares de una lista usando la sentencia continue.\n\n## üìã Requisitos\n1. Define una lista de n√∫meros.\n2. U ... (293 characters truncated) ... lida esperada:**\n1\n3\n5\n\n## üîç Pistas\n- Usa el operador % para verificar si un n√∫mero es par.\n- La sentencia continue salta la iteraci√≥n actual.', '# Ejercicio: Uso de continue en un bucle for\n#\n# Tu tarea:\n# 1. Define una lista de n√∫meros.\n# 2. Usa un bucle for para iterar sobre la lista.\n# 3. Usa la sentencia continue para omitir los n√∫meros pares.\n# 4. Imprime solo los n√∫meros impares.\n#\n# Escribe tu c√≥digo aqu√≠:\n', '# Ejercicio: Uso de continue en un bucle for\n#\n# Tu tarea:\n# 1. Define una lista de n√∫meros.\n# 2. Usa un bucle for para iterar sobre la lista.\n# ... (70 characters truncated) ... rime solo los n√∫meros impares.\n#\nnumeros = [1, 2, 3, 4, 5, 6]\nfor numero in numeros:\n    if numero % 2 == 0:\n        continue\n    print(numero)', '[{"description": "Test b\\u00e1sico con n\\u00fameros pares e impares", "input_data": "[1, 2, 3, 4, 5, 6]", "expected_output": "1\\n3\\n5", "is_hidde ... (196 characters truncated) ... ": "Test con solo n\\u00fameros impares", "input_data": "[1, 3, 5, 7]", "expected_output": "1\\n3\\n5\\n7", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, 'd38450a6-54c5-4f24-a556-0c82f1662d34', 'fd176d58-08a8-4e99-a81f-381ee0aed044', 'Bucles anidados para tabla de multiplicar', 'Imprimir una tabla de multiplicar b√°sica usando bucles anidados.', None, 1, 'facil', 'python', "## üéØ Objetivo\nImprimir una tabla de multiplicar b√°sica usando bucles anidados.\n\n## üìã Requisitos\n1. Usa un bucle for anidado para generar una tabl ... (380 characters truncated) ... 1 = 3\t3 * 2 = 6\t3 * 3 = 9\n\n## üîç Pistas\n- Usa un bucle for para las filas y otro para las columnas.\n- Usa end='\\t' para alinear los resultados.", "# Ejercicio: Bucles anidados para tabla de multiplicar\n#\n# Tu tarea:\n# 1. Usa un bucle for anidado para generar una tabla de multiplicar de 3x3.\n# 2. Imprime cada resultado en el formato 'i * j = resultado'.\n# 3. Usa tabulaciones para alinear los resultados.\n#\n# Escribe tu c√≥digo aqu√≠:\n", '# Ejercicio: Bucles anidados para tabla de multiplicar\n#\n# Tu tarea:\n# 1. Usa un bucle for anidado para generar una tabla de multiplicar de 3x3.\n ... (114 characters truncated) ... s.\n#\nfor i in range(1, 4):\n    for j in range(1, 4):\n        resultado = i * j\n        print(f"{i} * {j} = {resultado}", end="\\t")\n    print()', '[{"description": "Test b\\u00e1sico de tabla de multiplicar 3x3", "input_data": "N/A", "expected_output": "1 * 1 = 1\\t1 * 2 = 2\\t1 * 3 = 3\\n2 * 1  ... (483 characters truncated) ... = 8\\n3 * 1 = 3\\t3 * 2 = 6\\t3 * 3 = 9\\t3 * 4 = 12\\n4 * 1 = 4\\t4 * 2 = 8\\t4 * 3 = 12\\t4 * 4 = 16\\n", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, '43c7feb1-bcce-4f37-a4f8-d4a57151a480', 'fd176d58-08a8-4e99-a81f-381ee0aed044', 'Uso de break en un bucle for', 'Detener un bucle for cuando se encuentra un n√∫mero espec√≠fico.', None ... 65 parameters truncated ... '# Ejercicio: Uso de la funci√≥n range() con bucles for\n#\n# Tu tarea:\n# 1. Usa un bucle for para imprimir n√∫meros del 0 al 4.\n# 2. Usa un bucle for ... (222 characters truncated) ... de 2 a 8\nfor num in range(2, 9):\n    print(num)\n\n# Ejemplo 3: Contar de 10 a 0 de 2 en 2 (descendente)\nfor j in range(10, -1, -2):\n    print(j)', '[{"description": "Test b\\u00e1sico con secuencias de n\\u00fameros", "input_data": "N/A", "expected_output": "Contador: 0\\nContador: 1\\nContador:  ... (438 characters truncated) ... a de 5 a 15", "input_data": "N/A", "expected_output": "5\\n6\\n7\\n8\\n9\\n10\\n11\\n12\\n13\\n14\\n15\\n", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, '43528fde-d2ad-4f6c-a90c-a6a7ce1d39ac', 'fd176d58-08a8-4e99-a81f-381ee0aed044', 'Comprensiones de lista con bucles for', 'Crear una lista de cuadrados usando comprensiones de lista.', None, 1, 'dificil', 'python', '## üéØ Objetivo\nCrear una lista de cuadrados usando comprensiones de lista.\n\n## üìã Requisitos\n1. Define una lista de n√∫meros.\n2. Usa una comprensi√≥ ... (290 characters truncated) ... 6, 25]\n\n## üîç Pistas\n- Usa una comprensi√≥n de lista para crear la nueva lista.\n- Aseg√∫rate de que la comprensi√≥n de lista sea concisa y eficiente.', '# Ejercicio: Comprensiones de lista con bucles for\n#\n# Tu tarea:\n# 1. Define una lista de n√∫meros.\n# 2. Usa una comprensi√≥n de lista para crear una nueva lista con los cuadrados de los n√∫meros.\n# 3. Imprime la lista resultante.\n#\n# Escribe tu c√≥digo aqu√≠:\n', '# Ejercicio: Comprensiones de lista con bucles for\n#\n# Tu tarea:\n# 1. Define una lista de n√∫meros.\n# 2. Usa una comprensi√≥n de lista para crear u ... (19 characters truncated) ... los cuadrados de los n√∫meros.\n# 3. Imprime la lista resultante.\n#\nnumeros = [1, 2, 3, 4, 5]\ncuadrados = [x**2 for x in numeros]\nprint(cuadrados)', '[{"description": "Test b\\u00e1sico con lista de n\\u00fameros", "input_data": "[1, 2, 3, 4, 5]", "expected_output": "[1, 4, 9, 16, 25]", "is_hidden" ... (197 characters truncated) ...  de n\\u00fameros negativos", "input_data": "[-1, -2, -3, -4, -5]", "expected_output": "[1, 4, 9, 16, 25]", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, '5c3fd7e6-002d-4e02-a56c-a0c41009d583', 'fd176d58-08a8-4e99-a81f-381ee0aed044', 'Bucles anidados para matriz de sumas', 'Crear una matriz de sumas usando bucles anidados.', None, 1, 'dificil', 'python', '## üéØ Objetivo\nCrear una matriz de sumas usando bucles anidados.\n\n## üìã Requisitos\n1. Define dos listas de n√∫meros.\n2. Usa bucles anidados para cr ... (219 characters truncated) ... da:**\n[5, 7, 9]\n\n## üîç Pistas\n- Usa bucles anidados para recorrer ambas listas.\n- Aseg√∫rate de que la matriz resultante tenga el tama√±o correcto.', '# Ejercicio: Bucles anidados para matriz de sumas\n#\n# Tu tarea:\n# 1. Define dos listas de n√∫meros.\n# 2. Usa bucles anidados para crear una matriz de sumas.\n# 3. Imprime la matriz resultante.\n#\n# Escribe tu c√≥digo aqu√≠:\n', '# Ejercicio: Bucles anidados para matriz de sumas\n#\n# Tu tarea:\n# 1. Define dos listas de n√∫meros.\n# 2. Usa bucles anidados para crear una matriz ... (72 characters truncated) ... ista2 = [4, 5, 6]\nmatriz_suma = []\nfor i in range(len(lista1)):\n    suma = lista1[i] + lista2[i]\n    matriz_suma.append(suma)\nprint(matriz_suma)', '[{"description": "Test b\\u00e1sico con dos listas de n\\u00fameros", "input_data": "[1, 2, 3]\\n[4, 5, 6]", "expected_output": "[5, 7, 9]", "is_hidd ... (203 characters truncated) ... nds": 5}, {"description": "Test con listas vac\\u00edas", "input_data": "[]\\n[]", "expected_output": "[]", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, 'd4162804-36d3-4842-b77a-8b468fd97efa', 'fd176d58-08a8-4e99-a81f-381ee0aed044', 'Uso de enumerate() en bucles for', 'Iterar sobre una lista usando enumerate() para obtener √≠ndices y valores.', None, 1, 'dificil', 'python', "## üéØ Objetivo\nIterar sobre una lista usando enumerate() para obtener √≠ndices y valores.\n\n## üìã Requisitos\n1. Define una lista de frutas.\n2. Usa u ... (316 characters truncated) ... \n1: banana\n2: cereza\n\n## üîç Pistas\n- Usa enumerate() para obtener √≠ndices y valores.\n- Aseg√∫rate de imprimir el √≠ndice y el valor correctamente.", '# Ejercicio: Uso de enumerate() en bucles for\n#\n# Tu tarea:\n# 1. Define una lista de frutas.\n# 2. Usa un bucle for con enumerate() para iterar sobre la lista.\n# 3. Imprime el √≠ndice y el valor de cada elemento.\n#\n# Escribe tu c√≥digo aqu√≠:\n', '# Ejercicio: Uso de enumerate() en bucles for\n#\n# Tu tarea:\n# 1. Define una lista de frutas.\n# 2. Usa un bucle for con enumerate() para iterar so ... (42 characters truncated) ...  valor de cada elemento.\n#\nfrutas = [\'manzana\', \'banana\', \'cereza\']\nfor indice, valor in enumerate(frutas):\n    print(f"{indice}: {valor}")', '[{"description": "Test b\\u00e1sico con lista de frutas", "input_data": "[\'manzana\', \'banana\', \'cereza\']", "expected_output": "0: manzana\\n1:  ... (204 characters truncated) ... cription": "Test con lista de una sola fruta", "input_data": "[\'pera\']", "expected_output": "0: pera\\n", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None)
2026-02-02 14:14:29 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.db_persistence - INFO - publish_exercises_to_db:126 - Successfully persisted activity fd176d58-08a8-4e99-a81f-381ee0aed044 with 11 exercises
2026-02-02 14:14:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:876 - Published exercises to database: fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 14:14:29 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - approve_and_publish_exercises:1938 - Published exercises for job 1e960d3b-ba41-4840-a2a3-1fe33b53416e
2026-02-02 14:14:31 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 14:14:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:14:31 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 14:14:31 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 14:14:31 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00175s] ('test-96acbae653fb',)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.008567s ago] ('test-96acbae653fb',)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00231s] ('test-96acbae653fb',)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03764s ago] ('test-96acbae653fb',)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00288s] ('test-96acbae653fb',)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00173s] ('test-96acbae653fb',)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01285s ago] ('test-96acbae653fb',)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.092s ago] ('test-96acbae653fb',)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00207s] ('test-96acbae653fb',)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 0 sessions for activity test-96acbae653fb
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06761s ago] ('test-96acbae653fb',)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1365s ago] ('test-96acbae653fb',)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05061s ago] ('test-96acbae653fb',)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1613s ago] ('test-96acbae653fb',)
2026-02-02 14:14:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 0 sessions for activity test-96acbae653fb
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1972s ago] ('test-96acbae653fb',)
2026-02-02 14:14:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 14:14:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00198s] ('docente-001',)
2026-02-02 14:14:36 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:37 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 14:14:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 117.7s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 14:14:37 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 14:14:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 117.8s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 14:14:37 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:37 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 14:14:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 119.2s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:14:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 14:14:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 119.2s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:14:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 14:14:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 14:14:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 14:14:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 14:14:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.911s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.916s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.921s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.907s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.869s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.886s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.884s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.958s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.963s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.868s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.977s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.92s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:41 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 0 sessions for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.974s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.899s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:41 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 0 sessions for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 14:14:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:54 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 14:14:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.55s ago] ('docente-001',)
2026-02-02 14:14:54 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:54 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 14:14:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.2s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 14:14:55 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 14:14:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.2s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 14:14:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 14:14:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 136.7s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:14:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 14:14:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 136.7s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:14:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 14:14:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 14:14:57 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 14:14:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 14:14:57 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.1s ago] ('b40365af-2276-4d8f-afa6-8a840e21267e',)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.1s ago] ('b40365af-2276-4d8f-afa6-8a840e21267e',)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.11s ago] ('b40365af-2276-4d8f-afa6-8a840e21267e',)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.05s ago] ('b40365af-2276-4d8f-afa6-8a840e21267e',)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.13s ago] ('b40365af-2276-4d8f-afa6-8a840e21267e',)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.07s ago] ('b40365af-2276-4d8f-afa6-8a840e21267e',)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.12s ago] ('b40365af-2276-4d8f-afa6-8a840e21267e',)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.14s ago] ('b40365af-2276-4d8f-afa6-8a840e21267e',)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.15s ago] ('b40365af-2276-4d8f-afa6-8a840e21267e',)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.05s ago] ('b40365af-2276-4d8f-afa6-8a840e21267e',)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.14s ago] ('b40365af-2276-4d8f-afa6-8a840e21267e',)
2026-02-02 14:14:59 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 0 sessions for activity b40365af-2276-4d8f-afa6-8a840e21267e
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.11s ago] ('b40365af-2276-4d8f-afa6-8a840e21267e',)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.12s ago] ('b40365af-2276-4d8f-afa6-8a840e21267e',)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.09s ago] ('b40365af-2276-4d8f-afa6-8a840e21267e',)
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:14:59 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 0 sessions for activity b40365af-2276-4d8f-afa6-8a840e21267e
2026-02-02 14:14:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:15:05 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:15:05 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 14:15:05 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 28.49s ago] ('docente-001',)
2026-02-02 14:15:05 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:15:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:15:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 14:15:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 146.3s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 14:15:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:15:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:15:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 14:15:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 146.3s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 14:15:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:15:07 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 148s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 148s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:15:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 14:15:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:15:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 14:15:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00115s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.007746s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:15:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_stats:2592 - Failed to get module stats: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        ]
[parameters: ('701c7617-75ea-4caa-89f9-a541f213e03a',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:15:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_stats:2592 - Failed to get module stats: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        ]
[parameters: ('701c7617-75ea-4caa-89f9-a541f213e03a',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 14:15:08 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 14:15:09 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:15:09 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 14:15:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:15:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 14:15:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 149.7s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:15:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:15:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 14:15:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 149.7s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 14:15:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 14:15:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 14:15:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:15:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 14:15:10 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 14:15:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:15:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:15:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 14:15:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00205s] ('alumno@test.com',)
2026-02-02 14:15:14 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00222s] ('alumno-001', 'ACTIVE')
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01068s ago] ('alumno-001', 'ACTIVE')
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00173s] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR AND modules.is_published = true ORDER BY modules.order_index
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00200s] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01802s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR AND modules.is_published = true ORDER BY modules.order_index
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01695s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03535s ago] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR AND modules.is_published = true ORDER BY modules.order_index
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03442s ago] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0505s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR AND modules.is_published = true ORDER BY modules.order_index
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0521s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00193s] ('alumno-001',)
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03754s ago] ('alumno-001',)
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 14:15:15 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:12:54 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 15:12:55 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 15:12:56 - watchfiles.main - INFO - _log_changes:308 - 11 changes detected
2026-02-02 15:12:56 - watchfiles.main - INFO - _log_changes:308 - 6 changes detected
2026-02-02 15:12:56 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 15:13:45 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:14:29 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:15:13 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:15:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:15:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 15:15:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 183.9s ago] ('alumno-001', 'ACTIVE')
2026-02-02 15:15:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:15:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 183.9s ago] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 15:15:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR AND modules.is_published = true ORDER BY modules.order_index
2026-02-02 15:15:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 183.9s ago] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 15:15:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:15:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 183.9s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 15:15:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.course_id = $1::VARCHAR AND modules.is_published = true ORDER BY modules.order_index
2026-02-02 15:15:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 183.9s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 15:15:13 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:16:01 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:16:16 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 15:16:18 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:16:18 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:16:18 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:16:18 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:16:18 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:16:18 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:16:18 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:16:18 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:16:18 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:16:18 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:16:18 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:16:18 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:16:18 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:16:18 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:16:25 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 15:16:25 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:16:25 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:16:25 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:16:25 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:16:25 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:16:25 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:16:25 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:16:25 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:16:25 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:16:25 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:16:25 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:16:25 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:16:25 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:16:25 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:16:31 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 15:16:31 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 15:16:31 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 15:16:31 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00333s] ('alumno-001', 'ACTIVE')
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00167s] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00197s] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01716s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01497s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:16:44 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:17:10 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 15:17:10 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 15:17:11 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:17:11 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:17:11 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:17:11 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:17:11 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:17:11 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:17:11 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:17:11 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:17:11 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:17:11 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:17:11 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:17:11 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:17:11 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:17:11 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:17:18 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:17:18 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:17:18 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:17:18 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:17:18 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:17:18 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:17:18 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:17:18 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:17:18 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:17:18 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:17:18 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:17:18 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:17:18 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:17:18 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:17:25 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 15:17:25 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:17:25 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:17:25 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:17:25 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:17:25 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:17:25 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:17:25 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:17:25 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:17:25 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:17:25 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:17:25 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:17:25 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:17:25 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:17:25 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:17:31 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 15:17:31 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 15:17:31 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 15:17:31 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00175s] ('alumno-001', 'ACTIVE')
2026-02-02 15:18:14 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 2 enrollments for student alumno-001
2026-02-02 15:18:14 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 309fd23a-eebf-496c-b939-fb482aa83100
2026-02-02 15:18:14 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 701c7617-75ea-4caa-89f9-a541f213e03a
2026-02-02 15:18:14 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 2 courses
2026-02-02 15:18:14 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894: 1 modules
2026-02-02 15:18:14 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a882f15f-d3ea-4105-b759-99c564e59758: 1 modules
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00418s] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00374s] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01761s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:18:14 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 60.93s ago] ('alumno-001', 'ACTIVE')
2026-02-02 15:19:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 2 enrollments for student alumno-001
2026-02-02 15:19:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 309fd23a-eebf-496c-b939-fb482aa83100
2026-02-02 15:19:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 701c7617-75ea-4caa-89f9-a541f213e03a
2026-02-02 15:19:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 2 courses
2026-02-02 15:19:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894: 1 modules
2026-02-02 15:19:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a882f15f-d3ea-4105-b759-99c564e59758: 1 modules
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 60.9s ago] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 60.9s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00157s] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 60.92s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 60.92s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02072s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:19:15 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.36s ago] ('alumno-001', 'ACTIVE')
2026-02-02 15:19:22 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 2 enrollments for student alumno-001
2026-02-02 15:19:22 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 309fd23a-eebf-496c-b939-fb482aa83100
2026-02-02 15:19:22 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 701c7617-75ea-4caa-89f9-a541f213e03a
2026-02-02 15:19:22 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 2 courses
2026-02-02 15:19:22 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894: 1 modules
2026-02-02 15:19:22 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a882f15f-d3ea-4105-b759-99c564e59758: 1 modules
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.33s ago] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.33s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.429s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.35s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.34s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.442s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:19:22 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 79.42s ago] ('alumno-001', 'ACTIVE')
2026-02-02 15:19:34 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 2 enrollments for student alumno-001
2026-02-02 15:19:34 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 309fd23a-eebf-496c-b939-fb482aa83100
2026-02-02 15:19:34 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 701c7617-75ea-4caa-89f9-a541f213e03a
2026-02-02 15:19:34 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 2 courses
2026-02-02 15:19:34 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894: 1 modules
2026-02-02 15:19:34 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a882f15f-d3ea-4105-b759-99c564e59758: 1 modules
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 79.39s ago] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 79.39s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 18.49s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 79.42s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 79.41s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 18.51s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00168s] ('alumno-001',)
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04666s ago] ('alumno-001',)
2026-02-02 15:19:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00585s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01414s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07869s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.09008s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00167s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.007001s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00186s] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01516s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:19:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:19:52 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:19:53 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 15:19:54 - watchfiles.main - INFO - _log_changes:308 - 11 changes detected
2026-02-02 15:19:54 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-02 15:19:54 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 15:19:57 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - __init__:90 - MistralProvider initialized
2026-02-02 15:19:58 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 15:19:58 - backend.src_v3.infrastructure.ai.rag.chroma_service - WARNING - __init__:43 - ChromaDB not available: {"error":"ChromaError","message":"Collection [ai_native_rag] already exists"} (trace ID: 00000000000000000000000000000000). RAG disabled.
2026-02-02 15:19:58 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - __init__:90 - MistralProvider initialized
2026-02-02 15:19:58 - backend.src_v3.application.student.use_cases - INFO - execute:122 - üí¨ SendMessage: session_id=1bf8ce71-7a17-45f5-a3d5-2435e06db39c, message=holaaa
2026-02-02 15:19:58 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:19:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT session_id, user_id, activity_id, mode, status, 
                   cognitive_status, session_metrics, start_time, end_time
            FROM sessions_v2
            WHERE session_id = $1
        
2026-02-02 15:19:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00168s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 15:19:58 - backend.src_v3.application.student.use_cases - INFO - execute:126 - üì¶ Session found: True
2026-02-02 15:19:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT trace_id, session_id, interaction_type, interactional_data, timestamp
            FROM cognitive_traces_v2
            WHERE session_id = $1 
            AND interaction_type IN ('student_message', 'tutor_response', 'student_prompt')
            ORDER BY timestamp ASC
            LIMIT $2
        
2026-02-02 15:19:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00580s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 50)
2026-02-02 15:19:58 - backend.src_v3.application.student.use_cases - INFO - execute:134 - üìú History length: 0
2026-02-02 15:19:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-02 15:19:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00310s] ('2cf617f4-7b4c-4fa9-8c3c-75bcd73e96ff', '1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'surface', 'student_message', '{"content": "holaaa", "metadata": {"current_code": "# Ejercicio: Uso de enumerate() en bucles for\\n#\\n# Tu tarea:\\n# 1. Define una lista de frutas ... (162 characters truncated) ... aqu\\u00ed:\\n", "error_context": null, "rag_context": null, "frustration_level": 0.0, "understanding_level": 0.5, "cognitive_phase": "exploration"}}')
2026-02-02 15:19:58 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:19:59 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - generate:268 - Mistral request successful
2026-02-02 15:19:59 - backend.src_v3.infrastructure.ai.agents - INFO - respond:163 - socratic_tutor_llm_call
2026-02-02 15:19:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:19:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-02 15:19:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7508s ago] ('fe4a7738-2e98-4db4-91e8-42987eef5aa3', '1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'surface', 'tutor_response', '{"content": "\\u00a1Hola! \\u00bfQu\\u00e9 sabes sobre el m\\u00e9todo `enumerate()` en Python? \\u00bfHas visto algo similar antes?", "metadata": {" ... (275 characters truncated) ... aqu\\u00ed:\\n", "error_context": null, "rag_context": null, "frustration_level": 0.0, "understanding_level": 0.5, "cognitive_phase": "exploration"}}')
2026-02-02 15:19:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:19:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:19:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT session_metrics FROM sessions_v2 WHERE session_id = $1
2026-02-02 15:19:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00138s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 15:19:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                UPDATE sessions_v2 
                SET session_metrics = CAST($1 AS jsonb)
                WHERE session_id = $2
            
2026-02-02 15:19:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00333s] ('{"hints_used": 0, "errors_encountered": 0, "total_interactions": 0}', '1bf8ce71-7a17-45f5-a3d5-2435e06db39c')
2026-02-02 15:19:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:19:59 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - generate:268 - Mistral request successful
2026-02-02 15:20:00 - backend.src_v3.infrastructure.ai.agents - INFO - analyze_session:519 - governance_llm_call
2026-02-02 15:20:00 - backend.src_v3.infrastructure.ai.agents - WARNING - _parse_response:543 - Failed to parse governance JSON: Expecting value: line 1 column 1 (char 0)
2026-02-02 15:20:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:20:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-02 15:20:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.573s ago] ('83a494fd-d6fb-4718-bd29-5a8cfc04d7d3', '1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'meta', 'governance_log', '{"risk_level": "medium", "dimension": "ai_dependency", "evidence": ["```json\\n{\\n  \\"risk_level\\": \\"INFO\\",\\n  \\"dimension\\": \\"Bienestar  ... (157 characters truncated) ... con la sesi\\u00f3n"], "recommendation": "No se pudo interpretar correctamente la salida del LLM. Usar juicio docente para revisar la sesi\\u00f3n."}')
2026-02-02 15:20:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:20:02 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - __init__:90 - MistralProvider initialized
2026-02-02 15:20:02 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:447 - --- SUBMIT CODE CMD --- Session: 1bf8ce71-7a17-45f5-a3d5-2435e06db39c, Final: True
2026-02-02 15:20:02 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:451 - Submitting code for session 1bf8ce71-7a17-45f5-a3d5-2435e06db39c, exercise d4162804-36d3-4842-b77a-8b468fd97efa
2026-02-02 15:20:02 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:20:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT session_id, user_id, activity_id, mode, status, 
                   cognitive_status, session_metrics, start_time, end_time
            FROM sessions_v2
            WHERE session_id = $1
        
2026-02-02 15:20:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 4.209s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 15:20:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE exercise_id = $1
                
2026-02-02 15:20:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00215s] ('d4162804-36d3-4842-b77a-8b468fd97efa',)
2026-02-02 15:20:02 - backend.src_v3.infrastructure.sandbox.service - INFO - execute_code:165 - sandbox_execution
2026-02-02 15:20:03 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - generate:268 - Mistral request successful
2026-02-02 15:20:03 - backend.src_v3.infrastructure.ai.agents - INFO - audit:375 - code_auditor_llm_call
2026-02-02 15:20:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-02 15:20:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 5.507s ago] ('274a5e87-ebce-4c8d-b53e-b80b61c6cec5', '1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'surface', 'tutor_response', '{"content": "**Evaluaci\\u00f3n IA:** 0/100\\n\\n**An\\u00e1lisis:** El c\\u00f3digo no cumple con la consigna ya que no se ha implementado ninguna s ... (686 characters truncated) ...  aqu\\u00ed:\\n", "error_context": null, "rag_context": null, "frustration_level": 0.0, "understanding_level": 0.5, "cognitive_phase": "validation"}}')
2026-02-02 15:20:03 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:20:03 - backend.src_v3.application.student.use_cases - INFO - execute:428 - === EXERCISE ATTEMPT SAVE CHECK === exercise_id=d4162804-36d3-4842-b77a-8b468fd97efa, session=True
2026-02-02 15:20:03 - backend.src_v3.application.student.use_cases - INFO - execute:431 - Saving exercise attempt: session_id=1bf8ce71-7a17-45f5-a3d5-2435e06db39c, user_id=alumno-001, exercise_id=d4162804-36d3-4842-b77a-8b468fd97efa, grade=0
2026-02-02 15:20:03 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:20:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO exercise_attempts_v2 
            (attempt_id, session_id, user_id, exercise_id, code_submitted, passed, grade, ai_feedback, execution_output, submitted_at)
            VALUES ($1, $2, NULL, $3, $4, $5, $6, $7, CAST($8 AS jsonb), NOW())
        
2026-02-02 15:20:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00129s] ('cc53a258-33d4-40fa-86da-5c5b80acaa0d', '1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'd4162804-36d3-4842-b77a-8b468fd97efa', '# Ejercicio: Uso de enumerate() en bucles for\n#\n# Tu tarea:\n# 1. Define una lista de frutas.\n# 2. Usa un bucle for con enumerate() para iterar sobre la lista.\n# 3. Imprime el √≠ndice y el valor de cada elemento.\n#\n# Escribe tu c√≥digo aqu√≠:\n', False, 0, 'El c√≥digo no cumple con la consigna ya que no se ha implementado ninguna soluci√≥n. Adem√°s, hay un error de sintaxis en el c√≥digo de referencia proporcionado, lo cual no es responsabilidad del estudiante pero afecta la ejecuci√≥n.', '{"exit_code": 1, "stdout": "", "stderr": "  File \\"<string>\\", line 23\\n    expected = 0: manzana\\n                ^\\nSyntaxError: invalid syntax\\n"}')
2026-02-02 15:20:03 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:20:03 - backend.src_v3.application.student.use_cases - INFO - execute:447 - Exercise attempt saved successfully!
2026-02-02 15:20:03 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:458 - Submit execution success. Result keys: dict_keys(['grade', 'feedback', 'suggestion', 'tests_passed', 'passed', 'details', 'execution'])
2026-02-02 15:20:03 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:462 - Performing Full Activity Audit (Final Submission detected)
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:471 - Fetching session context for 1bf8ce71-7a17-45f5-a3d5-2435e06db39c
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT activity_id, user_id FROM sessions_v2 WHERE session_id = $1
                
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00152s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:479 - Context found: Activity=fd176d58-08a8-4e99-a81f-381ee0aed044, Student=alumno-001
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:483 - Saving 11 exercise codes from frontend
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaci√≥n', $4, $5)
                                    
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00125s] ('alumno-001', 'a62d0872-b7d1-450c-a5d9-f49efaa0ebfd', "# Ejercicio: Iteraci√≥n sobre una lista con for\n#\n# Tu tarea:\n# 1. Define una lista de frutas.\n# 2. Usa un bucle for para iterar sobre la lista.\n# 3. Imprime cada fruta con el mensaje 'Me gusta comer [fruta]'.\n#\n# Escribe tu c√≥digo aqu√≠:\n", datetime.datetime(2026, 2, 2, 15, 20, 10, 527515), '1bf8ce71-7a17-45f5-a3d5-2435e06db39c')
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:499 - Saved code for exercise a62d0872-b7d1-450c-a5d9-f49efaa0ebfd
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaci√≥n', $4, $5)
                                    
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.009636s ago] ('alumno-001', 'a4d411f1-3a5e-4302-a89a-06e43eb0a528', '# Ejercicio: Uso de continue en un bucle for\n#\n# Tu tarea:\n# 1. Define una lista de n√∫meros.\n# 2. Usa un bucle for para iterar sobre la lista.\n# 3. Usa la sentencia continue para omitir los n√∫meros pares.\n# 4. Imprime solo los n√∫meros impares.\n#\n# Escribe tu c√≥digo aqu√≠:\n', datetime.datetime(2026, 2, 2, 15, 20, 10, 535811), '1bf8ce71-7a17-45f5-a3d5-2435e06db39c')
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:499 - Saved code for exercise a4d411f1-3a5e-4302-a89a-06e43eb0a528
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaci√≥n', $4, $5)
                                    
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01448s ago] ('alumno-001', 'd38450a6-54c5-4f24-a556-0c82f1662d34', "# Ejercicio: Bucles anidados para tabla de multiplicar\n#\n# Tu tarea:\n# 1. Usa un bucle for anidado para generar una tabla de multiplicar de 3x3.\n# 2. Imprime cada resultado en el formato 'i * j = resultado'.\n# 3. Usa tabulaciones para alinear los resultados.\n#\n# Escribe tu c√≥digo aqu√≠:\n", datetime.datetime(2026, 2, 2, 15, 20, 10, 540897), '1bf8ce71-7a17-45f5-a3d5-2435e06db39c')
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:499 - Saved code for exercise d38450a6-54c5-4f24-a556-0c82f1662d34
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaci√≥n', $4, $5)
                                    
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02098s ago] ('alumno-001', '43c7feb1-bcce-4f37-a4f8-d4a57151a480', '# Ejercicio: Uso de break en un bucle for\n#\n# Tu tarea:\n# 1. Define una lista de n√∫meros.\n# 2. Usa un bucle for para iterar sobre la lista.\n# 3. ... (15 characters truncated) ... ia break para detener el bucle cuando encuentres el n√∫mero 5.\n# 4. Imprime un mensaje cuando se encuentre el n√∫mero.\n#\n# Escribe tu c√≥digo aqu√≠:\n', datetime.datetime(2026, 2, 2, 15, 20, 10, 546761), '1bf8ce71-7a17-45f5-a3d5-2435e06db39c')
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:499 - Saved code for exercise 43c7feb1-bcce-4f37-a4f8-d4a57151a480
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaci√≥n', $4, $5)
                                    
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02763s ago] ('alumno-001', 'b84a2ab2-7d60-47d6-80eb-41580934e0e5', '# Ejercicio: Iteraci√≥n sobre un diccionario\n#\n# Tu tarea:\n# 1. Define un diccionario con informaci√≥n de un estudiante.\n# 2. Usa un bucle for para ... (74 characters truncated) ... ar sobre los valores del diccionario.\n# 4. Usa un bucle for para iterar sobre los pares clave-valor del diccionario.\n#\n# Escribe tu c√≥digo aqu√≠:\n', datetime.datetime(2026, 2, 2, 15, 20, 10, 552079), '1bf8ce71-7a17-45f5-a3d5-2435e06db39c')
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:499 - Saved code for exercise b84a2ab2-7d60-47d6-80eb-41580934e0e5
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaci√≥n', $4, $5)
                                    
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03403s ago] ('alumno-001', '3fd18688-061a-4f58-bdcc-955731f507d6', '# Ejercicio: Uso de la cl√°usula else en un bucle for\n#\n# Tu tarea:\n# 1. Define una lista de n√∫meros.\n# 2. Usa un bucle for para iterar sobre la lista.\n# 3. Usa la cl√°usula else para imprimir un mensaje cuando el bucle termine sin interrupciones.\n#\n# Escribe tu c√≥digo aqu√≠:\n', datetime.datetime(2026, 2, 2, 15, 20, 10, 559900), '1bf8ce71-7a17-45f5-a3d5-2435e06db39c')
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:499 - Saved code for exercise 3fd18688-061a-4f58-bdcc-955731f507d6
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaci√≥n', $4, $5)
                                    
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04009s ago] ('alumno-001', 'fd3f0f88-a816-4941-a97b-8bfd7d07d975', '# Ejercicio: Bucles anidados para generar patrones\n#\n# Tu tarea:\n# 1. Usa un bucle for anidado para generar un tri√°ngulo de asteriscos.\n# 2. El tri√°ngulo debe tener 5 filas.\n# 3. Cada fila debe tener un n√∫mero creciente de asteriscos.\n#\n# Escribe tu c√≥digo aqu√≠:\n', datetime.datetime(2026, 2, 2, 15, 20, 10, 566355), '1bf8ce71-7a17-45f5-a3d5-2435e06db39c')
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:499 - Saved code for exercise fd3f0f88-a816-4941-a97b-8bfd7d07d975
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaci√≥n', $4, $5)
                                    
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04707s ago] ('alumno-001', 'c4d687a5-c68c-470f-bb12-4a955b2d9827', '# Ejercicio: Uso de la funci√≥n range() con bucles for\n#\n# Tu tarea:\n# 1. Usa un bucle for para imprimir n√∫meros del 0 al 4.\n# 2. Usa un bucle for para imprimir n√∫meros del 2 al 8.\n# 3. Usa un bucle for para imprimir n√∫meros del 10 al 0 de 2 en 2 (descendente).\n#\n# Escribe tu c√≥digo aqu√≠:\n', datetime.datetime(2026, 2, 2, 15, 20, 10, 571959), '1bf8ce71-7a17-45f5-a3d5-2435e06db39c')
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:499 - Saved code for exercise c4d687a5-c68c-470f-bb12-4a955b2d9827
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaci√≥n', $4, $5)
                                    
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05267s ago] ('alumno-001', '43528fde-d2ad-4f6c-a90c-a6a7ce1d39ac', '# Ejercicio: Comprensiones de lista con bucles for\n#\n# Tu tarea:\n# 1. Define una lista de n√∫meros.\n# 2. Usa una comprensi√≥n de lista para crear una nueva lista con los cuadrados de los n√∫meros.\n# 3. Imprime la lista resultante.\n#\n# Escribe tu c√≥digo aqu√≠:\n', datetime.datetime(2026, 2, 2, 15, 20, 10, 579092), '1bf8ce71-7a17-45f5-a3d5-2435e06db39c')
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:499 - Saved code for exercise 43528fde-d2ad-4f6c-a90c-a6a7ce1d39ac
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaci√≥n', $4, $5)
                                    
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05895s ago] ('alumno-001', '5c3fd7e6-002d-4e02-a56c-a0c41009d583', '# Ejercicio: Bucles anidados para matriz de sumas\n#\n# Tu tarea:\n# 1. Define dos listas de n√∫meros.\n# 2. Usa bucles anidados para crear una matriz de sumas.\n# 3. Imprime la matriz resultante.\n#\n# Escribe tu c√≥digo aqu√≠:\n', datetime.datetime(2026, 2, 2, 15, 20, 10, 584034), '1bf8ce71-7a17-45f5-a3d5-2435e06db39c')
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:499 - Saved code for exercise 5c3fd7e6-002d-4e02-a56c-a0c41009d583
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaci√≥n', $4, $5)
                                    
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06368s ago] ('alumno-001', 'd4162804-36d3-4842-b77a-8b468fd97efa', '# Ejercicio: Uso de enumerate() en bucles for\n#\n# Tu tarea:\n# 1. Define una lista de frutas.\n# 2. Usa un bucle for con enumerate() para iterar sobre la lista.\n# 3. Imprime el √≠ndice y el valor de cada elemento.\n#\n# Escribe tu c√≥digo aqu√≠:\n', datetime.datetime(2026, 2, 2, 15, 20, 10, 590016), '1bf8ce71-7a17-45f5-a3d5-2435e06db39c')
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:499 - Saved code for exercise d4162804-36d3-4842-b77a-8b468fd97efa
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:504 - All exercise codes saved successfully
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        WITH latest_attempts AS (
                            SELECT 
                                exercise_id,
                                code_submitted,
                                passed,
                                submitted_at,
                                ROW_NUMBER() OVER (PARTITION BY exercise_id ORDER BY submitted_at DESC) as rn
                            FROM exercise_attempts_v2
                            WHERE user_id = $1
                        )
                        SELECT 
                            e.exercise_id,
                            e.title,
                            e.difficulty,
                            COALESCE(la.code_submitted, '') as code_submitted,
                            COALESCE(la.passed, false) as passed
                        FROM exercises_v2 e
                        LEFT JOIN latest_attempts la ON e.exercise_id = la.exercise_id AND la.rn = 1
                        WHERE e.activity_id = $2 AND e.deleted_at IS NULL
                        ORDER BY e.unit_number
                    
2026-02-02 15:20:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00129s] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:20:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:575 - Mistral Key Present: True, Length: 32
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00168s] (0, 'El ejercicio est√° vac√≠o. Falta definir una lista de frutas y usar un bucle for para iterar e imprimir cada fruta con el mensaje solicitado.', False, 'a62d0872-b7d1-450c-a5d9-f49efaa0ebfd', 'alumno-001')
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.008185s ago] (0, 'El ejercicio est√° vac√≠o. Falta definir una lista de n√∫meros, iterar con un bucle for y usar continue para omitir n√∫meros pares, imprimiendo solo los impares.', False, 'a4d411f1-3a5e-4302-a89a-06e43eb0a528', 'alumno-001')
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01263s ago] (0, 'El ejercicio est√° vac√≠o. Falta implementar bucles anidados para generar una tabla de multiplicar de 3x3 con el formato y alineaci√≥n solicitados.', False, 'd38450a6-54c5-4f24-a556-0c82f1662d34', 'alumno-001')
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01797s ago] (0, 'El ejercicio est√° vac√≠o. Falta definir una lista de n√∫meros, iterar con un bucle for y usar break para detener el bucle al encontrar el n√∫mero 5, imprimiendo un mensaje.', False, '43c7feb1-bcce-4f37-a4f8-d4a57151a480', 'alumno-001')
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02214s ago] (0, 'El ejercicio est√° vac√≠o. Falta definir un diccionario e implementar tres bucles for para iterar sobre claves, valores y pares clave-valor.', False, 'b84a2ab2-7d60-47d6-80eb-41580934e0e5', 'alumno-001')
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02811s ago] (0, 'El ejercicio est√° vac√≠o. Falta definir una lista de n√∫meros, iterar con un bucle for y usar la cl√°usula else para imprimir un mensaje al finalizar sin interrupciones.', False, '3fd18688-061a-4f58-bdcc-955731f507d6', 'alumno-001')
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03256s ago] (0, 'El ejercicio est√° vac√≠o. Falta implementar bucles anidados para generar un tri√°ngulo de 5 filas con asteriscos crecientes.', False, 'fd3f0f88-a816-4941-a97b-8bfd7d07d975', 'alumno-001')
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03667s ago] (0, 'El ejercicio est√° vac√≠o. Falta usar bucles for con range() para imprimir n√∫meros en los rangos especificados (0-4, 2-8 y 10-0 de 2 en 2).', False, 'c4d687a5-c68c-470f-bb12-4a955b2d9827', 'alumno-001')
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04181s ago] (0, 'El ejercicio est√° vac√≠o. Falta definir una lista de n√∫meros y usar una comprensi√≥n de lista para generar una nueva lista con los cuadrados de los n√∫meros.', False, '43528fde-d2ad-4f6c-a90c-a6a7ce1d39ac', 'alumno-001')
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04923s ago] (0, 'El ejercicio est√° vac√≠o. Falta definir dos listas de n√∫meros e implementar bucles anidados para crear y imprimir una matriz de sumas.', False, '5c3fd7e6-002d-4e02-a56c-a0c41009d583', 'alumno-001')
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05412s ago] (0, 'El ejercicio est√° vac√≠o. Falta definir una lista de frutas y usar enumerate() en un bucle for para imprimir el √≠ndice y valor de cada elemento.', False, 'd4162804-36d3-4842-b77a-8b468fd97efa', 'alumno-001')
2026-02-02 15:20:24 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:637 - Starting risk analysis for session 1bf8ce71-7a17-45f5-a3d5-2435e06db39c
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                SELECT COUNT(*) FROM cognitive_traces_v2 
                                WHERE session_id = $1 AND interaction_type = 'tutor_response'
                            
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00182s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 15:20:24 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:646 - Tutor messages: 2
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                SELECT interactional_data->>'content' as content
                                FROM cognitive_traces_v2
                                WHERE session_id = $1 AND interaction_type = 'student_message'
                                ORDER BY timestamp
                            
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00158s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 15:20:24 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:657 - Student messages count: 1
2026-02-02 15:20:24 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:662 - Total submissions (exercises): 11
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                INSERT INTO risks_v2 
                                (risk_id, session_id, activity_id, risk_level, risk_dimension, description, recommendations, resolved, created_at)
                                VALUES ($1, $2, $3, $4, $5, $6, $7, false, NOW())
                            
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00172s] ('76ea4e50-559d-40c7-b03b-9401668888bc', '1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044', 'low', 'ai_dependency', 'Uso apropiado de IA (score: 0/100). Consultas conceptuales y trabajo aut√≥nomo.', '{"risk_score": 0, "ai_dependency_ratio": 0.18, "tutor_messages": 2, "code_submissions": 11, "code_requests": 0, "code_request_ratio": 0.0, "profanity ... (170 characters truncated) ... s ejercicios propuestos. Es fundamental comenzar a practicar los conceptos b\\u00e1sicos de bucles en Python para avanzar en la programaci\\u00f3n."}')
2026-02-02 15:20:24 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:799 - Risk analysis complete: level=low, score=0, code_requests=0, profanity=0
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                INSERT INTO submissions (
                                    submission_id, student_id, activity_id, code_snapshot,
                                    status, submitted_at, auto_grade, final_grade, ai_feedback,
                                    created_at, updated_at
                                )
                                VALUES ($1, $2, $3, $4, $5, $6, 
                                        $7, $8, $9, NOW(), NOW())
                                ON CONFLICT (submission_id) DO UPDATE SET
                                    final_grade = EXCLUDED.final_grade,
                                    ai_feedback = EXCLUDED.ai_feedback,
                                    updated_at = NOW()
                            
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00274s] ('14f53507-8561-4d51-982f-dd283ccde1fc', 'alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044', '', 'submitted', datetime.datetime(2026, 2, 2, 15, 20, 24, 174056), 0, 0, 'El estudiante no ha intentado ninguno de los ejercicios propuestos. Es fundamental comenzar a practicar los conceptos b√°sicos de bucles en Python para avanzar en la programaci√≥n.')
2026-02-02 15:20:24 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:20:24 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:829 - Full activity audit completed. Risk level: low, AI dependency: 0.18, Final grade: 0
2026-02-02 15:20:36 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 15:20:37 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:20:38 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 15:20:38 - watchfiles.main - INFO - _log_changes:308 - 6 changes detected
2026-02-02 15:20:39 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 15:21:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:21:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 15:21:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00184s] ('alumno@test.com',)
2026-02-02 15:21:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 166.3s ago] ('alumno-001', 'ACTIVE')
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 166.3s ago] ('alumno-001', 'ACTIVE')
2026-02-02 15:21:01 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 2 enrollments for student alumno-001
2026-02-02 15:21:01 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 309fd23a-eebf-496c-b939-fb482aa83100
2026-02-02 15:21:01 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 701c7617-75ea-4caa-89f9-a541f213e03a
2026-02-02 15:21:01 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 2 courses
2026-02-02 15:21:01 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894: 1 modules
2026-02-02 15:21:01 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a882f15f-d3ea-4105-b759-99c564e59758: 1 modules
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 166.3s ago] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 166.3s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 105.4s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 166.3s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 166.3s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 105.4s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:21:01 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 2 enrollments for student alumno-001
2026-02-02 15:21:01 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 309fd23a-eebf-496c-b939-fb482aa83100
2026-02-02 15:21:01 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 701c7617-75ea-4caa-89f9-a541f213e03a
2026-02-02 15:21:01 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 2 courses
2026-02-02 15:21:01 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894: 1 modules
2026-02-02 15:21:01 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a882f15f-d3ea-4105-b759-99c564e59758: 1 modules
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 166.4s ago] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 166.4s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 105.5s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 166.4s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 166.4s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 105.5s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 86.94s ago] ('alumno-001',)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 86.95s ago] ('alumno-001',)
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:21:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:21:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:21:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 15:21:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.015s ago] ('docente@test.com',)
2026-02-02 15:21:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:21:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:21:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 15:21:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00201s] ('docente-001',)
2026-02-02 15:21:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:21:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:21:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 15:21:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00453s] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 15:21:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:21:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 15:21:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01309s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 15:21:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:21:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:21:20 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:21:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 15:21:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00167s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:21:20 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:21:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 15:21:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01057s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:21:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 15:21:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 15:21:20 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:21:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 15:21:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 15:21:20 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:21:24 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:21:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        
2026-02-02 15:21:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00191s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:21:24 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:21:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        
2026-02-02 15:21:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0111s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:21:25 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_stats:2592 - Failed to get module stats: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        ]
[parameters: ('701c7617-75ea-4caa-89f9-a541f213e03a',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 15:21:25 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - ERROR - get_module_stats:2592 - Failed to get module stats: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum submissionstatus: "GRADED"
[SQL: 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'GRADED') as average_grade
        ]
[parameters: ('701c7617-75ea-4caa-89f9-a541f213e03a',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-02 15:21:25 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:21:25 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:21:25 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 15:21:26 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 15:21:27 - watchfiles.main - INFO - _log_changes:308 - 17 changes detected
2026-02-02 15:22:14 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:22:16 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 15:22:17 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:23:04 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:23:55 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:24:45 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:25:36 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:25:36 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 15:25:36 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 15:25:37 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:25:37 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:25:37 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:25:37 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:25:37 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:25:37 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:25:37 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:25:37 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:25:37 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:25:37 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:25:37 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:25:37 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:25:37 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:25:37 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:25:43 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 15:25:44 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 15:25:44 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 15:25:44 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 15:25:51 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 15:25:52 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:25:52 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:25:52 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:25:52 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:25:52 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:25:52 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:25:52 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:25:52 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:25:52 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:25:52 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:25:52 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:25:52 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:25:52 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:25:52 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:25:59 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 15:25:59 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:25:59 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:25:59 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:25:59 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:25:59 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:25:59 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:25:59 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:25:59 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 15:25:59 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 15:25:59 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 15:25:59 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 15:25:59 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 15:25:59 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 15:25:59 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 15:26:05 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 15:26:06 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 15:26:06 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 15:26:06 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 15:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 15:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 15:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 15:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 15:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 15:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 15:26:09 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'graded') as average_grade
        
2026-02-02 15:26:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00229s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:26:09 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:26:27 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:26:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 15:26:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00432s] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 15:26:27 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:26:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 15:26:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.165s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 15:26:27 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:26:27 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:26:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:26:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'graded') as average_grade
        
2026-02-02 15:26:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 18.77s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:26:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:26:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'graded') as average_grade
        
2026-02-02 15:26:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 18.78s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:26:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:26:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:26:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:26:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 15:26:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00164s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:26:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:26:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 15:26:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.008262s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:26:44 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 15:26:44 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 15:26:44 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:26:44 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 15:26:44 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 15:26:44 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:26:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:26:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 15:26:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 18.41s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 15:26:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:26:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 15:26:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 18.42s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 15:26:45 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:26:45 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:26:46 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 15:26:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:26:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'graded') as average_grade
        
2026-02-02 15:26:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 37.57s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:26:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:26:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'graded') as average_grade
        
2026-02-02 15:26:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 37.58s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:26:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:26:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:27:21 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 15:27:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 37.03s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:27:21 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 15:27:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 37.04s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:27:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 15:27:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 15:27:21 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:27:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 15:27:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 15:27:21 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00446s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02041s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06084s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07358s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00224s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00196s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01197s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00210s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.012s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1919s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00287s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2092s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00220s] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02681s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:27:26 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 15:27:26 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00710s] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1931s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:27:26 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00164s] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08775s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1007s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:27:26 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 15:27:26 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06929s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:27:26 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 15:27:26 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08413s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:27:26 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05868s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 15:27:26 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 15:27:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06916s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 15:27:27 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 2 sessions for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 15:27:27 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:27:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 15:27:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.166s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:27:27 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 15:27:27 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 15:27:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 15:27:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1338s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:27:27 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 15:27:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 15:27:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1029s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 15:27:27 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 2 sessions for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 15:27:27 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:27:33 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:27:35 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 15:27:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 15:27:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00199s] ('alumno-001',)
2026-02-02 15:27:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 15:27:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00262s] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:27:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 15:27:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00180s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 15:27:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 15:27:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00159s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:27:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, ai_feedback, status
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY submitted_at DESC LIMIT 1
            
2026-02-02 15:27:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00212s] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:27:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 15:27:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00358s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 15:27:36 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:27:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 15:27:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00266s] ('docente-001',)
2026-02-02 15:27:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:27:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 15:27:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 90.33s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 15:27:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:27:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 15:27:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 90.34s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 15:27:57 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:27:57 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 15:28:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 77.36s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:28:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 15:28:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 77.37s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:28:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 15:28:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 15:28:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 15:28:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 15:28:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:05 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:05 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'graded') as average_grade
        
2026-02-02 15:28:05 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 116s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:28:05 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:05 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'graded') as average_grade
        
2026-02-02 15:28:05 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 116s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:28:05 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:05 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 15:28:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 82.91s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:28:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 15:28:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 82.91s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:28:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 15:28:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 15:28:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 15:28:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 15:28:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 44s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 44s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 44.02s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.86s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.89s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 44.04s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 44.05s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 44.06s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.97s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.87s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.98s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.87s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:28:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 15:28:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.84s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.96s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.94s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.83s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.93s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.92s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.93s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:28:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 15:28:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.9s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:28:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 15:28:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.91s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:28:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.88s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 15:28:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.89s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 15:28:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 2 sessions for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.97s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:28:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 15:28:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.94s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:28:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.91s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 15:28:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 2 sessions for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 15:28:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:18 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 15:28:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.87s ago] ('docente-001',)
2026-02-02 15:28:18 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:18 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:28:21 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 15:28:29 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 15:28:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00170s] ('alumno@test.com',)
2026-02-02 15:28:29 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00277s] ('alumno-001', 'ACTIVE')
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01346s ago] ('alumno-001', 'ACTIVE')
2026-02-02 15:28:30 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 2 enrollments for student alumno-001
2026-02-02 15:28:30 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 309fd23a-eebf-496c-b939-fb482aa83100
2026-02-02 15:28:30 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 701c7617-75ea-4caa-89f9-a541f213e03a
2026-02-02 15:28:30 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 2 courses
2026-02-02 15:28:30 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894: 1 modules
2026-02-02 15:28:30 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a882f15f-d3ea-4105-b759-99c564e59758: 1 modules
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00232s] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 15:28:30 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 2 enrollments for student alumno-001
2026-02-02 15:28:30 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 309fd23a-eebf-496c-b939-fb482aa83100
2026-02-02 15:28:30 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 701c7617-75ea-4caa-89f9-a541f213e03a
2026-02-02 15:28:30 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 2 courses
2026-02-02 15:28:30 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894: 1 modules
2026-02-02 15:28:30 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a882f15f-d3ea-4105-b759-99c564e59758: 1 modules
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03233s ago] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00192s] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.006273s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00216s] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.006077s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06149s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06539s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03397s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03964s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03283s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03798s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00144s] ('alumno-001',)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.008s ago] ('alumno-001',)
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:28:30 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:29:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 15:29:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 31.9s ago] ('docente@test.com',)
2026-02-02 15:29:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:29:02 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 15:29:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 65.76s ago] ('docente-001',)
2026-02-02 15:29:02 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:29:03 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 15:29:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 155.7s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 15:29:03 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 15:29:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 155.7s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 15:29:03 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:29:03 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:29:04 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 15:29:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 139.9s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:29:04 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 15:29:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 139.9s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:29:04 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 15:29:04 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 15:29:04 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:29:04 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 15:29:04 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 15:29:04 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:29:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:29:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.3s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:29:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:29:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.4s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:29:06 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.4s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.2s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.2s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.4s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.3s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.3s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.4s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.4s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.3s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.4s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.3s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 15:29:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 15:29:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.3s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:29:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.2s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.3s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:29:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 15:29:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.3s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.4s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:29:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.2s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 15:29:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 2 sessions for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.4s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.4s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:29:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 15:29:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.3s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:29:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.3s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.4s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:29:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 15:29:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.3s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 15:29:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 100.3s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 15:29:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 2 sessions for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 15:29:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:29:08 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:29:10 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 15:29:11 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 15:30:04 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:30:59 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:31:58 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:32:53 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:33:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:34:43 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:35:42 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:36:34 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:37:27 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:38:22 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:39:20 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:40:18 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:41:14 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:42:12 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:43:06 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:44:08 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:45:01 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:45:56 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:46:50 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:47:50 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:48:47 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:49:50 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:50:47 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:51:44 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:52:42 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:52:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 15:52:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1486s ago] ('docente-001',)
2026-02-02 15:52:42 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:52:42 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:52:44 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 15:53:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:53:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 15:53:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1593s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 15:53:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:53:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 15:53:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1593s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 15:53:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:53:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:53:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:53:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 15:53:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1577s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:53:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 15:53:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 15:53:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1577s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 15:53:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 15:53:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 15:53:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:53:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 3 activities
2026-02-02 15:53:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 3 activities
2026-02-02 15:53:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 15:53:32 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:53:34 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 15:54:21 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:55:17 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:56:12 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:57:06 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:58:04 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:58:57 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 15:59:57 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:00:52 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:01:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:02:47 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:03:42 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:04:33 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:05:29 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:06:18 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:07:11 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:08:06 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:08:59 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:09:50 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:10:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:10:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:10:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2562s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:10:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:10:39 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:11:28 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:11:28 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:12:13 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 16:12:13 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 16:12:14 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:12:14 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:12:14 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:12:14 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:12:14 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:12:14 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:12:14 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:12:14 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:12:14 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:12:14 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:12:14 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:12:14 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:12:14 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:12:14 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:12:14 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:12:21 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:12:21 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:12:21 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:12:21 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:13:02 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 16:13:03 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 16:13:03 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:13:03 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:13:03 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:13:03 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:13:03 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:13:03 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:13:03 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:13:03 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:13:03 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:13:03 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:13:03 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:13:03 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:13:03 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:13:03 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:13:03 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:13:09 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:13:09 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:13:09 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:13:09 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:13:54 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 16:13:55 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 16:13:55 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:13:55 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:13:55 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:13:55 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:13:55 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:13:55 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:13:55 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:13:55 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:13:55 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:13:55 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:13:55 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:13:55 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:13:55 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:13:55 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:13:55 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:14:01 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:14:02 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:14:02 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:14:02 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:14:41 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 16:14:41 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 16:14:41 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:14:41 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:14:41 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:14:41 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:14:41 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:14:41 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:14:41 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:14:41 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:14:41 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:14:41 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:14:41 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:14:41 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:14:41 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:14:41 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:14:42 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:14:48 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:14:48 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:14:48 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:14:48 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:14:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 16:14:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:14:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 16:14:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:14:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 16:14:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:14:48 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:14:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'graded') as average_grade
        
2026-02-02 16:14:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00174s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:14:48 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:15:11 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 16:15:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00287s] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 16:15:11 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 16:15:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04975s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 16:15:11 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:15:11 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:15:17 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 16:15:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00148s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:15:17 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 16:15:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.008836s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:15:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 1 activities
2026-02-02 16:15:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 16:15:17 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:15:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 1 activities
2026-02-02 16:15:17 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 16:15:17 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:15:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'graded') as average_grade
        
2026-02-02 16:15:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 31.03s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:15:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'graded') as average_grade
        
2026-02-02 16:15:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 31.03s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:15:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:15:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:15:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 16:15:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.866s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:15:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 16:15:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.874s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:15:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 1 activities
2026-02-02 16:15:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 16:15:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:15:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 1 activities
2026-02-02 16:15:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 16:15:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00274s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0152s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06314s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00318s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01666s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1048s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00233s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1409s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1485s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00507s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00333s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.009893s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06967s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00421s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08012s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:15:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:15:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00179s] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0589s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:15:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00168s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:15:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:15:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02712s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:15:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01846s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.09136s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:15:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:15:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05392s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.11s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:15:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05072s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:15:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:15:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07681s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:15:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 2 sessions for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:15:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07042s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:15:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 2 sessions for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:15:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:15:32 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:15:34 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:15:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:15:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:15:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00356s] ('alumno-001',)
2026-02-02 16:15:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:15:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00164s] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:15:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:15:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00158s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:15:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:15:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00213s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:15:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, ai_feedback, status
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY submitted_at DESC LIMIT 1
            
2026-02-02 16:15:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00158s] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:15:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:15:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00319s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:15:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:16:21 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 74.93s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 74.91s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 74.86s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:16:43 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:16:43 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 74.82s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:16:43 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 74.82s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 74.89s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:16:43 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:286 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:16:43 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:292 - Grade from session_metrics: None
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 74.85s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:16:43 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:305 - Grade from submissions: 0.0
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 74.84s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:16:43 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:388 - Retrieved 2 sessions for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:16:43 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:17:14 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:17:15 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:17:15 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 16:17:15 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:17:15 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:17:15 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:17:15 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:17:15 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:17:15 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:17:15 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:17:15 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:17:15 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:17:15 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:17:15 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:17:15 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:17:15 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:17:15 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:17:22 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:17:23 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:17:23 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:17:23 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:17:26 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 16:17:28 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:17:28 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:17:28 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:17:28 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:17:28 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:17:28 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:17:28 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:17:28 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:17:28 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:17:28 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:17:28 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:17:28 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:17:28 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:17:28 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:17:35 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:17:35 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:17:35 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:17:35 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:17:35 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:17:35 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:17:35 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:17:35 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:17:35 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:17:35 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:17:35 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:17:35 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:17:35 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:17:35 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:17:35 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:17:42 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:17:42 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:17:42 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:17:42 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00194s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00204s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00275s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00223s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:17:46 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00149s] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00271s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02974s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:17:46 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02406s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02414s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00169s] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01888s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02245s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0273s ago] ('3255b547-52a4-4c47-9ee6-ffcbdfc43084', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03117s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03605s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03987s ago] ('c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04384s ago] ('d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0494s ago] ('4b785121-a33c-44cb-999a-cf21742652c2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05278s ago] ('7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05718s ago] ('b5be94ac-e543-4f40-a498-d4d17e8387f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06084s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06692s ago] ('20e34adb-9865-41cd-ad1a-2580adada177', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07116s ago] ('3f8db688-7155-45cc-8451-18f43aa23e2d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07769s ago] ('0b718183-d710-4a3e-837c-ead38cc08df9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08168s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08716s ago] ('c1a7b539-bb0e-4c5b-8f06-84c8054de78a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.09225s ago] ('70318447-1723-4ccd-8b19-85728c43fb8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.09719s ago] ('d7550759-366e-4654-9bce-5c96d8bd1f76', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1015s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1066s ago] ('b4265699-895b-4c10-b7f4-96dd12c7c9af', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1101s ago] ('83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1149s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1197s ago] ('db882e0f-50a4-48d4-a289-47473984e0b6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1241s ago] ('cac82a13-aa10-42a6-baf0-0f9ac1b7ef56', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1294s ago] ('67a01287-981a-4810-b901-db7b9d73b940', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1332s ago] ('d6adb4cc-9e9e-4978-9791-819726aea785', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1372s ago] ('5e8b467e-69cd-48de-a840-f60c1196f055', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1421s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.147s ago] ('f737745f-8458-4ce5-8fd0-25f1007592b5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.15s ago] ('05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1539s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1587s ago] ('5d60a804-08a3-4c00-915a-8c99f1cac232', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1632s ago] ('d16b127c-5f65-4ac5-9afa-d693b14da9a7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1682s ago] ('1a74d865-30d3-451b-8fa9-0b34e5e3ce7d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.171s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1746s ago] ('bec7f27e-a635-48c0-a80a-2c224591da44', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1791s ago] ('fce1318f-deef-431b-9c4f-efe33a0ad7e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1832s ago] ('1e759b4b-e057-4586-8472-fe852354660b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1881s ago] ('beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1913s ago] ('861ba16d-e49a-4b96-bec3-30ed44791af0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1957s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1996s ago] ('9dc7689c-2d65-46e3-a004-e8a31f9a8130', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2034s ago] ('aa6c688a-ad71-4c6b-8b31-2444c48846b2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.208s ago] ('79eead51-bb14-400e-8df3-6e9fd4f7967a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:46 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:493 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:17:46 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.09s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.09s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.08s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.08s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:17:56 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.07s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.07s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.1s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:17:56 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.09s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.09s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.06s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.07s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.07s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.07s ago] ('3255b547-52a4-4c47-9ee6-ffcbdfc43084', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.08s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.08s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.09s ago] ('c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.09s ago] ('d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.09s ago] ('4b785121-a33c-44cb-999a-cf21742652c2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.1s ago] ('7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.1s ago] ('b5be94ac-e543-4f40-a498-d4d17e8387f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.11s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.11s ago] ('20e34adb-9865-41cd-ad1a-2580adada177', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.11s ago] ('3f8db688-7155-45cc-8451-18f43aa23e2d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.12s ago] ('0b718183-d710-4a3e-837c-ead38cc08df9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.12s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.13s ago] ('c1a7b539-bb0e-4c5b-8f06-84c8054de78a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.13s ago] ('70318447-1723-4ccd-8b19-85728c43fb8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.13s ago] ('d7550759-366e-4654-9bce-5c96d8bd1f76', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.14s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.14s ago] ('b4265699-895b-4c10-b7f4-96dd12c7c9af', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.15s ago] ('83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.15s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.16s ago] ('db882e0f-50a4-48d4-a289-47473984e0b6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.16s ago] ('cac82a13-aa10-42a6-baf0-0f9ac1b7ef56', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.16s ago] ('67a01287-981a-4810-b901-db7b9d73b940', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.17s ago] ('d6adb4cc-9e9e-4978-9791-819726aea785', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.17s ago] ('5e8b467e-69cd-48de-a840-f60c1196f055', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.18s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.18s ago] ('f737745f-8458-4ce5-8fd0-25f1007592b5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.18s ago] ('05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.19s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.19s ago] ('5d60a804-08a3-4c00-915a-8c99f1cac232', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.2s ago] ('d16b127c-5f65-4ac5-9afa-d693b14da9a7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.2s ago] ('1a74d865-30d3-451b-8fa9-0b34e5e3ce7d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.2s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.21s ago] ('bec7f27e-a635-48c0-a80a-2c224591da44', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.21s ago] ('fce1318f-deef-431b-9c4f-efe33a0ad7e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.21s ago] ('1e759b4b-e057-4586-8472-fe852354660b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.22s ago] ('beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.22s ago] ('861ba16d-e49a-4b96-bec3-30ed44791af0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.22s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.23s ago] ('9dc7689c-2d65-46e3-a004-e8a31f9a8130', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.23s ago] ('aa6c688a-ad71-4c6b-8b31-2444c48846b2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.24s ago] ('79eead51-bb14-400e-8df3-6e9fd4f7967a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:17:56 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:493 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:17:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.25s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.24s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.24s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.24s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:18:03 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.23s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.23s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.25s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:18:03 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.25s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.25s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.22s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.23s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.23s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.24s ago] ('3255b547-52a4-4c47-9ee6-ffcbdfc43084', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.24s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.25s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.25s ago] ('c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.25s ago] ('d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.26s ago] ('4b785121-a33c-44cb-999a-cf21742652c2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.26s ago] ('7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.27s ago] ('b5be94ac-e543-4f40-a498-d4d17e8387f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.27s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.28s ago] ('20e34adb-9865-41cd-ad1a-2580adada177', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.28s ago] ('3f8db688-7155-45cc-8451-18f43aa23e2d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.29s ago] ('0b718183-d710-4a3e-837c-ead38cc08df9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.29s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.3s ago] ('c1a7b539-bb0e-4c5b-8f06-84c8054de78a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.3s ago] ('70318447-1723-4ccd-8b19-85728c43fb8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.3s ago] ('d7550759-366e-4654-9bce-5c96d8bd1f76', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.31s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.31s ago] ('b4265699-895b-4c10-b7f4-96dd12c7c9af', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.32s ago] ('83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.32s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.32s ago] ('db882e0f-50a4-48d4-a289-47473984e0b6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.33s ago] ('cac82a13-aa10-42a6-baf0-0f9ac1b7ef56', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.33s ago] ('67a01287-981a-4810-b901-db7b9d73b940', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.34s ago] ('d6adb4cc-9e9e-4978-9791-819726aea785', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.34s ago] ('5e8b467e-69cd-48de-a840-f60c1196f055', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.34s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.35s ago] ('f737745f-8458-4ce5-8fd0-25f1007592b5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.35s ago] ('05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.36s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.36s ago] ('5d60a804-08a3-4c00-915a-8c99f1cac232', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.36s ago] ('d16b127c-5f65-4ac5-9afa-d693b14da9a7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.37s ago] ('1a74d865-30d3-451b-8fa9-0b34e5e3ce7d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.37s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.38s ago] ('bec7f27e-a635-48c0-a80a-2c224591da44', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.38s ago] ('fce1318f-deef-431b-9c4f-efe33a0ad7e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.39s ago] ('1e759b4b-e057-4586-8472-fe852354660b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.39s ago] ('beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.39s ago] ('861ba16d-e49a-4b96-bec3-30ed44791af0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.4s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.4s ago] ('9dc7689c-2d65-46e3-a004-e8a31f9a8130', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.41s ago] ('aa6c688a-ad71-4c6b-8b31-2444c48846b2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.41s ago] ('79eead51-bb14-400e-8df3-6e9fd4f7967a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:04 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:493 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:18:04 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.23s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.23s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.22s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.22s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:18:12 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.21s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.21s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.24s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:18:12 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.23s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.23s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.2s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.21s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.21s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.22s ago] ('3255b547-52a4-4c47-9ee6-ffcbdfc43084', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.22s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.22s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.23s ago] ('c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.23s ago] ('d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.24s ago] ('4b785121-a33c-44cb-999a-cf21742652c2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.24s ago] ('7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.24s ago] ('b5be94ac-e543-4f40-a498-d4d17e8387f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.25s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.25s ago] ('20e34adb-9865-41cd-ad1a-2580adada177', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.26s ago] ('3f8db688-7155-45cc-8451-18f43aa23e2d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.26s ago] ('0b718183-d710-4a3e-837c-ead38cc08df9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.26s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.27s ago] ('c1a7b539-bb0e-4c5b-8f06-84c8054de78a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.27s ago] ('70318447-1723-4ccd-8b19-85728c43fb8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.27s ago] ('d7550759-366e-4654-9bce-5c96d8bd1f76', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.28s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.28s ago] ('b4265699-895b-4c10-b7f4-96dd12c7c9af', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.29s ago] ('83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.29s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.29s ago] ('db882e0f-50a4-48d4-a289-47473984e0b6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.3s ago] ('cac82a13-aa10-42a6-baf0-0f9ac1b7ef56', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.3s ago] ('67a01287-981a-4810-b901-db7b9d73b940', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.31s ago] ('d6adb4cc-9e9e-4978-9791-819726aea785', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.31s ago] ('5e8b467e-69cd-48de-a840-f60c1196f055', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.32s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.32s ago] ('f737745f-8458-4ce5-8fd0-25f1007592b5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.32s ago] ('05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.33s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.33s ago] ('5d60a804-08a3-4c00-915a-8c99f1cac232', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.34s ago] ('d16b127c-5f65-4ac5-9afa-d693b14da9a7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.34s ago] ('1a74d865-30d3-451b-8fa9-0b34e5e3ce7d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.35s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.35s ago] ('bec7f27e-a635-48c0-a80a-2c224591da44', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.36s ago] ('fce1318f-deef-431b-9c4f-efe33a0ad7e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.36s ago] ('1e759b4b-e057-4586-8472-fe852354660b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.37s ago] ('beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.38s ago] ('861ba16d-e49a-4b96-bec3-30ed44791af0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.38s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.38s ago] ('9dc7689c-2d65-46e3-a004-e8a31f9a8130', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.39s ago] ('aa6c688a-ad71-4c6b-8b31-2444c48846b2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.39s ago] ('79eead51-bb14-400e-8df3-6e9fd4f7967a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:493 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:18:13 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00173s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04831s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00404s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06878s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.55s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00506s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.57s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.58s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.59s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:18:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.59s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.64s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.67s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:18:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.66s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.66s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.65s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.67s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.67s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.68s ago] ('3255b547-52a4-4c47-9ee6-ffcbdfc43084', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.68s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.69s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.7s ago] ('c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.7s ago] ('d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.71s ago] ('4b785121-a33c-44cb-999a-cf21742652c2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.71s ago] ('7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.72s ago] ('b5be94ac-e543-4f40-a498-d4d17e8387f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.72s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.72s ago] ('20e34adb-9865-41cd-ad1a-2580adada177', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.73s ago] ('3f8db688-7155-45cc-8451-18f43aa23e2d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.73s ago] ('0b718183-d710-4a3e-837c-ead38cc08df9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.74s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.74s ago] ('c1a7b539-bb0e-4c5b-8f06-84c8054de78a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.74s ago] ('70318447-1723-4ccd-8b19-85728c43fb8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.75s ago] ('d7550759-366e-4654-9bce-5c96d8bd1f76', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.75s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.76s ago] ('b4265699-895b-4c10-b7f4-96dd12c7c9af', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.76s ago] ('83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.76s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.77s ago] ('db882e0f-50a4-48d4-a289-47473984e0b6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.77s ago] ('cac82a13-aa10-42a6-baf0-0f9ac1b7ef56', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.77s ago] ('67a01287-981a-4810-b901-db7b9d73b940', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.78s ago] ('d6adb4cc-9e9e-4978-9791-819726aea785', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.78s ago] ('5e8b467e-69cd-48de-a840-f60c1196f055', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.79s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.79s ago] ('f737745f-8458-4ce5-8fd0-25f1007592b5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.79s ago] ('05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.8s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.8s ago] ('5d60a804-08a3-4c00-915a-8c99f1cac232', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.81s ago] ('d16b127c-5f65-4ac5-9afa-d693b14da9a7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.81s ago] ('1a74d865-30d3-451b-8fa9-0b34e5e3ce7d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.81s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.82s ago] ('bec7f27e-a635-48c0-a80a-2c224591da44', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.82s ago] ('fce1318f-deef-431b-9c4f-efe33a0ad7e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.82s ago] ('1e759b4b-e057-4586-8472-fe852354660b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.83s ago] ('beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.83s ago] ('861ba16d-e49a-4b96-bec3-30ed44791af0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.84s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.84s ago] ('9dc7689c-2d65-46e3-a004-e8a31f9a8130', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.84s ago] ('aa6c688a-ad71-4c6b-8b31-2444c48846b2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.85s ago] ('79eead51-bb14-400e-8df3-6e9fd4f7967a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:493 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:18:30 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:18:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:18:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:18:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00320s] ('5aa77877-9a59-4dec-b279-a9423aad1684',)
2026-02-02 16:18:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:18:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00158s] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:40 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:18:54 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:18:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:18:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 13.58s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca',)
2026-02-02 16:18:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:18:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 13.59s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:18:54 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:19:09 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:19:11 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:19:12 - watchfiles.main - INFO - _log_changes:308 - 13 changes detected
2026-02-02 16:20:05 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:20:58 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:20:58 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:20:58 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 16:20:59 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:20:59 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:20:59 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:20:59 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:20:59 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:20:59 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:20:59 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:20:59 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:20:59 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:20:59 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:20:59 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:20:59 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:20:59 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:20:59 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:21:05 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:21:05 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:21:05 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:21:05 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:21:31 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 16:21:32 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:21:32 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:21:32 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:21:32 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:21:32 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:21:32 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:21:32 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:21:32 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:21:32 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:21:32 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:21:32 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:21:32 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:21:32 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:21:32 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:21:39 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:21:40 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:21:40 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:21:40 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:21:40 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:21:40 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:21:40 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:21:40 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:21:40 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:21:40 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:21:40 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:21:40 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:21:40 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:21:40 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:21:40 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:21:45 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:21:46 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:21:46 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:21:46 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:21:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 16:21:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:21:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 16:21:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:21:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 16:21:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00439s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00320s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00294s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00250s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:21:53 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:21:53 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00290s] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:21:53 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00196s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04003s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:21:53 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:21:53 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04072s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:21:53 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04188s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00278s] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:21:53 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - ERROR - get_activity_submissions_analytics:527 - Unexpected error in get_activity_submissions_analytics: 1 validation error for ExerciseGrade
grade
  Input should be a valid integer, got a number with a fractional part [type=int_from_float, input_value=79.57427304782925, input_type=float]
    For further information visit https://errors.pydantic.dev/2.10/v/int_from_float
Traceback (most recent call last):
  File "/app/backend/src_v3/infrastructure/http/api/v3/routers/analytics_router.py", line 493, in get_activity_submissions_analytics
    simulated_exercises.append(ExerciseGrade(
                               ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/main.py", line 214, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for ExerciseGrade
grade
  Input should be a valid integer, got a number with a fractional part [type=int_from_float, input_value=79.57427304782925, input_type=float]
    For further information visit https://errors.pydantic.dev/2.10/v/int_from_float
2026-02-02 16:21:53 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:22:20 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:22:20 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:22:20 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:22:20 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:22:20 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:22:20 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:22:20 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:22:20 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:22:20 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:22:20 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:22:20 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:22:20 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:22:20 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:22:20 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:22:27 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:22:27 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:22:27 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:22:27 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:22:27 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:22:27 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:22:27 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:22:27 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:22:27 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:22:27 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:22:27 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:22:27 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:22:27 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:22:27 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:22:27 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:22:34 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:22:34 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:22:34 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:22:34 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00128s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00179s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00146s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00140s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:22:46 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00160s] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00129s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02758s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:22:46 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02113s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01996s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00171s] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02344s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02799s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03109s ago] ('3255b547-52a4-4c47-9ee6-ffcbdfc43084', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0356s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04043s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04356s ago] ('c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04818s ago] ('d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05151s ago] ('4b785121-a33c-44cb-999a-cf21742652c2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05504s ago] ('7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05959s ago] ('b5be94ac-e543-4f40-a498-d4d17e8387f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06335s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06866s ago] ('20e34adb-9865-41cd-ad1a-2580adada177', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07202s ago] ('3f8db688-7155-45cc-8451-18f43aa23e2d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07662s ago] ('0b718183-d710-4a3e-837c-ead38cc08df9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07999s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08318s ago] ('c1a7b539-bb0e-4c5b-8f06-84c8054de78a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08696s ago] ('70318447-1723-4ccd-8b19-85728c43fb8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.09087s ago] ('d7550759-366e-4654-9bce-5c96d8bd1f76', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.09486s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.09922s ago] ('b4265699-895b-4c10-b7f4-96dd12c7c9af', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1037s ago] ('83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1074s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1125s ago] ('db882e0f-50a4-48d4-a289-47473984e0b6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1174s ago] ('cac82a13-aa10-42a6-baf0-0f9ac1b7ef56', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1208s ago] ('67a01287-981a-4810-b901-db7b9d73b940', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1244s ago] ('d6adb4cc-9e9e-4978-9791-819726aea785', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1296s ago] ('5e8b467e-69cd-48de-a840-f60c1196f055', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1329s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1371s ago] ('f737745f-8458-4ce5-8fd0-25f1007592b5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1411s ago] ('05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1446s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1493s ago] ('5d60a804-08a3-4c00-915a-8c99f1cac232', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1529s ago] ('d16b127c-5f65-4ac5-9afa-d693b14da9a7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.16s ago] ('1a74d865-30d3-451b-8fa9-0b34e5e3ce7d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1644s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1703s ago] ('bec7f27e-a635-48c0-a80a-2c224591da44', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1749s ago] ('fce1318f-deef-431b-9c4f-efe33a0ad7e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1795s ago] ('1e759b4b-e057-4586-8472-fe852354660b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1832s ago] ('beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1881s ago] ('861ba16d-e49a-4b96-bec3-30ed44791af0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1918s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.197s ago] ('9dc7689c-2d65-46e3-a004-e8a31f9a8130', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2008s ago] ('aa6c688a-ad71-4c6b-8b31-2444c48846b2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2043s ago] ('79eead51-bb14-400e-8df3-6e9fd4f7967a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:521 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:22:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:22:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:22:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:22:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00212s] ('alumno-001',)
2026-02-02 16:22:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:22:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00317s] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:22:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00197s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:22:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:22:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00174s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, ai_feedback, status
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY submitted_at DESC LIMIT 1
            
2026-02-02 16:22:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00204s] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:22:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:22:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00376s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:22:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:23:04 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:23:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:23:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.278s ago] ('3255b547-52a4-4c47-9ee6-ffcbdfc43084 23eeb4aa-cdd7-47bf-a36c-40151494622e b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1',)
2026-02-02 16:23:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:23:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.279s ago] ('3255b547-52a4-4c47-9ee6-ffcbdfc43084 23eeb4aa-cdd7-47bf-a36c-40151494622e b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:23:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    s.submission_id,
                    s.activity_id,
                    a.title as activity_title,
                    s.status,
                    s.final_grade,
                    s.created_at,
                    s.student_id
                FROM submissions s
                LEFT JOIN activities a ON s.activity_id = a.activity_id
                WHERE s.student_id = $1
             AND s.activity_id = $2 ORDER BY s.created_at DESC LIMIT 1
2026-02-02 16:23:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00416s] ('3255b547-52a4-4c47-9ee6-ffcbdfc43084 23eeb4aa-cdd7-47bf-a36c-40151494622e b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:23:04 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:23:29 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:23:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:23:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 32.84s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1',)
2026-02-02 16:23:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:23:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 32.84s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:23:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    s.submission_id,
                    s.activity_id,
                    a.title as activity_title,
                    s.status,
                    s.final_grade,
                    s.created_at,
                    s.student_id
                FROM submissions s
                LEFT JOIN activities a ON s.activity_id = a.activity_id
                WHERE s.student_id = $1
             AND s.activity_id = $2 ORDER BY s.created_at DESC LIMIT 1
2026-02-02 16:23:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 24.56s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:23:29 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - ERROR - get_student_traceability:1015 - Unexpected error in get_student_traceability: 5 validation errors for TraceabilityResponse
cognitive_journey
  Field required [type=missing, input_value={'student_id': 'b6a2f5dc-...iones con el tutor IA.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
interactions
  Field required [type=missing, input_value={'student_id': 'b6a2f5dc-...iones con el tutor IA.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
total_hints
  Field required [type=missing, input_value={'student_id': 'b6a2f5dc-...iones con el tutor IA.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
total_time_minutes
  Field required [type=missing, input_value={'student_id': 'b6a2f5dc-...iones con el tutor IA.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
risk_level
  Field required [type=missing, input_value={'student_id': 'b6a2f5dc-...iones con el tutor IA.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
Traceback (most recent call last):
  File "/app/backend/src_v3/infrastructure/http/api/v3/routers/analytics_router.py", line 778, in get_student_traceability
    return TraceabilityResponse(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/main.py", line 214, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 5 validation errors for TraceabilityResponse
cognitive_journey
  Field required [type=missing, input_value={'student_id': 'b6a2f5dc-...iones con el tutor IA.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
interactions
  Field required [type=missing, input_value={'student_id': 'b6a2f5dc-...iones con el tutor IA.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
total_hints
  Field required [type=missing, input_value={'student_id': 'b6a2f5dc-...iones con el tutor IA.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
total_time_minutes
  Field required [type=missing, input_value={'student_id': 'b6a2f5dc-...iones con el tutor IA.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
risk_level
  Field required [type=missing, input_value={'student_id': 'b6a2f5dc-...iones con el tutor IA.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
2026-02-02 16:23:29 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:24:02 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 16:24:02 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:24:03 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 16:24:03 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:24:03 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:24:03 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:24:03 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:24:03 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:24:03 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:24:03 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:24:03 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:24:03 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:24:03 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:24:03 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:24:03 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:24:03 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:24:03 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:24:08 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:24:08 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:24:08 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:24:08 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:24:08 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:24:08 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:24:08 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:24:08 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:24:08 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:24:08 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:24:08 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:24:08 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:24:08 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:24:08 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:24:14 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:24:15 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:24:15 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:24:15 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:24:15 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:24:15 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:24:15 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:24:15 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:24:15 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:24:15 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:24:15 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:24:15 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:24:15 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:24:15 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:24:15 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:24:21 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:24:21 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:24:21 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:24:21 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00277s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00223s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00192s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00116s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:24:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00251s] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00159s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02704s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:24:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02398s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0223s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00171s] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02119s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02568s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03025s ago] ('3255b547-52a4-4c47-9ee6-ffcbdfc43084', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03391s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03741s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04302s ago] ('c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04646s ago] ('d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05014s ago] ('4b785121-a33c-44cb-999a-cf21742652c2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0538s ago] ('7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05832s ago] ('b5be94ac-e543-4f40-a498-d4d17e8387f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06244s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06608s ago] ('20e34adb-9865-41cd-ad1a-2580adada177', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07178s ago] ('3f8db688-7155-45cc-8451-18f43aa23e2d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07591s ago] ('0b718183-d710-4a3e-837c-ead38cc08df9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08147s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08644s ago] ('c1a7b539-bb0e-4c5b-8f06-84c8054de78a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.09095s ago] ('70318447-1723-4ccd-8b19-85728c43fb8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0951s ago] ('d7550759-366e-4654-9bce-5c96d8bd1f76', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0996s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1039s ago] ('b4265699-895b-4c10-b7f4-96dd12c7c9af', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1086s ago] ('83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1142s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1181s ago] ('db882e0f-50a4-48d4-a289-47473984e0b6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1228s ago] ('cac82a13-aa10-42a6-baf0-0f9ac1b7ef56', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1265s ago] ('67a01287-981a-4810-b901-db7b9d73b940', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.131s ago] ('d6adb4cc-9e9e-4978-9791-819726aea785', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1344s ago] ('5e8b467e-69cd-48de-a840-f60c1196f055', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1378s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1433s ago] ('f737745f-8458-4ce5-8fd0-25f1007592b5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1465s ago] ('05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1517s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1555s ago] ('5d60a804-08a3-4c00-915a-8c99f1cac232', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1602s ago] ('d16b127c-5f65-4ac5-9afa-d693b14da9a7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1643s ago] ('1a74d865-30d3-451b-8fa9-0b34e5e3ce7d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1678s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1731s ago] ('bec7f27e-a635-48c0-a80a-2c224591da44', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.177s ago] ('fce1318f-deef-431b-9c4f-efe33a0ad7e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1812s ago] ('1e759b4b-e057-4586-8472-fe852354660b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1847s ago] ('beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1883s ago] ('861ba16d-e49a-4b96-bec3-30ed44791af0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.194s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1987s ago] ('9dc7689c-2d65-46e3-a004-e8a31f9a8130', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.203s ago] ('aa6c688a-ad71-4c6b-8b31-2444c48846b2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2061s ago] ('79eead51-bb14-400e-8df3-6e9fd4f7967a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:521 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00207s] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1',)
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00135s] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    s.submission_id,
                    s.activity_id,
                    a.title as activity_title,
                    s.status,
                    s.final_grade,
                    s.created_at,
                    s.student_id
                FROM submissions s
                LEFT JOIN activities a ON s.activity_id = a.activity_id
                WHERE s.student_id = $1
             AND s.activity_id = $2 ORDER BY s.created_at DESC LIMIT 1
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00227s] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.85s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.84s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.83s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.83s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:39 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:24:39 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.83s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:39 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.84s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.86s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:39 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:24:39 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.86s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:39 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.86s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.84s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.84s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.85s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.85s ago] ('3255b547-52a4-4c47-9ee6-ffcbdfc43084', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.86s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.86s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.86s ago] ('c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.87s ago] ('d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.87s ago] ('4b785121-a33c-44cb-999a-cf21742652c2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.88s ago] ('7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.88s ago] ('b5be94ac-e543-4f40-a498-d4d17e8387f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.89s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.89s ago] ('20e34adb-9865-41cd-ad1a-2580adada177', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.9s ago] ('3f8db688-7155-45cc-8451-18f43aa23e2d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.9s ago] ('0b718183-d710-4a3e-837c-ead38cc08df9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.91s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.91s ago] ('c1a7b539-bb0e-4c5b-8f06-84c8054de78a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.92s ago] ('70318447-1723-4ccd-8b19-85728c43fb8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.93s ago] ('d7550759-366e-4654-9bce-5c96d8bd1f76', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.93s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.94s ago] ('b4265699-895b-4c10-b7f4-96dd12c7c9af', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.94s ago] ('83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.95s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.95s ago] ('db882e0f-50a4-48d4-a289-47473984e0b6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.95s ago] ('cac82a13-aa10-42a6-baf0-0f9ac1b7ef56', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.96s ago] ('67a01287-981a-4810-b901-db7b9d73b940', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.96s ago] ('d6adb4cc-9e9e-4978-9791-819726aea785', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.97s ago] ('5e8b467e-69cd-48de-a840-f60c1196f055', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.97s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.98s ago] ('f737745f-8458-4ce5-8fd0-25f1007592b5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.98s ago] ('05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.99s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 11.99s ago] ('5d60a804-08a3-4c00-915a-8c99f1cac232', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 12s ago] ('d16b127c-5f65-4ac5-9afa-d693b14da9a7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 12s ago] ('1a74d865-30d3-451b-8fa9-0b34e5e3ce7d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 12s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 12.01s ago] ('bec7f27e-a635-48c0-a80a-2c224591da44', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 12.01s ago] ('fce1318f-deef-431b-9c4f-efe33a0ad7e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 12.02s ago] ('1e759b4b-e057-4586-8472-fe852354660b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 12.02s ago] ('beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 12.02s ago] ('861ba16d-e49a-4b96-bec3-30ed44791af0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 12.03s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 12.03s ago] ('9dc7689c-2d65-46e3-a004-e8a31f9a8130', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 12.04s ago] ('aa6c688a-ad71-4c6b-8b31-2444c48846b2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 12.04s ago] ('79eead51-bb14-400e-8df3-6e9fd4f7967a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:40 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:521 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:24:40 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00289s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02832s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06665s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.86s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00278s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:24:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.89s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00301s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.93s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.94s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:24:55 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.96s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.96s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.99s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:24:55 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.97s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.01s ago] ('3255b547-52a4-4c47-9ee6-ffcbdfc43084', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.01s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.02s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.02s ago] ('c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.03s ago] ('d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.03s ago] ('4b785121-a33c-44cb-999a-cf21742652c2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.04s ago] ('7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.05s ago] ('b5be94ac-e543-4f40-a498-d4d17e8387f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.05s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.06s ago] ('20e34adb-9865-41cd-ad1a-2580adada177', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.06s ago] ('3f8db688-7155-45cc-8451-18f43aa23e2d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.07s ago] ('0b718183-d710-4a3e-837c-ead38cc08df9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.07s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.07s ago] ('c1a7b539-bb0e-4c5b-8f06-84c8054de78a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.08s ago] ('70318447-1723-4ccd-8b19-85728c43fb8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.08s ago] ('d7550759-366e-4654-9bce-5c96d8bd1f76', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.09s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.09s ago] ('b4265699-895b-4c10-b7f4-96dd12c7c9af', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.1s ago] ('83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.1s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.11s ago] ('db882e0f-50a4-48d4-a289-47473984e0b6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.11s ago] ('cac82a13-aa10-42a6-baf0-0f9ac1b7ef56', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.11s ago] ('67a01287-981a-4810-b901-db7b9d73b940', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.12s ago] ('d6adb4cc-9e9e-4978-9791-819726aea785', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.12s ago] ('5e8b467e-69cd-48de-a840-f60c1196f055', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.13s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.13s ago] ('f737745f-8458-4ce5-8fd0-25f1007592b5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.14s ago] ('05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.14s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.15s ago] ('5d60a804-08a3-4c00-915a-8c99f1cac232', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.15s ago] ('d16b127c-5f65-4ac5-9afa-d693b14da9a7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.16s ago] ('1a74d865-30d3-451b-8fa9-0b34e5e3ce7d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.16s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.17s ago] ('bec7f27e-a635-48c0-a80a-2c224591da44', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.17s ago] ('fce1318f-deef-431b-9c4f-efe33a0ad7e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.18s ago] ('1e759b4b-e057-4586-8472-fe852354660b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.18s ago] ('beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.18s ago] ('861ba16d-e49a-4b96-bec3-30ed44791af0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.19s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.19s ago] ('9dc7689c-2d65-46e3-a004-e8a31f9a8130', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.2s ago] ('aa6c688a-ad71-4c6b-8b31-2444c48846b2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.2s ago] ('79eead51-bb14-400e-8df3-6e9fd4f7967a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:55 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:521 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:24:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:24:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:24:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:24:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 31.2s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca',)
2026-02-02 16:24:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:24:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 31.2s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    s.submission_id,
                    s.activity_id,
                    a.title as activity_title,
                    s.status,
                    s.final_grade,
                    s.created_at,
                    s.student_id
                FROM submissions s
                LEFT JOIN activities a ON s.activity_id = a.activity_id
                WHERE s.student_id = $1
             AND s.activity_id = $2 ORDER BY s.created_at DESC LIMIT 1
2026-02-02 16:24:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 31.2s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:24:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:25:01 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:25:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:25:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:25:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 39.83s ago] ('alumno-001',)
2026-02-02 16:25:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:25:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 39.83s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:25:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:25:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00255s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:25:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:25:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00283s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:25:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, ai_feedback, status
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY submitted_at DESC LIMIT 1
            
2026-02-02 16:25:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.01154s] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:25:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:25:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00133s] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:25:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:25:30 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:25:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:25:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 62.39s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684',)
2026-02-02 16:25:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:25:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 62.39s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:25:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    s.submission_id,
                    s.activity_id,
                    a.title as activity_title,
                    s.status,
                    s.final_grade,
                    s.created_at,
                    s.student_id
                FROM submissions s
                LEFT JOIN activities a ON s.activity_id = a.activity_id
                WHERE s.student_id = $1
             AND s.activity_id = $2 ORDER BY s.created_at DESC LIMIT 1
2026-02-02 16:25:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 62.39s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:25:30 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:25:46 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:26:36 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:27:23 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:27:48 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:27:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 16:27:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00238s] ('docente-001',)
2026-02-02 16:27:48 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:27:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:27:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 16:27:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00444s] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 16:27:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:27:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:27:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 16:27:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04129s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 16:27:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:28:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'graded') as average_grade
        
2026-02-02 16:28:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00233s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:28:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:28:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                (SELECT COUNT(*) FROM enrollments WHERE module_id = $1 AND status = 'ACTIVE') as active_students,
                (SELECT COUNT(*) FROM activities WHERE module_id = $1) as total_activities,
                (SELECT COUNT(DISTINCT s.student_id) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as students_with_submissions,
                (SELECT COUNT(*) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1) as total_submissions,
                (SELECT AVG(s.final_grade) 
                 FROM submissions s 
                 JOIN activities a ON s.activity_id = a.activity_id 
                 WHERE a.module_id = $1 AND s.status = 'graded') as average_grade
        
2026-02-02 16:28:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01992s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:28:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:28:02 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 16:28:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00186s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:28:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 1 activities
2026-02-02 16:28:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 16:28:02 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:28:02 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 16:28:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02622s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:28:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 1 activities
2026-02-02 16:28:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 16:28:02 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 193.4s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 193.4s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 193.3s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.2s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 193.3s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.2s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.2s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 193.4s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.2s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 193.5s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:28:08 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:28:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:28:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.2s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 193.3s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:28:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.2s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 193.5s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:28:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 193.6s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 193.6s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('3255b547-52a4-4c47-9ee6-ffcbdfc43084', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('4b785121-a33c-44cb-999a-cf21742652c2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('b5be94ac-e543-4f40-a498-d4d17e8387f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('20e34adb-9865-41cd-ad1a-2580adada177', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('3f8db688-7155-45cc-8451-18f43aa23e2d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.3s ago] ('0b718183-d710-4a3e-837c-ead38cc08df9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('c1a7b539-bb0e-4c5b-8f06-84c8054de78a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('70318447-1723-4ccd-8b19-85728c43fb8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('d7550759-366e-4654-9bce-5c96d8bd1f76', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('b4265699-895b-4c10-b7f4-96dd12c7c9af', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('db882e0f-50a4-48d4-a289-47473984e0b6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('cac82a13-aa10-42a6-baf0-0f9ac1b7ef56', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('67a01287-981a-4810-b901-db7b9d73b940', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('d6adb4cc-9e9e-4978-9791-819726aea785', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('5e8b467e-69cd-48de-a840-f60c1196f055', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('f737745f-8458-4ce5-8fd0-25f1007592b5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('5d60a804-08a3-4c00-915a-8c99f1cac232', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('d16b127c-5f65-4ac5-9afa-d693b14da9a7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('1a74d865-30d3-451b-8fa9-0b34e5e3ce7d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.4s ago] ('bec7f27e-a635-48c0-a80a-2c224591da44', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.5s ago] ('fce1318f-deef-431b-9c4f-efe33a0ad7e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.5s ago] ('1e759b4b-e057-4586-8472-fe852354660b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.5s ago] ('beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.5s ago] ('861ba16d-e49a-4b96-bec3-30ed44791af0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.5s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.5s ago] ('9dc7689c-2d65-46e3-a004-e8a31f9a8130', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.5s ago] ('aa6c688a-ad71-4c6b-8b31-2444c48846b2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.5s ago] ('79eead51-bb14-400e-8df3-6e9fd4f7967a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:521 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:28:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:28:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('3255b547-52a4-4c47-9ee6-ffcbdfc43084', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('4b785121-a33c-44cb-999a-cf21742652c2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('b5be94ac-e543-4f40-a498-d4d17e8387f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('20e34adb-9865-41cd-ad1a-2580adada177', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('3f8db688-7155-45cc-8451-18f43aa23e2d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('0b718183-d710-4a3e-837c-ead38cc08df9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.6s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('c1a7b539-bb0e-4c5b-8f06-84c8054de78a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('70318447-1723-4ccd-8b19-85728c43fb8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('d7550759-366e-4654-9bce-5c96d8bd1f76', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('b4265699-895b-4c10-b7f4-96dd12c7c9af', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('db882e0f-50a4-48d4-a289-47473984e0b6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('cac82a13-aa10-42a6-baf0-0f9ac1b7ef56', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('67a01287-981a-4810-b901-db7b9d73b940', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('d6adb4cc-9e9e-4978-9791-819726aea785', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('5e8b467e-69cd-48de-a840-f60c1196f055', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('f737745f-8458-4ce5-8fd0-25f1007592b5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('5d60a804-08a3-4c00-915a-8c99f1cac232', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('d16b127c-5f65-4ac5-9afa-d693b14da9a7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('1a74d865-30d3-451b-8fa9-0b34e5e3ce7d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('bec7f27e-a635-48c0-a80a-2c224591da44', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('fce1318f-deef-431b-9c4f-efe33a0ad7e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('1e759b4b-e057-4586-8472-fe852354660b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('861ba16d-e49a-4b96-bec3-30ed44791af0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.7s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.8s ago] ('9dc7689c-2d65-46e3-a004-e8a31f9a8130', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.8s ago] ('aa6c688a-ad71-4c6b-8b31-2444c48846b2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, status, code_snapshot, created_at, test_results
                FROM submissions 
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 220.8s ago] ('79eead51-bb14-400e-8df3-6e9fd4f7967a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:28:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:521 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:28:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:28:10 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:28:12 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 16:28:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 23.28s ago] ('docente-001',)
2026-02-02 16:28:12 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:28:14 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 16:28:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00196s] ('alumno@test.com',)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00496s] ('alumno-001', 'ACTIVE')
2026-02-02 16:28:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 2 enrollments for student alumno-001
2026-02-02 16:28:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 309fd23a-eebf-496c-b939-fb482aa83100
2026-02-02 16:28:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 701c7617-75ea-4caa-89f9-a541f213e03a
2026-02-02 16:28:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 2 courses
2026-02-02 16:28:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894: 1 modules
2026-02-02 16:28:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a882f15f-d3ea-4105-b759-99c564e59758: 1 modules
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00185s] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00271s] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00194s] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02577s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02473s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02425s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08942s ago] ('alumno-001', 'ACTIVE')
2026-02-02 16:28:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 2 enrollments for student alumno-001
2026-02-02 16:28:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 309fd23a-eebf-496c-b939-fb482aa83100
2026-02-02 16:28:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 701c7617-75ea-4caa-89f9-a541f213e03a
2026-02-02 16:28:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 2 courses
2026-02-02 16:28:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894: 1 modules
2026-02-02 16:28:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a882f15f-d3ea-4105-b759-99c564e59758: 1 modules
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08354s ago] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08392s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.03550s] ('alumno-001',)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1314s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1628s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07562s ago] ('alumno-001',)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1737s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1735s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:28:15 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:28:58 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:29:00 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:29:01 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:29:52 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:30:45 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:31:40 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:31:41 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:32:34 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 16:32:34 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 16:32:35 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:32:35 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:32:35 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:32:35 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:32:35 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:32:35 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:32:35 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:32:35 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:32:35 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:32:35 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:32:35 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:32:35 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:32:35 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:32:35 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:32:42 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:32:42 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:32:42 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:32:42 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:33:22 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 16:33:22 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 16:33:22 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:33:22 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:33:22 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:33:22 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:33:22 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:33:22 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:33:22 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:33:22 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:33:22 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:33:22 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:33:22 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:33:22 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:33:22 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:33:22 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:33:29 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:33:30 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:33:30 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:33:30 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00183s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00271s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00277s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00201s] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5aa77877-9a59-4dec-b279-a9423aad1684 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00155s] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 6.728343587167171
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00208s] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03056s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fcfea6b-707a-467f-a3cc-2d2c4b07324d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 58.86026169582479
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01467s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04462s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 77536073-61e7-4d06-ab6c-02cc355540ca - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03424s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 5.593419516713559
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03306s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06131s ago] ('67731442-dba2-49ed-90f9-de5074befcfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3255b547-52a4-4c47-9ee6-ffcbdfc43084 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.76460379099599
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04674s ago] ('67731442-dba2-49ed-90f9-de5074befcfa',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07503s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 23eeb4aa-cdd7-47bf-a36c-40151494622e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05969s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08826s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 81.53423172772628
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07354s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.102s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 69.75778418711064
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08677s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1156s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 4b785121-a33c-44cb-999a-cf21742652c2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.63165592814903
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1008s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1285s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 92.44872853791902
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1131s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1414s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b5be94ac-e543-4f40-a498-d4d17e8387f5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 36.5693417133036
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1268s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1557s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.1981003747125
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.141s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1687s ago] ('962dae57-21fe-4130-8326-dc175aececfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cba02d6e-ebe3-4bff-bc61-ec6d89a5a558 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.344544062259594
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1545s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1825s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1745s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1742s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2018s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1937s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.194s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2215s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 20e34adb-9865-41cd-ad1a-2580adada177 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 64.97394717735978
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2057s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2345s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3f8db688-7155-45cc-8451-18f43aa23e2d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 26.38255934223792
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2203s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2484s ago] ('95b8075a-a232-4efa-be25-96d698d24a53', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 0b718183-d710-4a3e-837c-ead38cc08df9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 97.30972024748395
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2335s ago] ('95b8075a-a232-4efa-be25-96d698d24a53',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2613s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1a7b539-bb0e-4c5b-8f06-84c8054de78a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.18679375029005
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.245s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2731s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 70318447-1723-4ccd-8b19-85728c43fb8a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 72.33707828211048
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2576s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2866s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 92ebd687-6e0f-4404-9d55-cd0b2ca585f4 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 90.84970651151097
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2702s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2979s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2818s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3106s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d7550759-366e-4654-9bce-5c96d8bd1f76 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2949s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3223s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b4265699-895b-4c10-b7f4-96dd12c7c9af - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3083s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3378s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student db882e0f-50a4-48d4-a289-47473984e0b6 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3217s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3499s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 70.2883189408856
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.335s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3622s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 96.86170214622837
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3524s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3808s ago] ('38092a08-8559-4c7c-8006-fb88de026283', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cac82a13-aa10-42a6-baf0-0f9ac1b7ef56 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.41116800461339
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3662s ago] ('38092a08-8559-4c7c-8006-fb88de026283',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3962s ago] ('0894cd89-e8d8-4666-847a-014a1900f040', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 67a01287-981a-4810-b901-db7b9d73b940 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 83.59367354409704
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3856s ago] ('0894cd89-e8d8-4666-847a-014a1900f040',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4131s ago] ('47626aad-36a5-4e03-88f6-1349900feae1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d6adb4cc-9e9e-4978-9791-819726aea785 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 24.558986648445757
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3987s ago] ('47626aad-36a5-4e03-88f6-1349900feae1',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.428s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5e8b467e-69cd-48de-a840-f60c1196f055 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.55177434301152
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4128s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.441s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 36f701c3-6e25-471f-9de3-84a16383dc37 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.43913353901203
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4257s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4531s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student f737745f-8458-4ce5-8fd0-25f1007592b5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.827372430604427
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4386s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4681s ago] ('913967af-b157-488b-b042-457aa1de3251', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 94.1050873315914
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.452s ago] ('913967af-b157-488b-b042-457aa1de3251',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4802s ago] ('600d48b1-e36e-4442-8b3c-918464f61041', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4651s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4926s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5d60a804-08a3-4c00-915a-8c99f1cac232 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 34.34723520111347
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4785s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5072s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student ded858e6-26cb-4458-9975-f40dbf86f0a9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 93.38004829431685
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4924s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5216s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1a74d865-30d3-451b-8fa9-0b34e5e3ce7d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 62.45677323459696
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5078s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5375s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d16b127c-5f65-4ac5-9afa-d693b14da9a7 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5222s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5502s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student fce1318f-deef-431b-9c4f-efe33a0ad7e2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.00224298905512
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5353s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5623s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1e759b4b-e057-4586-8472-fe852354660b - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5456s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5729s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student bec7f27e-a635-48c0-a80a-2c224591da44 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 29.50956314839936
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5575s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5858s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fea9290-ec6a-44ec-acc1-056941711bb0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.49915532966209
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5686s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5973s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.56396080997587
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5789s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6069s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 861ba16d-e49a-4b96-bec3-30ed44791af0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.73722778895566
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5909s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6187s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student aa6c688a-ad71-4c6b-8b31-2444c48846b2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.97545678421069
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6028s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6304s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9dc7689c-2d65-46e3-a004-e8a31f9a8130 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 95.66582872662738
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6142s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6411s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 79eead51-bb14-400e-8df3-6e9fd4f7967a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 28.9635727619158
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6264s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97',)
2026-02-02 16:33:49 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:521 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00139s] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00148s] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00111s] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00165s] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00144s] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:33:49 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:34:13 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 16:34:13 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 16:34:14 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:34:14 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:34:14 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:34:14 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:34:14 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:34:14 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:34:14 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:34:14 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:34:14 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:34:14 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:34:14 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:34:14 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:34:14 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:34:14 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:34:20 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:34:20 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:34:20 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:34:20 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00206s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00178s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00144s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00147s] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5aa77877-9a59-4dec-b279-a9423aad1684 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00141s] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 6.728343587167171
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00330s] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03202s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fcfea6b-707a-467f-a3cc-2d2c4b07324d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 58.86026169582479
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02095s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04863s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 77536073-61e7-4d06-ab6c-02cc355540ca - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04206s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 5.593419516713559
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04027s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06853s ago] ('67731442-dba2-49ed-90f9-de5074befcfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3255b547-52a4-4c47-9ee6-ffcbdfc43084 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.76460379099599
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05599s ago] ('67731442-dba2-49ed-90f9-de5074befcfa',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08205s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 23eeb4aa-cdd7-47bf-a36c-40151494622e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07425s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.09996s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 81.53423172772628
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0871s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1129s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 69.75778418711064
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1044s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1309s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 4b785121-a33c-44cb-999a-cf21742652c2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.63165592814903
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1183s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1468s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 92.44872853791902
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1353s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1609s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b5be94ac-e543-4f40-a498-d4d17e8387f5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 36.5693417133036
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1482s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1779s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.1981003747125
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1669s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1936s ago] ('962dae57-21fe-4130-8326-dc175aececfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cba02d6e-ebe3-4bff-bc61-ec6d89a5a558 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.344544062259594
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1814s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2094s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2037s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.206s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2327s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2265s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2263s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2523s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 20e34adb-9865-41cd-ad1a-2580adada177 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 64.97394717735978
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2402s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2669s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3f8db688-7155-45cc-8451-18f43aa23e2d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 26.38255934223792
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2546s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2803s ago] ('95b8075a-a232-4efa-be25-96d698d24a53', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 0b718183-d710-4a3e-837c-ead38cc08df9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 97.30972024748395
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2675s ago] ('95b8075a-a232-4efa-be25-96d698d24a53',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2935s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1a7b539-bb0e-4c5b-8f06-84c8054de78a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.18679375029005
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2808s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.308s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 70318447-1723-4ccd-8b19-85728c43fb8a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 72.33707828211048
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2953s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3208s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 92ebd687-6e0f-4404-9d55-cd0b2ca585f4 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 90.84970651151097
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3081s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3364s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3247s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3506s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d7550759-366e-4654-9bce-5c96d8bd1f76 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3412s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3705s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b4265699-895b-4c10-b7f4-96dd12c7c9af - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3582s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3862s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student db882e0f-50a4-48d4-a289-47473984e0b6 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3738s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4009s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 70.2883189408856
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3886s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26',)
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4174s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:22 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 96.86170214622837
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4042s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4306s ago] ('38092a08-8559-4c7c-8006-fb88de026283', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cac82a13-aa10-42a6-baf0-0f9ac1b7ef56 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.41116800461339
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4184s ago] ('38092a08-8559-4c7c-8006-fb88de026283',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4456s ago] ('0894cd89-e8d8-4666-847a-014a1900f040', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 67a01287-981a-4810-b901-db7b9d73b940 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 83.59367354409704
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4364s ago] ('0894cd89-e8d8-4666-847a-014a1900f040',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4624s ago] ('47626aad-36a5-4e03-88f6-1349900feae1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d6adb4cc-9e9e-4978-9791-819726aea785 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 24.558986648445757
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4506s ago] ('47626aad-36a5-4e03-88f6-1349900feae1',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4785s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5e8b467e-69cd-48de-a840-f60c1196f055 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.55177434301152
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4665s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4923s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 36f701c3-6e25-471f-9de3-84a16383dc37 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.43913353901203
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4814s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5088s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student f737745f-8458-4ce5-8fd0-25f1007592b5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.827372430604427
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4987s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5249s ago] ('913967af-b157-488b-b042-457aa1de3251', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 94.1050873315914
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5124s ago] ('913967af-b157-488b-b042-457aa1de3251',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5437s ago] ('600d48b1-e36e-4442-8b3c-918464f61041', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5356s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5629s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5d60a804-08a3-4c00-915a-8c99f1cac232 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 34.34723520111347
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5512s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5789s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student ded858e6-26cb-4458-9975-f40dbf86f0a9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 93.38004829431685
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5664s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5925s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1a74d865-30d3-451b-8fa9-0b34e5e3ce7d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 62.45677323459696
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5795s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6073s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d16b127c-5f65-4ac5-9afa-d693b14da9a7 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5941s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.622s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student fce1318f-deef-431b-9c4f-efe33a0ad7e2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.00224298905512
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6093s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.638s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1e759b4b-e057-4586-8472-fe852354660b - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6233s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6513s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student bec7f27e-a635-48c0-a80a-2c224591da44 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 29.50956314839936
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6381s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6645s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fea9290-ec6a-44ec-acc1-056941711bb0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.49915532966209
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6528s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6808s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.56396080997587
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6685s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6941s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 861ba16d-e49a-4b96-bec3-30ed44791af0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.73722778895566
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6815s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7099s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student aa6c688a-ad71-4c6b-8b31-2444c48846b2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.97545678421069
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7002s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7292s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9dc7689c-2d65-46e3-a004-e8a31f9a8130 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 95.66582872662738
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7178s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066',)
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7439s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 79eead51-bb14-400e-8df3-6e9fd4f7967a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 28.9635727619158
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7306s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97',)
2026-02-02 16:34:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:521 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:34:23 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:35:04 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.73s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.73s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.73s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.73s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5aa77877-9a59-4dec-b279-a9423aad1684 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.72s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 6.728343587167171
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.72s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.75s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fcfea6b-707a-467f-a3cc-2d2c4b07324d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 58.86026169582479
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.74s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.77s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 77536073-61e7-4d06-ab6c-02cc355540ca - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.77s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 5.593419516713559
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.77s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.79s ago] ('67731442-dba2-49ed-90f9-de5074befcfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3255b547-52a4-4c47-9ee6-ffcbdfc43084 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.76460379099599
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.78s ago] ('67731442-dba2-49ed-90f9-de5074befcfa',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.81s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 23eeb4aa-cdd7-47bf-a36c-40151494622e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.8s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.83s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 81.53423172772628
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.82s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.84s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 69.75778418711064
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.83s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.86s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 4b785121-a33c-44cb-999a-cf21742652c2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.63165592814903
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.85s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.88s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 92.44872853791902
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.87s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.89s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b5be94ac-e543-4f40-a498-d4d17e8387f5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 36.5693417133036
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.88s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.91s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.1981003747125
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.9s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.92s ago] ('962dae57-21fe-4130-8326-dc175aececfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cba02d6e-ebe3-4bff-bc61-ec6d89a5a558 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.344544062259594
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.91s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.94s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.93s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.94s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.96s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.96s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.96s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.98s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 20e34adb-9865-41cd-ad1a-2580adada177 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 64.97394717735978
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.97s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3f8db688-7155-45cc-8451-18f43aa23e2d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 26.38255934223792
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 67.99s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.02s ago] ('95b8075a-a232-4efa-be25-96d698d24a53', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 0b718183-d710-4a3e-837c-ead38cc08df9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 97.30972024748395
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68s ago] ('95b8075a-a232-4efa-be25-96d698d24a53',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.03s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1a7b539-bb0e-4c5b-8f06-84c8054de78a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.18679375029005
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.02s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.05s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 70318447-1723-4ccd-8b19-85728c43fb8a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 72.33707828211048
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.04s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.06s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 92ebd687-6e0f-4404-9d55-cd0b2ca585f4 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 90.84970651151097
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.05s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.08s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.07s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.1s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d7550759-366e-4654-9bce-5c96d8bd1f76 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.08s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.11s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b4265699-895b-4c10-b7f4-96dd12c7c9af - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.1s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.13s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student db882e0f-50a4-48d4-a289-47473984e0b6 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.11s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.14s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 70.2883189408856
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.13s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.16s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 96.86170214622837
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.14s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.17s ago] ('38092a08-8559-4c7c-8006-fb88de026283', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cac82a13-aa10-42a6-baf0-0f9ac1b7ef56 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.41116800461339
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.16s ago] ('38092a08-8559-4c7c-8006-fb88de026283',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.19s ago] ('0894cd89-e8d8-4666-847a-014a1900f040', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 67a01287-981a-4810-b901-db7b9d73b940 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 83.59367354409704
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.18s ago] ('0894cd89-e8d8-4666-847a-014a1900f040',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.21s ago] ('47626aad-36a5-4e03-88f6-1349900feae1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d6adb4cc-9e9e-4978-9791-819726aea785 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 24.558986648445757
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.19s ago] ('47626aad-36a5-4e03-88f6-1349900feae1',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.22s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5e8b467e-69cd-48de-a840-f60c1196f055 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.55177434301152
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.21s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.24s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 36f701c3-6e25-471f-9de3-84a16383dc37 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.43913353901203
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.23s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.26s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student f737745f-8458-4ce5-8fd0-25f1007592b5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.827372430604427
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.25s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.28s ago] ('913967af-b157-488b-b042-457aa1de3251', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 94.1050873315914
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.27s ago] ('913967af-b157-488b-b042-457aa1de3251',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.3s ago] ('600d48b1-e36e-4442-8b3c-918464f61041', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.29s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.32s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5d60a804-08a3-4c00-915a-8c99f1cac232 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 34.34723520111347
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.31s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.34s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student ded858e6-26cb-4458-9975-f40dbf86f0a9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 93.38004829431685
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.33s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.35s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1a74d865-30d3-451b-8fa9-0b34e5e3ce7d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 62.45677323459696
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.34s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.37s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d16b127c-5f65-4ac5-9afa-d693b14da9a7 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.36s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.39s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student fce1318f-deef-431b-9c4f-efe33a0ad7e2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.00224298905512
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.38s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.41s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1e759b4b-e057-4586-8472-fe852354660b - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:30 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.4s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221',)
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.43s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:31 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student bec7f27e-a635-48c0-a80a-2c224591da44 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:31 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 29.50956314839936
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.42s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd',)
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.45s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:31 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fea9290-ec6a-44ec-acc1-056941711bb0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:31 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.49915532966209
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.44s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.46s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:31 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:31 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.56396080997587
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.46s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe',)
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.49s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:31 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 861ba16d-e49a-4b96-bec3-30ed44791af0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:31 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.73722778895566
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.48s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6',)
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.51s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:31 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student aa6c688a-ad71-4c6b-8b31-2444c48846b2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:31 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.97545678421069
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.5s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6',)
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.53s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:31 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9dc7689c-2d65-46e3-a004-e8a31f9a8130 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:31 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 95.66582872662738
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.52s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066',)
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.55s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:35:31 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 79eead51-bb14-400e-8df3-6e9fd4f7967a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:35:31 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 28.9635727619158
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.54s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97',)
2026-02-02 16:35:31 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:521 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:35:31 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:35:59 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5aa77877-9a59-4dec-b279-a9423aad1684 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 6.728343587167171
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fcfea6b-707a-467f-a3cc-2d2c4b07324d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 58.86026169582479
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 77536073-61e7-4d06-ab6c-02cc355540ca - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 5.593419516713559
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('67731442-dba2-49ed-90f9-de5074befcfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3255b547-52a4-4c47-9ee6-ffcbdfc43084 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.76460379099599
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('67731442-dba2-49ed-90f9-de5074befcfa',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 23eeb4aa-cdd7-47bf-a36c-40151494622e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 81.53423172772628
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 69.75778418711064
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 4b785121-a33c-44cb-999a-cf21742652c2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.63165592814903
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.1s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 92.44872853791902
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b5be94ac-e543-4f40-a498-d4d17e8387f5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 36.5693417133036
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.1981003747125
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('962dae57-21fe-4130-8326-dc175aececfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cba02d6e-ebe3-4bff-bc61-ec6d89a5a558 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.344544062259594
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 20e34adb-9865-41cd-ad1a-2580adada177 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 64.97394717735978
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.2s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3f8db688-7155-45cc-8451-18f43aa23e2d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 26.38255934223792
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('95b8075a-a232-4efa-be25-96d698d24a53', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 0b718183-d710-4a3e-837c-ead38cc08df9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 97.30972024748395
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('95b8075a-a232-4efa-be25-96d698d24a53',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1a7b539-bb0e-4c5b-8f06-84c8054de78a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.18679375029005
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 70318447-1723-4ccd-8b19-85728c43fb8a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 72.33707828211048
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 92ebd687-6e0f-4404-9d55-cd0b2ca585f4 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 90.84970651151097
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d7550759-366e-4654-9bce-5c96d8bd1f76 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b4265699-895b-4c10-b7f4-96dd12c7c9af - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student db882e0f-50a4-48d4-a289-47473984e0b6 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.3s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 70.2883189408856
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 96.86170214622837
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('38092a08-8559-4c7c-8006-fb88de026283', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cac82a13-aa10-42a6-baf0-0f9ac1b7ef56 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.41116800461339
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('38092a08-8559-4c7c-8006-fb88de026283',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('0894cd89-e8d8-4666-847a-014a1900f040', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 67a01287-981a-4810-b901-db7b9d73b940 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 83.59367354409704
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('0894cd89-e8d8-4666-847a-014a1900f040',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('47626aad-36a5-4e03-88f6-1349900feae1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d6adb4cc-9e9e-4978-9791-819726aea785 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 24.558986648445757
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('47626aad-36a5-4e03-88f6-1349900feae1',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5e8b467e-69cd-48de-a840-f60c1196f055 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:13 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.55177434301152
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302',)
2026-02-02 16:36:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 36f701c3-6e25-471f-9de3-84a16383dc37 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.43913353901203
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student f737745f-8458-4ce5-8fd0-25f1007592b5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.827372430604427
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('913967af-b157-488b-b042-457aa1de3251', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 94.1050873315914
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.4s ago] ('913967af-b157-488b-b042-457aa1de3251',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('600d48b1-e36e-4442-8b3c-918464f61041', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5d60a804-08a3-4c00-915a-8c99f1cac232 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 34.34723520111347
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student ded858e6-26cb-4458-9975-f40dbf86f0a9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 93.38004829431685
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1a74d865-30d3-451b-8fa9-0b34e5e3ce7d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 62.45677323459696
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d16b127c-5f65-4ac5-9afa-d693b14da9a7 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student fce1318f-deef-431b-9c4f-efe33a0ad7e2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.00224298905512
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1e759b4b-e057-4586-8472-fe852354660b - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.6s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student bec7f27e-a635-48c0-a80a-2c224591da44 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 29.50956314839936
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.5s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.6s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fea9290-ec6a-44ec-acc1-056941711bb0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.49915532966209
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.6s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.6s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.56396080997587
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.6s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.6s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 861ba16d-e49a-4b96-bec3-30ed44791af0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.73722778895566
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.6s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.6s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student aa6c688a-ad71-4c6b-8b31-2444c48846b2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.97545678421069
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.6s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.6s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9dc7689c-2d65-46e3-a004-e8a31f9a8130 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 95.66582872662738
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.6s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066',)
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.6s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 79eead51-bb14-400e-8df3-6e9fd4f7967a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 28.9635727619158
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 111.6s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97',)
2026-02-02 16:36:14 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:521 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:36:14 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.6s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.6s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.6s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.6s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5aa77877-9a59-4dec-b279-a9423aad1684 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.6s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 6.728343587167171
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.6s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.6s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fcfea6b-707a-467f-a3cc-2d2c4b07324d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 58.86026169582479
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.6s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.6s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 77536073-61e7-4d06-ab6c-02cc355540ca - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.6s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 5.593419516713559
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.6s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('67731442-dba2-49ed-90f9-de5074befcfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3255b547-52a4-4c47-9ee6-ffcbdfc43084 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.76460379099599
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.6s ago] ('67731442-dba2-49ed-90f9-de5074befcfa',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 23eeb4aa-cdd7-47bf-a36c-40151494622e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 81.53423172772628
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 69.75778418711064
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 4b785121-a33c-44cb-999a-cf21742652c2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.63165592814903
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 92.44872853791902
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b5be94ac-e543-4f40-a498-d4d17e8387f5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 36.5693417133036
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.1981003747125
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('962dae57-21fe-4130-8326-dc175aececfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cba02d6e-ebe3-4bff-bc61-ec6d89a5a558 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.344544062259594
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.7s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.8s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.8s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.8s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.8s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.8s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.8s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.8s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 20e34adb-9865-41cd-ad1a-2580adada177 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 64.97394717735978
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.8s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.8s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3f8db688-7155-45cc-8451-18f43aa23e2d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 26.38255934223792
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.8s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.8s ago] ('95b8075a-a232-4efa-be25-96d698d24a53', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 0b718183-d710-4a3e-837c-ead38cc08df9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 97.30972024748395
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.8s ago] ('95b8075a-a232-4efa-be25-96d698d24a53',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.8s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1a7b539-bb0e-4c5b-8f06-84c8054de78a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.18679375029005
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.8s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 70318447-1723-4ccd-8b19-85728c43fb8a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 72.33707828211048
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.8s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 92ebd687-6e0f-4404-9d55-cd0b2ca585f4 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 90.84970651151097
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d7550759-366e-4654-9bce-5c96d8bd1f76 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b4265699-895b-4c10-b7f4-96dd12c7c9af - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student db882e0f-50a4-48d4-a289-47473984e0b6 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 70.2883189408856
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 96.86170214622837
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121s ago] ('38092a08-8559-4c7c-8006-fb88de026283', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cac82a13-aa10-42a6-baf0-0f9ac1b7ef56 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.41116800461339
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 120.9s ago] ('38092a08-8559-4c7c-8006-fb88de026283',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121s ago] ('0894cd89-e8d8-4666-847a-014a1900f040', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 67a01287-981a-4810-b901-db7b9d73b940 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 83.59367354409704
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121s ago] ('0894cd89-e8d8-4666-847a-014a1900f040',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121s ago] ('47626aad-36a5-4e03-88f6-1349900feae1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d6adb4cc-9e9e-4978-9791-819726aea785 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 24.558986648445757
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121s ago] ('47626aad-36a5-4e03-88f6-1349900feae1',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5e8b467e-69cd-48de-a840-f60c1196f055 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.55177434301152
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 36f701c3-6e25-471f-9de3-84a16383dc37 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.43913353901203
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student f737745f-8458-4ce5-8fd0-25f1007592b5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.827372430604427
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121s ago] ('913967af-b157-488b-b042-457aa1de3251', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 94.1050873315914
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121s ago] ('913967af-b157-488b-b042-457aa1de3251',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.1s ago] ('600d48b1-e36e-4442-8b3c-918464f61041', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.1s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5d60a804-08a3-4c00-915a-8c99f1cac232 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 34.34723520111347
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.1s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.1s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student ded858e6-26cb-4458-9975-f40dbf86f0a9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 93.38004829431685
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.1s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.1s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1a74d865-30d3-451b-8fa9-0b34e5e3ce7d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 62.45677323459696
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.1s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.1s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d16b127c-5f65-4ac5-9afa-d693b14da9a7 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.1s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.1s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student fce1318f-deef-431b-9c4f-efe33a0ad7e2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.00224298905512
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.1s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.1s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1e759b4b-e057-4586-8472-fe852354660b - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.1s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.2s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student bec7f27e-a635-48c0-a80a-2c224591da44 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 29.50956314839936
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.1s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.2s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fea9290-ec6a-44ec-acc1-056941711bb0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.49915532966209
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.2s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.2s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.56396080997587
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.2s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.2s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 861ba16d-e49a-4b96-bec3-30ed44791af0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.73722778895566
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.2s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.2s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student aa6c688a-ad71-4c6b-8b31-2444c48846b2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.97545678421069
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.2s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.3s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9dc7689c-2d65-46e3-a004-e8a31f9a8130 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 95.66582872662738
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.3s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066',)
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.3s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 79eead51-bb14-400e-8df3-6e9fd4f7967a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 28.9635727619158
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 121.3s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97',)
2026-02-02 16:36:23 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:521 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:36:23 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:36:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:36:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:36:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00216s] ('5aa77877-9a59-4dec-b279-a9423aad1684',)
2026-02-02 16:36:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:36:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00157s] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:36:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00163s] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:36:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:36:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00137s] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, ai_feedback, status
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY submitted_at DESC LIMIT 1
            
2026-02-02 16:36:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00256s] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:36:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:36:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00368s] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:36:36 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:36:54 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:37:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:38:43 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:39:43 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:40:38 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:41:21 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:41:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:41:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 284.9s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d',)
2026-02-02 16:41:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:41:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 284.9s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:41:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:41:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 284.9s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:41:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:41:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 284.9s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:41:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:41:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 284.9s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:41:21 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:41:30 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:41:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:41:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 294.4s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1',)
2026-02-02 16:41:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:41:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 294.4s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:41:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:41:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 294.4s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:41:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:41:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 294.4s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:41:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:41:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 294.4s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:41:30 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:41:33 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:42:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:42:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 350.5s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e',)
2026-02-02 16:42:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:42:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 350.5s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:42:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 350.5s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:42:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:42:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 350.5s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:42:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 350.5s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:42:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:42:34 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:42:46 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 16:42:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00489s] ('docente@test.com',)
2026-02-02 16:42:46 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:42:46 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 16:42:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00330s] ('docente-001',)
2026-02-02 16:42:46 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:42:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 16:42:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00383s] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 16:42:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:42:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 16:42:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03632s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a', 'ACTIVE')
2026-02-02 16:42:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:42:48 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 16:42:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.02576s] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:42:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 1 activities
2026-02-02 16:42:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 16:42:48 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:42:48 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 16:42:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1156s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 16:42:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 701c7617-75ea-4caa-89f9-a541f213e03a - Found 1 activities
2026-02-02 16:42:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 16:42:48 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00529s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04572s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00221s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07113s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00184s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1072s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06678s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1453s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1541s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08541s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5aa77877-9a59-4dec-b279-a9423aad1684 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 6.728343587167171
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.1s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.1s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fcfea6b-707a-467f-a3cc-2d2c4b07324d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 58.86026169582479
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.1s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.1s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 77536073-61e7-4d06-ab6c-02cc355540ca - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.1s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 5.593419516713559
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.1s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.1s ago] ('67731442-dba2-49ed-90f9-de5074befcfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3255b547-52a4-4c47-9ee6-ffcbdfc43084 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.76460379099599
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.1s ago] ('67731442-dba2-49ed-90f9-de5074befcfa',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.1s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 23eeb4aa-cdd7-47bf-a36c-40151494622e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.1s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.2s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 81.53423172772628
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.2s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.2s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 69.75778418711064
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.2s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.2s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 4b785121-a33c-44cb-999a-cf21742652c2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.63165592814903
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.2s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.2s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 92.44872853791902
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.2s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.2s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b5be94ac-e543-4f40-a498-d4d17e8387f5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 36.5693417133036
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.2s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.3s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.1981003747125
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.2s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.3s ago] ('962dae57-21fe-4130-8326-dc175aececfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cba02d6e-ebe3-4bff-bc61-ec6d89a5a558 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.344544062259594
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.3s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.3s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.3s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.3s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.3s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.3s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.3s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.3s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 20e34adb-9865-41cd-ad1a-2580adada177 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 64.97394717735978
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.3s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.4s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3f8db688-7155-45cc-8451-18f43aa23e2d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 26.38255934223792
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.3s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.4s ago] ('95b8075a-a232-4efa-be25-96d698d24a53', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 0b718183-d710-4a3e-837c-ead38cc08df9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 97.30972024748395
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.4s ago] ('95b8075a-a232-4efa-be25-96d698d24a53',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.4s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1a7b539-bb0e-4c5b-8f06-84c8054de78a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.18679375029005
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.4s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.4s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 70318447-1723-4ccd-8b19-85728c43fb8a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 72.33707828211048
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.4s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa',)
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.4s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 92ebd687-6e0f-4404-9d55-cd0b2ca585f4 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 90.84970651151097
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.4s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.4s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.4s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.5s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d7550759-366e-4654-9bce-5c96d8bd1f76 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.5s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.5s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b4265699-895b-4c10-b7f4-96dd12c7c9af - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.5s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.5s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student db882e0f-50a4-48d4-a289-47473984e0b6 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.5s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.5s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 70.2883189408856
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.5s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.5s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 96.86170214622837
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.5s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.5s ago] ('38092a08-8559-4c7c-8006-fb88de026283', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cac82a13-aa10-42a6-baf0-0f9ac1b7ef56 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.41116800461339
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.5s ago] ('38092a08-8559-4c7c-8006-fb88de026283',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.6s ago] ('0894cd89-e8d8-4666-847a-014a1900f040', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 67a01287-981a-4810-b901-db7b9d73b940 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 83.59367354409704
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.6s ago] ('0894cd89-e8d8-4666-847a-014a1900f040',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.6s ago] ('47626aad-36a5-4e03-88f6-1349900feae1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d6adb4cc-9e9e-4978-9791-819726aea785 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 24.558986648445757
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.6s ago] ('47626aad-36a5-4e03-88f6-1349900feae1',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.6s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5e8b467e-69cd-48de-a840-f60c1196f055 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.55177434301152
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.6s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.6s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 36f701c3-6e25-471f-9de3-84a16383dc37 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.43913353901203
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.6s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.6s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student f737745f-8458-4ce5-8fd0-25f1007592b5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.827372430604427
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.6s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.7s ago] ('913967af-b157-488b-b042-457aa1de3251', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 94.1050873315914
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.6s ago] ('913967af-b157-488b-b042-457aa1de3251',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.7s ago] ('600d48b1-e36e-4442-8b3c-918464f61041', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.7s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.7s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5d60a804-08a3-4c00-915a-8c99f1cac232 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 34.34723520111347
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.7s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.7s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student ded858e6-26cb-4458-9975-f40dbf86f0a9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 93.38004829431685
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.7s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.7s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1a74d865-30d3-451b-8fa9-0b34e5e3ce7d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 62.45677323459696
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.7s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.7s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d16b127c-5f65-4ac5-9afa-d693b14da9a7 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.7s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.8s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student fce1318f-deef-431b-9c4f-efe33a0ad7e2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.00224298905512
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.7s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.8s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1e759b4b-e057-4586-8472-fe852354660b - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.8s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.8s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student bec7f27e-a635-48c0-a80a-2c224591da44 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 29.50956314839936
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.8s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.8s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fea9290-ec6a-44ec-acc1-056941711bb0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.49915532966209
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.8s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.8s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.56396080997587
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.8s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.8s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 861ba16d-e49a-4b96-bec3-30ed44791af0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.73722778895566
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.8s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.9s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student aa6c688a-ad71-4c6b-8b31-2444c48846b2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.97545678421069
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.9s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.9s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9dc7689c-2d65-46e3-a004-e8a31f9a8130 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 95.66582872662738
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.9s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.9s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 79eead51-bb14-400e-8df3-6e9fd4f7967a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 28.9635727619158
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 508.9s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97',)
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:521 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5aa77877-9a59-4dec-b279-a9423aad1684 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 6.728343587167171
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fcfea6b-707a-467f-a3cc-2d2c4b07324d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 58.86026169582479
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 77536073-61e7-4d06-ab6c-02cc355540ca - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 5.593419516713559
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('67731442-dba2-49ed-90f9-de5074befcfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3255b547-52a4-4c47-9ee6-ffcbdfc43084 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.76460379099599
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('67731442-dba2-49ed-90f9-de5074befcfa',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 23eeb4aa-cdd7-47bf-a36c-40151494622e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.1s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 81.53423172772628
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.1s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 69.75778418711064
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.1s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.1s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 4b785121-a33c-44cb-999a-cf21742652c2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.63165592814903
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.1s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.1s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 92.44872853791902
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.1s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.1s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b5be94ac-e543-4f40-a498-d4d17e8387f5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 36.5693417133036
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.1s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.1s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.1981003747125
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.1s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.2s ago] ('962dae57-21fe-4130-8326-dc175aececfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cba02d6e-ebe3-4bff-bc61-ec6d89a5a558 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.344544062259594
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.2s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.2s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.2s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.2s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.2s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.2s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.2s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.2s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 20e34adb-9865-41cd-ad1a-2580adada177 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 64.97394717735978
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.2s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.3s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3f8db688-7155-45cc-8451-18f43aa23e2d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 26.38255934223792
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.2s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.3s ago] ('95b8075a-a232-4efa-be25-96d698d24a53', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 0b718183-d710-4a3e-837c-ead38cc08df9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 97.30972024748395
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.3s ago] ('95b8075a-a232-4efa-be25-96d698d24a53',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.3s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1a7b539-bb0e-4c5b-8f06-84c8054de78a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.18679375029005
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.3s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.3s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 70318447-1723-4ccd-8b19-85728c43fb8a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 72.33707828211048
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.3s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.3s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 92ebd687-6e0f-4404-9d55-cd0b2ca585f4 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 90.84970651151097
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.3s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.3s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.3s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.4s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d7550759-366e-4654-9bce-5c96d8bd1f76 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.3s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.4s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b4265699-895b-4c10-b7f4-96dd12c7c9af - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.4s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.4s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student db882e0f-50a4-48d4-a289-47473984e0b6 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.4s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.4s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 70.2883189408856
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.4s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.4s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:51 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 96.86170214622837
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.4s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:42:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.4s ago] ('38092a08-8559-4c7c-8006-fb88de026283', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cac82a13-aa10-42a6-baf0-0f9ac1b7ef56 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.41116800461339
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.4s ago] ('38092a08-8559-4c7c-8006-fb88de026283',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.5s ago] ('0894cd89-e8d8-4666-847a-014a1900f040', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 67a01287-981a-4810-b901-db7b9d73b940 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 83.59367354409704
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.5s ago] ('0894cd89-e8d8-4666-847a-014a1900f040',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.5s ago] ('47626aad-36a5-4e03-88f6-1349900feae1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d6adb4cc-9e9e-4978-9791-819726aea785 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 24.558986648445757
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.5s ago] ('47626aad-36a5-4e03-88f6-1349900feae1',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.5s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5e8b467e-69cd-48de-a840-f60c1196f055 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.55177434301152
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.5s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.5s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 36f701c3-6e25-471f-9de3-84a16383dc37 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.43913353901203
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.5s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.5s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student f737745f-8458-4ce5-8fd0-25f1007592b5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.827372430604427
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.5s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.6s ago] ('913967af-b157-488b-b042-457aa1de3251', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 94.1050873315914
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.5s ago] ('913967af-b157-488b-b042-457aa1de3251',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.6s ago] ('600d48b1-e36e-4442-8b3c-918464f61041', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.6s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.6s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5d60a804-08a3-4c00-915a-8c99f1cac232 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 34.34723520111347
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.6s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.6s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student ded858e6-26cb-4458-9975-f40dbf86f0a9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 93.38004829431685
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.6s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.6s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1a74d865-30d3-451b-8fa9-0b34e5e3ce7d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 62.45677323459696
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.6s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.6s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d16b127c-5f65-4ac5-9afa-d693b14da9a7 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.6s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.7s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student fce1318f-deef-431b-9c4f-efe33a0ad7e2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.00224298905512
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.6s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.7s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1e759b4b-e057-4586-8472-fe852354660b - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.7s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.7s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student bec7f27e-a635-48c0-a80a-2c224591da44 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 29.50956314839936
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.7s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.7s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fea9290-ec6a-44ec-acc1-056941711bb0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.49915532966209
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.7s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.7s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.56396080997587
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.7s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.7s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 861ba16d-e49a-4b96-bec3-30ed44791af0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.73722778895566
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.7s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.8s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student aa6c688a-ad71-4c6b-8b31-2444c48846b2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.97545678421069
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.7s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.8s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9dc7689c-2d65-46e3-a004-e8a31f9a8130 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 95.66582872662738
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.8s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066',)
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.8s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 79eead51-bb14-400e-8df3-6e9fd4f7967a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 28.9635727619158
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 509.8s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97',)
2026-02-02 16:42:52 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:521 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:42:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:42:55 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:42:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:42:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 379s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684',)
2026-02-02 16:42:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:42:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 379s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:42:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 379s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:42:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:42:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 379s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, ai_feedback, status
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY submitted_at DESC LIMIT 1
            
2026-02-02 16:42:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 379s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:42:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:42:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 379s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:42:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:43:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:43:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:43:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 384.7s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558',)
2026-02-02 16:43:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:43:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 384.7s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:43:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:43:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 384.7s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:43:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:43:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 384.7s ago] ('962dae57-21fe-4130-8326-dc175aececfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:43:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:43:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 384.7s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:43:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:43:17 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:43:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:43:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 400.6s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb',)
2026-02-02 16:43:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:43:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 400.6s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:43:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:43:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 400.6s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:43:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:43:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 400.6s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:43:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:43:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 400.6s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:43:17 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:43:24 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:43:26 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:43:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:43:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:43:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 410.1s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684',)
2026-02-02 16:43:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:43:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 410.1s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:43:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:43:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 410.1s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:43:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:43:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 410.1s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:43:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, ai_feedback, status
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY submitted_at DESC LIMIT 1
            
2026-02-02 16:43:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 410.1s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:43:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:43:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 410.1s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:43:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:43:29 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:43:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:43:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 412.7s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d',)
2026-02-02 16:43:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:43:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 412.7s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:43:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:43:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 412.7s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:43:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:43:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 412.7s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:43:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:43:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 412.7s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:43:29 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:43:48 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:43:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:43:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 432.2s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4',)
2026-02-02 16:43:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:43:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 432.2s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:43:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:43:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 432.2s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:43:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:43:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 432.2s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:43:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:43:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 432.2s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:43:48 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:44:03 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:44:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:44:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 447.4s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c',)
2026-02-02 16:44:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:44:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 447.4s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:44:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 447.4s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:44:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:44:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 447.4s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:44:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 447.4s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:44:03 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:44:11 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:44:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:44:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 455.1s ago] ('d6adb4cc-9e9e-4978-9791-819726aea785',)
2026-02-02 16:44:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:44:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 455.1s ago] ('d6adb4cc-9e9e-4978-9791-819726aea785', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:44:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 455.1s ago] ('47626aad-36a5-4e03-88f6-1349900feae1',)
2026-02-02 16:44:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:44:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 455.1s ago] ('47626aad-36a5-4e03-88f6-1349900feae1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:44:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 455s ago] ('47626aad-36a5-4e03-88f6-1349900feae1',)
2026-02-02 16:44:11 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:44:20 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:44:24 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:44:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:44:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 467.7s ago] ('db882e0f-50a4-48d4-a289-47473984e0b6',)
2026-02-02 16:44:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:44:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 467.7s ago] ('db882e0f-50a4-48d4-a289-47473984e0b6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:44:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 467.7s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb',)
2026-02-02 16:44:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:44:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 467.7s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:44:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 467.7s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb',)
2026-02-02 16:44:24 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:44:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:44:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:44:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 478.4s ago] ('05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e',)
2026-02-02 16:44:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:44:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 478.4s ago] ('05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:44:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 478.4s ago] ('913967af-b157-488b-b042-457aa1de3251',)
2026-02-02 16:44:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:44:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 478.4s ago] ('913967af-b157-488b-b042-457aa1de3251', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:44:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 478.4s ago] ('913967af-b157-488b-b042-457aa1de3251',)
2026-02-02 16:44:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:44:42 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:44:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:44:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 486.2s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d',)
2026-02-02 16:44:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:44:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 486.2s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:44:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 486.2s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:44:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:44:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 486.2s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:44:42 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 486.2s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:44:42 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:44:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:44:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:44:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 488.6s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0',)
2026-02-02 16:44:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:44:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 488.6s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:44:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 488.6s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:44:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:44:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 488.6s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:44:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 488.6s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:44:45 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 500.3s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d',)
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 500.3s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 500.3s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 500.3s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 500.3s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 500.4s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1',)
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 500.4s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 500.4s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 500.4s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 500.4s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 500.4s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e',)
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 500.4s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 500.4s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 500.4s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 500.4s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:44:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:45:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:45:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:45:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 511.3s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4',)
2026-02-02 16:45:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:45:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 511.3s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:45:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:45:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 511.3s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:45:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:45:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 511.3s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:45:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, recommendations
                FROM risks_v2
                WHERE session_id = $1 AND risk_dimension = 'ai_dependency'
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:45:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 511.3s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:45:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:45:11 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:46:05 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:47:08 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:48:17 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:48:17 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:48:17 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 16:48:18 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:48:18 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:48:18 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:48:18 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:48:18 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:48:18 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:48:18 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:48:18 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:48:18 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:48:18 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:48:18 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:48:18 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:48:18 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:48:18 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:48:26 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:48:26 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:48:26 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:48:26 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:48:34 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 16:48:35 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:48:35 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:48:35 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:48:35 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:48:35 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:48:35 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:48:35 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:48:35 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:48:35 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:48:35 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:48:35 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:48:35 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:48:35 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:48:35 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:48:43 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:48:44 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:48:44 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:48:44 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:48:44 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:48:44 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:48:44 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:48:44 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:48:44 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:48:44 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:48:44 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:48:44 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:48:44 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:48:44 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:48:44 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:48:50 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:48:51 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:48:51 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:48:51 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:49:09 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:49:09 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:49:09 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:49:09 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:49:09 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:49:09 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:49:09 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:49:09 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:49:09 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:49:09 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:49:09 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:49:09 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:49:09 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:49:09 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:49:17 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:49:17 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:49:17 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:49:17 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:49:17 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:49:17 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:49:17 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:49:17 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:49:17 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:49:17 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:49:17 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:49:17 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:49:17 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:49:17 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:49:17 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:49:24 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:49:24 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:49:24 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:49:24 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00240s] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1',)
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00213s] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00249s] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00256s] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00397s] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00175s] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:49:44 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:50:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:50:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:50:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 72.78s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d',)
2026-02-02 16:50:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:50:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 72.77s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:50:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:50:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 72.76s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:50:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:50:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 72.76s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:50:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:50:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 72.75s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:50:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:50:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 72.74s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:50:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:51:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:51:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:51:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 88.88s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e',)
2026-02-02 16:51:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:51:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 88.87s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:51:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:51:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 88.86s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:51:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:51:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 88.85s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:51:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:51:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 88.84s ago] ('23eeb4aa-cdd7-47bf-a36c-40151494622e', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:51:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:51:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 88.84s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:51:13 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:51:41 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:51:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:51:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:51:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 132.6s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0',)
2026-02-02 16:51:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:51:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 132.6s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:51:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:51:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 132.6s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:51:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:51:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 132.6s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:51:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:51:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 132.6s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:51:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:51:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 132.6s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:51:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00233s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05983s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07365s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00732s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00477s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00438s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00264s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00540s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00230s] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5aa77877-9a59-4dec-b279-a9423aad1684 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00181s] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 6.728343587167171
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00222s] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04067s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fcfea6b-707a-467f-a3cc-2d2c4b07324d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 58.86026169582479
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03341s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06998s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 77536073-61e7-4d06-ab6c-02cc355540ca - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06579s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 5.593419516713559
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07645s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1224s ago] ('67731442-dba2-49ed-90f9-de5074befcfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3255b547-52a4-4c47-9ee6-ffcbdfc43084 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.76460379099599
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1138s ago] ('67731442-dba2-49ed-90f9-de5074befcfa',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1588s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 23eeb4aa-cdd7-47bf-a36c-40151494622e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1613s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2041s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 81.53423172772628
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1872s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2243s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 69.75778418711064
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2134s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2547s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 4b785121-a33c-44cb-999a-cf21742652c2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.63165592814903
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2427s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.279s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 92.44872853791902
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2623s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b5be94ac-e543-4f40-a498-d4d17e8387f5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 36.5693417133036
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2868s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3232s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.1981003747125
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3102s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3457s ago] ('962dae57-21fe-4130-8326-dc175aececfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cba02d6e-ebe3-4bff-bc61-ec6d89a5a558 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.344544062259594
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3306s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3685s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3633s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.363s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3991s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3924s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3912s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4295s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 20e34adb-9865-41cd-ad1a-2580adada177 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:34 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 64.97394717735978
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:34 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.413s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4463s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3f8db688-7155-45cc-8451-18f43aa23e2d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 26.38255934223792
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4345s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4758s ago] ('95b8075a-a232-4efa-be25-96d698d24a53', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 0b718183-d710-4a3e-837c-ead38cc08df9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 97.30972024748395
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4643s ago] ('95b8075a-a232-4efa-be25-96d698d24a53',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5013s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1a7b539-bb0e-4c5b-8f06-84c8054de78a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.18679375029005
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.486s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5213s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 70318447-1723-4ccd-8b19-85728c43fb8a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 72.33707828211048
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5045s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5413s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 92ebd687-6e0f-4404-9d55-cd0b2ca585f4 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 90.84970651151097
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5218s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5558s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.542s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5832s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d7550759-366e-4654-9bce-5c96d8bd1f76 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5721s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6115s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b4265699-895b-4c10-b7f4-96dd12c7c9af - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6043s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70',)
2026-02-02 16:53:35 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6415s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student db882e0f-50a4-48d4-a289-47473984e0b6 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6255s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6625s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 70.2883189408856
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6521s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6864s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 96.86170214622837
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6739s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7116s ago] ('38092a08-8559-4c7c-8006-fb88de026283', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cac82a13-aa10-42a6-baf0-0f9ac1b7ef56 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.41116800461339
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6995s ago] ('38092a08-8559-4c7c-8006-fb88de026283',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7349s ago] ('0894cd89-e8d8-4666-847a-014a1900f040', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 67a01287-981a-4810-b901-db7b9d73b940 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 83.59367354409704
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7196s ago] ('0894cd89-e8d8-4666-847a-014a1900f040',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7556s ago] ('47626aad-36a5-4e03-88f6-1349900feae1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d6adb4cc-9e9e-4978-9791-819726aea785 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 24.558986648445757
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7374s ago] ('47626aad-36a5-4e03-88f6-1349900feae1',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7761s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5e8b467e-69cd-48de-a840-f60c1196f055 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.55177434301152
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7639s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8026s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 36f701c3-6e25-471f-9de3-84a16383dc37 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.43913353901203
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7877s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8259s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student f737745f-8458-4ce5-8fd0-25f1007592b5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.827372430604427
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8096s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8462s ago] ('913967af-b157-488b-b042-457aa1de3251', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 94.1050873315914
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8287s ago] ('913967af-b157-488b-b042-457aa1de3251',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.866s ago] ('600d48b1-e36e-4442-8b3c-918464f61041', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8524s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8915s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5d60a804-08a3-4c00-915a-8c99f1cac232 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 34.34723520111347
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8763s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.9147s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student ded858e6-26cb-4458-9975-f40dbf86f0a9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 93.38004829431685
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8994s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.9379s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1a74d865-30d3-451b-8fa9-0b34e5e3ce7d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 62.45677323459696
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.9252s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.9642s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d16b127c-5f65-4ac5-9afa-d693b14da9a7 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.9479s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.9864s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student fce1318f-deef-431b-9c4f-efe33a0ad7e2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.00224298905512
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.9727s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.01s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1e759b4b-e057-4586-8472-fe852354660b - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.9965s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.034s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student bec7f27e-a635-48c0-a80a-2c224591da44 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 29.50956314839936
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.016s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.053s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fea9290-ec6a-44ec-acc1-056941711bb0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.49915532966209
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.037s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.072s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.56396080997587
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.055s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.092s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 861ba16d-e49a-4b96-bec3-30ed44791af0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.73722778895566
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.076s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.114s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student aa6c688a-ad71-4c6b-8b31-2444c48846b2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.97545678421069
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.098s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.138s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9dc7689c-2d65-46e3-a004-e8a31f9a8130 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 95.66582872662738
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.126s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066',)
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.163s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 79eead51-bb14-400e-8df3-6e9fd4f7967a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 28.9635727619158
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.148s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97',)
2026-02-02 16:53:35 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:521 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:53:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:53:39 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:53:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 236.4s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c',)
2026-02-02 16:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 236.4s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 236.4s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 236.4s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 236.4s ago] ('cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 236.4s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:53:40 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:54:30 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:54:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:54:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 286.7s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9',)
2026-02-02 16:54:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:54:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 286.7s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:54:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 286.7s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:54:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:54:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 286.7s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:54:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 286.7s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:54:30 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 286.7s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:54:30 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.6s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1',)
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.6s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.6s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.6s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.6s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.6s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.7s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d',)
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.7s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.7s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.7s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.7s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.7s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.8s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0',)
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.8s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.8s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.8s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.7s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.7s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:54:46 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 314.6s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1',)
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 314.6s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 314.6s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 314.6s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 314.6s ago] ('b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 314.6s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 314.8s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d',)
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 314.8s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:54:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 314.8s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:54:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:54:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 314.9s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:54:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 314.9s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:54:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:54:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 314.9s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:54:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:55:08 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:55:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.57s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.58s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.6s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.6s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5aa77877-9a59-4dec-b279-a9423aad1684 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.62s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 6.728343587167171
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.65s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.7s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fcfea6b-707a-467f-a3cc-2d2c4b07324d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 58.86026169582479
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.7s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.74s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 77536073-61e7-4d06-ab6c-02cc355540ca - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.75s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 5.593419516713559
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.77s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.82s ago] ('67731442-dba2-49ed-90f9-de5074befcfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3255b547-52a4-4c47-9ee6-ffcbdfc43084 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.76460379099599
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.82s ago] ('67731442-dba2-49ed-90f9-de5074befcfa',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.86s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 23eeb4aa-cdd7-47bf-a36c-40151494622e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.85s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.89s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 81.53423172772628
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.88s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.93s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 69.75778418711064
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.92s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.96s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 4b785121-a33c-44cb-999a-cf21742652c2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.63165592814903
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.96s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 92.44872853791902
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 94.99s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.03s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b5be94ac-e543-4f40-a498-d4d17e8387f5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 36.5693417133036
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.03s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.07s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.1981003747125
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.05s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.09s ago] ('962dae57-21fe-4130-8326-dc175aececfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cba02d6e-ebe3-4bff-bc61-ec6d89a5a558 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.344544062259594
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.08s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.12s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.11s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.11s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.15s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.15s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.15s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.19s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 20e34adb-9865-41cd-ad1a-2580adada177 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 64.97394717735978
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.17s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.21s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3f8db688-7155-45cc-8451-18f43aa23e2d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 26.38255934223792
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.19s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.23s ago] ('95b8075a-a232-4efa-be25-96d698d24a53', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 0b718183-d710-4a3e-837c-ead38cc08df9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 97.30972024748395
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.22s ago] ('95b8075a-a232-4efa-be25-96d698d24a53',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.25s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1a7b539-bb0e-4c5b-8f06-84c8054de78a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.18679375029005
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.24s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.27s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 70318447-1723-4ccd-8b19-85728c43fb8a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 72.33707828211048
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.26s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.29s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 92ebd687-6e0f-4404-9d55-cd0b2ca585f4 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 90.84970651151097
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.28s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.32s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.3s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.34s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d7550759-366e-4654-9bce-5c96d8bd1f76 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.33s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.37s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b4265699-895b-4c10-b7f4-96dd12c7c9af - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.35s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.39s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student db882e0f-50a4-48d4-a289-47473984e0b6 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.38s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.41s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 70.2883189408856
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.4s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26',)
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.43s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:09 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 96.86170214622837
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.42s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.46s ago] ('38092a08-8559-4c7c-8006-fb88de026283', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cac82a13-aa10-42a6-baf0-0f9ac1b7ef56 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.41116800461339
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.45s ago] ('38092a08-8559-4c7c-8006-fb88de026283',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.49s ago] ('0894cd89-e8d8-4666-847a-014a1900f040', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 67a01287-981a-4810-b901-db7b9d73b940 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 83.59367354409704
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.47s ago] ('0894cd89-e8d8-4666-847a-014a1900f040',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.51s ago] ('47626aad-36a5-4e03-88f6-1349900feae1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d6adb4cc-9e9e-4978-9791-819726aea785 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 24.558986648445757
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.5s ago] ('47626aad-36a5-4e03-88f6-1349900feae1',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.54s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5e8b467e-69cd-48de-a840-f60c1196f055 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.55177434301152
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.52s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.56s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 36f701c3-6e25-471f-9de3-84a16383dc37 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.43913353901203
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.55s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.59s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student f737745f-8458-4ce5-8fd0-25f1007592b5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.827372430604427
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.57s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.61s ago] ('913967af-b157-488b-b042-457aa1de3251', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 94.1050873315914
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.61s ago] ('913967af-b157-488b-b042-457aa1de3251',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.65s ago] ('600d48b1-e36e-4442-8b3c-918464f61041', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.64s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.67s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5d60a804-08a3-4c00-915a-8c99f1cac232 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 34.34723520111347
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.66s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.7s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student ded858e6-26cb-4458-9975-f40dbf86f0a9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 93.38004829431685
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.69s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.73s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1a74d865-30d3-451b-8fa9-0b34e5e3ce7d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 62.45677323459696
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.71s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.75s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d16b127c-5f65-4ac5-9afa-d693b14da9a7 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.73s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.77s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student fce1318f-deef-431b-9c4f-efe33a0ad7e2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.00224298905512
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.75s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.79s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1e759b4b-e057-4586-8472-fe852354660b - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.78s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.81s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student bec7f27e-a635-48c0-a80a-2c224591da44 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 29.50956314839936
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.8s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.84s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fea9290-ec6a-44ec-acc1-056941711bb0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.49915532966209
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.82s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.86s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.56396080997587
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.84s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.88s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 861ba16d-e49a-4b96-bec3-30ed44791af0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.73722778895566
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.87s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.9s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student aa6c688a-ad71-4c6b-8b31-2444c48846b2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.97545678421069
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.89s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.93s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9dc7689c-2d65-46e3-a004-e8a31f9a8130 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 95.66582872662738
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.91s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066',)
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.95s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 79eead51-bb14-400e-8df3-6e9fd4f7967a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 28.9635727619158
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT interactional_data
                FROM cognitive_traces_v2
                WHERE session_id = $1 AND interaction_type = 'governance_log'
                ORDER BY timestamp DESC LIMIT 1
            
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 95.93s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97',)
2026-02-02 16:55:10 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:521 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:55:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:55:12 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:55:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:55:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 328.1s ago] ('1a74d865-30d3-451b-8fa9-0b34e5e3ce7d',)
2026-02-02 16:55:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:55:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 328.1s ago] ('1a74d865-30d3-451b-8fa9-0b34e5e3ce7d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:55:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 328.1s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef',)
2026-02-02 16:55:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:55:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 328.1s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:55:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 328.1s ago] ('1a74d865-30d3-451b-8fa9-0b34e5e3ce7d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:55:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 328.1s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef',)
2026-02-02 16:55:12 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:55:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:55:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:55:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 355.6s ago] ('861ba16d-e49a-4b96-bec3-30ed44791af0',)
2026-02-02 16:55:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:55:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 355.6s ago] ('861ba16d-e49a-4b96-bec3-30ed44791af0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:55:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 355.6s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6',)
2026-02-02 16:55:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:55:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 355.5s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:55:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 355.5s ago] ('861ba16d-e49a-4b96-bec3-30ed44791af0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:55:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 355.5s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6',)
2026-02-02 16:55:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:55:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:55:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:55:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 368.4s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0',)
2026-02-02 16:55:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:55:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 368.4s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:55:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 368.4s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:55:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:55:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 368.4s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:55:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 368.4s ago] ('9fea9290-ec6a-44ec-acc1-056941711bb0', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:55:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 368.4s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:55:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:55:55 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:55:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:55:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 371.7s ago] ('1e759b4b-e057-4586-8472-fe852354660b',)
2026-02-02 16:55:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:55:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 371.7s ago] ('1e759b4b-e057-4586-8472-fe852354660b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:55:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 371.7s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221',)
2026-02-02 16:55:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:55:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 371.7s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:55:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 371.6s ago] ('1e759b4b-e057-4586-8472-fe852354660b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:55:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:55:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 371.6s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221',)
2026-02-02 16:55:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:56:14 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:56:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:56:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 390.6s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d',)
2026-02-02 16:56:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:56:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 390.6s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:56:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 390.6s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 16:56:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:56:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 390.6s ago] ('600d48b1-e36e-4442-8b3c-918464f61041', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 390.6s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 390.6s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 16:56:14 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:56:17 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 16:56:18 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:56:18 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 16:56:19 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:56:19 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:56:19 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:56:19 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:56:19 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:56:19 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:56:19 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:56:19 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:56:19 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:56:19 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:56:19 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:56:19 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:56:19 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:56:19 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:56:26 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:56:26 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:56:26 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:56:26 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:56:26 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:56:26 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:56:26 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:56:26 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:56:26 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:56:26 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:56:26 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:56:26 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:56:26 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:56:26 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:56:35 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:56:35 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:56:35 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:56:35 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:56:35 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:56:35 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:56:35 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:56:35 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:56:35 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 16:56:35 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 16:56:35 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 16:56:35 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 16:56:35 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 16:56:35 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 16:56:35 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 16:56:44 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:56:44 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 16:56:44 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 16:56:44 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 16:56:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 16:56:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:56:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 16:56:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00175s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00161s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00364s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00398s] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5aa77877-9a59-4dec-b279-a9423aad1684 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00185s] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 6.728343587167171
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00239s] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0384s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fcfea6b-707a-467f-a3cc-2d2c4b07324d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 58.86026169582479
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02008s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05582s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 77536073-61e7-4d06-ab6c-02cc355540ca - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04861s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 5.593419516713559
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04754s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07953s ago] ('67731442-dba2-49ed-90f9-de5074befcfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3255b547-52a4-4c47-9ee6-ffcbdfc43084 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.76460379099599
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06347s ago] ('67731442-dba2-49ed-90f9-de5074befcfa',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.09655s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 23eeb4aa-cdd7-47bf-a36c-40151494622e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07926s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1153s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 81.53423172772628
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0975s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1304s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 69.75778418711064
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1149s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1483s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 4b785121-a33c-44cb-999a-cf21742652c2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.63165592814903
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1324s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1674s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 92.44872853791902
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1493s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1843s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b5be94ac-e543-4f40-a498-d4d17e8387f5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 36.5693417133036
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1685s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2007s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.1981003747125
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1822s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2187s ago] ('962dae57-21fe-4130-8326-dc175aececfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cba02d6e-ebe3-4bff-bc61-ec6d89a5a558 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.344544062259594
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2062s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2481s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2407s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2389s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2736s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2673s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2667s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2998s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 20e34adb-9865-41cd-ad1a-2580adada177 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 64.97394717735978
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2829s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3171s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3f8db688-7155-45cc-8451-18f43aa23e2d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 26.38255934223792
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3017s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3349s ago] ('95b8075a-a232-4efa-be25-96d698d24a53', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 0b718183-d710-4a3e-837c-ead38cc08df9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 97.30972024748395
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.318s ago] ('95b8075a-a232-4efa-be25-96d698d24a53',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3533s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1a7b539-bb0e-4c5b-8f06-84c8054de78a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.18679375029005
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3377s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3701s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 70318447-1723-4ccd-8b19-85728c43fb8a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 72.33707828211048
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.354s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3868s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 92ebd687-6e0f-4404-9d55-cd0b2ca585f4 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 90.84970651151097
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3719s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4065s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3896s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4244s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d7550759-366e-4654-9bce-5c96d8bd1f76 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4067s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4394s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b4265699-895b-4c10-b7f4-96dd12c7c9af - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.424s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4574s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student db882e0f-50a4-48d4-a289-47473984e0b6 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4431s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4767s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 70.2883189408856
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4602s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4944s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 96.86170214622837
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4762s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5095s ago] ('38092a08-8559-4c7c-8006-fb88de026283', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cac82a13-aa10-42a6-baf0-0f9ac1b7ef56 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.41116800461339
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4947s ago] ('38092a08-8559-4c7c-8006-fb88de026283',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5273s ago] ('0894cd89-e8d8-4666-847a-014a1900f040', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 67a01287-981a-4810-b901-db7b9d73b940 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 83.59367354409704
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5121s ago] ('0894cd89-e8d8-4666-847a-014a1900f040',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5458s ago] ('47626aad-36a5-4e03-88f6-1349900feae1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d6adb4cc-9e9e-4978-9791-819726aea785 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 24.558986648445757
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5298s ago] ('47626aad-36a5-4e03-88f6-1349900feae1',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5653s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5e8b467e-69cd-48de-a840-f60c1196f055 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.55177434301152
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5497s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5843s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 36f701c3-6e25-471f-9de3-84a16383dc37 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.43913353901203
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5686s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6033s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student f737745f-8458-4ce5-8fd0-25f1007592b5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.827372430604427
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.587s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6196s ago] ('913967af-b157-488b-b042-457aa1de3251', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 94.1050873315914
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.605s ago] ('913967af-b157-488b-b042-457aa1de3251',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6384s ago] ('600d48b1-e36e-4442-8b3c-918464f61041', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6213s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6598s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5d60a804-08a3-4c00-915a-8c99f1cac232 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 34.34723520111347
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6419s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6773s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student ded858e6-26cb-4458-9975-f40dbf86f0a9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 93.38004829431685
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6678s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.702s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1a74d865-30d3-451b-8fa9-0b34e5e3ce7d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 62.45677323459696
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6919s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7289s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d16b127c-5f65-4ac5-9afa-d693b14da9a7 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7154s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7479s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student fce1318f-deef-431b-9c4f-efe33a0ad7e2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.00224298905512
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7364s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7742s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1e759b4b-e057-4586-8472-fe852354660b - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7586s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7937s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student bec7f27e-a635-48c0-a80a-2c224591da44 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 29.50956314839936
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7766s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8098s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fea9290-ec6a-44ec-acc1-056941711bb0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.49915532966209
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.7973s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.832s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.56396080997587
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8146s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8481s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 861ba16d-e49a-4b96-bec3-30ed44791af0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.73722778895566
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8339s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8674s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student aa6c688a-ad71-4c6b-8b31-2444c48846b2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.97545678421069
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8534s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.888s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9dc7689c-2d65-46e3-a004-e8a31f9a8130 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 95.66582872662738
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8736s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066',)
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.9076s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 79eead51-bb14-400e-8df3-6e9fd4f7967a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 28.9635727619158
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.8904s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97',)
2026-02-02 16:56:47 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:535 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:56:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:56:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:56:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:56:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00586s] ('d7550759-366e-4654-9bce-5c96d8bd1f76',)
2026-02-02 16:56:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:56:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00657s] ('d7550759-366e-4654-9bce-5c96d8bd1f76', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:56:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00227s] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730',)
2026-02-02 16:56:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:56:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00441s] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00481s] ('d7550759-366e-4654-9bce-5c96d8bd1f76', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:56:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:56:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 3.024s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730',)
2026-02-02 16:56:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:57:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:57:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:57:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.98s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb',)
2026-02-02 16:57:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:57:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.97s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:57:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.97s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:57:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:57:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.97s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10.97s ago] ('8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 13.99s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:57:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.15s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.14s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.14s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.14s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5aa77877-9a59-4dec-b279-a9423aad1684 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.13s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 6.728343587167171
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.13s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.17s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fcfea6b-707a-467f-a3cc-2d2c4b07324d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 58.86026169582479
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.15s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.19s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 77536073-61e7-4d06-ab6c-02cc355540ca - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.18s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 5.593419516713559
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.18s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.22s ago] ('67731442-dba2-49ed-90f9-de5074befcfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3255b547-52a4-4c47-9ee6-ffcbdfc43084 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.76460379099599
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.2s ago] ('67731442-dba2-49ed-90f9-de5074befcfa',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.23s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 23eeb4aa-cdd7-47bf-a36c-40151494622e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.22s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.25s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 81.53423172772628
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.24s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.27s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 69.75778418711064
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.26s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.29s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 4b785121-a33c-44cb-999a-cf21742652c2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.63165592814903
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.28s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.31s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 92.44872853791902
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.3s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.33s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b5be94ac-e543-4f40-a498-d4d17e8387f5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 36.5693417133036
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.32s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.36s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.1981003747125
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.34s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.37s ago] ('962dae57-21fe-4130-8326-dc175aececfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cba02d6e-ebe3-4bff-bc61-ec6d89a5a558 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.344544062259594
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.36s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.4s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.39s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.39s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.42s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.42s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.42s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.45s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 20e34adb-9865-41cd-ad1a-2580adada177 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 64.97394717735978
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.44s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.47s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3f8db688-7155-45cc-8451-18f43aa23e2d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 26.38255934223792
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.46s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.49s ago] ('95b8075a-a232-4efa-be25-96d698d24a53', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 0b718183-d710-4a3e-837c-ead38cc08df9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 97.30972024748395
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.47s ago] ('95b8075a-a232-4efa-be25-96d698d24a53',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.51s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1a7b539-bb0e-4c5b-8f06-84c8054de78a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.18679375029005
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.49s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.53s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 70318447-1723-4ccd-8b19-85728c43fb8a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 72.33707828211048
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.52s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.55s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 92ebd687-6e0f-4404-9d55-cd0b2ca585f4 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 90.84970651151097
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.53s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.57s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.55s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.59s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d7550759-366e-4654-9bce-5c96d8bd1f76 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.58s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.62s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b4265699-895b-4c10-b7f4-96dd12c7c9af - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.6s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.64s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student db882e0f-50a4-48d4-a289-47473984e0b6 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.63s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.66s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 70.2883189408856
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.65s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.69s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 96.86170214622837
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.69s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.73s ago] ('38092a08-8559-4c7c-8006-fb88de026283', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cac82a13-aa10-42a6-baf0-0f9ac1b7ef56 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.41116800461339
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.72s ago] ('38092a08-8559-4c7c-8006-fb88de026283',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.75s ago] ('0894cd89-e8d8-4666-847a-014a1900f040', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 67a01287-981a-4810-b901-db7b9d73b940 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 83.59367354409704
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.75s ago] ('0894cd89-e8d8-4666-847a-014a1900f040',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.8s ago] ('47626aad-36a5-4e03-88f6-1349900feae1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d6adb4cc-9e9e-4978-9791-819726aea785 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 24.558986648445757
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.79s ago] ('47626aad-36a5-4e03-88f6-1349900feae1',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.82s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5e8b467e-69cd-48de-a840-f60c1196f055 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.55177434301152
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.81s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.85s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 36f701c3-6e25-471f-9de3-84a16383dc37 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.43913353901203
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.84s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.87s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student f737745f-8458-4ce5-8fd0-25f1007592b5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.827372430604427
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.86s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.9s ago] ('913967af-b157-488b-b042-457aa1de3251', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 94.1050873315914
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.88s ago] ('913967af-b157-488b-b042-457aa1de3251',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.92s ago] ('600d48b1-e36e-4442-8b3c-918464f61041', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:07 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.91s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.94s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5d60a804-08a3-4c00-915a-8c99f1cac232 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 34.34723520111347
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.93s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7',)
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.97s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student ded858e6-26cb-4458-9975-f40dbf86f0a9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 93.38004829431685
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.95s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.98s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1a74d865-30d3-451b-8fa9-0b34e5e3ce7d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 62.45677323459696
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.97s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef',)
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d16b127c-5f65-4ac5-9afa-d693b14da9a7 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.99s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009',)
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.02s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student fce1318f-deef-431b-9c4f-efe33a0ad7e2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.00224298905512
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.01s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665',)
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.04s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1e759b4b-e057-4586-8472-fe852354660b - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.03s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221',)
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.06s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student bec7f27e-a635-48c0-a80a-2c224591da44 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 29.50956314839936
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.05s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd',)
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.09s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fea9290-ec6a-44ec-acc1-056941711bb0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.49915532966209
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.07s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.11s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.56396080997587
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.09s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe',)
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.12s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 861ba16d-e49a-4b96-bec3-30ed44791af0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.73722778895566
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.11s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6',)
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.14s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student aa6c688a-ad71-4c6b-8b31-2444c48846b2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.97545678421069
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.13s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6',)
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.16s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9dc7689c-2d65-46e3-a004-e8a31f9a8130 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 95.66582872662738
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.15s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066',)
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.18s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 79eead51-bb14-400e-8df3-6e9fd4f7967a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 28.9635727619158
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 21.17s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97',)
2026-02-02 16:57:08 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:535 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:57:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:57:09 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:57:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:57:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 19.76s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558',)
2026-02-02 16:57:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:57:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 19.76s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:57:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 19.75s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:57:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:57:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 19.75s ago] ('962dae57-21fe-4130-8326-dc175aececfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 19.75s ago] ('cba02d6e-ebe3-4bff-bc61-ec6d89a5a558', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 22.77s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:57:09 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:57:15 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:57:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:57:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.47s ago] ('3f8db688-7155-45cc-8451-18f43aa23e2d',)
2026-02-02 16:57:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:57:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.47s ago] ('3f8db688-7155-45cc-8451-18f43aa23e2d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:57:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.47s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46',)
2026-02-02 16:57:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:57:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.48s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 25.48s ago] ('3f8db688-7155-45cc-8451-18f43aa23e2d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 28.5s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46',)
2026-02-02 16:57:15 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:57:18 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:57:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:57:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 28.55s ago] ('alumno-001',)
2026-02-02 16:57:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:57:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 28.55s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:57:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 28.55s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:57:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:57:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 28.55s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, ai_feedback, status
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY submitted_at DESC LIMIT 1
            
2026-02-02 16:57:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00260s] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 31.58s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:57:18 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00269s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00238s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04352s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 40.89s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06777s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00269s] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 40.93s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 40.94s ago] ('fd176d58-08a8-4e99-a81f-381ee0aed044',)
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 40.95s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5aa77877-9a59-4dec-b279-a9423aad1684 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 40.95s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 6.728343587167171
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 40.95s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 40.99s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fcfea6b-707a-467f-a3cc-2d2c4b07324d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 58.86026169582479
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 40.97s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.01s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 77536073-61e7-4d06-ab6c-02cc355540ca - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41s ago] ('77536073-61e7-4d06-ab6c-02cc355540ca', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 5.593419516713559
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41s ago] ('2cf8bcbf-758f-4025-a72b-bace00558e45',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.04s ago] ('67731442-dba2-49ed-90f9-de5074befcfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3255b547-52a4-4c47-9ee6-ffcbdfc43084 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.76460379099599
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.02s ago] ('67731442-dba2-49ed-90f9-de5074befcfa',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.06s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 23eeb4aa-cdd7-47bf-a36c-40151494622e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.04s ago] ('45813c55-1987-4273-9a5b-fc7a3efc14f5',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.08s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b6a2f5dc-bd17-4fbc-a2f0-d88cad4ae0d1 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 81.53423172772628
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.06s ago] ('e1f6479c-7086-44e3-9f93-a582e48e940d',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.1s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d822d5c3-0cf4-4e25-bf58-a5dfc5f304e3 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 69.75778418711064
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.09s ago] ('14c0c4e1-7387-43f2-852c-98af0b139e14',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.13s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 4b785121-a33c-44cb-999a-cf21742652c2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.63165592814903
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.11s ago] ('c0b5bece-cc26-42bf-b6c7-b83e1eedfa16',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.15s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1d5f9b4-12e9-4aba-8bc5-e3a8a879e84f - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 92.44872853791902
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.13s ago] ('bcaa24e9-9e73-496c-a199-de7b9836f09b',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.16s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b5be94ac-e543-4f40-a498-d4d17e8387f5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 36.5693417133036
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.15s ago] ('5ffc0c06-90d0-4adf-a144-810d6c69e142',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.18s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7b4cbdf6-9987-4b37-8f58-8e1e7c3be99e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.1981003747125
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.17s ago] ('81e12d0f-dd44-4f4e-a386-dcec3ad4e3a9',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.2s ago] ('962dae57-21fe-4130-8326-dc175aececfa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cba02d6e-ebe3-4bff-bc61-ec6d89a5a558 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.344544062259594
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.19s ago] ('962dae57-21fe-4130-8326-dc175aececfa',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.22s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 11 exercises, 11 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.22s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.22s ago] ('1bf8ce71-7a17-45f5-a3d5-2435e06db39c',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.25s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student alumno-001 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: None
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.25s ago] ('alumno-001', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:329 - Grade from submissions: 0.0
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.24s ago] ('e49309bd-9a13-45ad-8eb8-8683da3cb2e2',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.28s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 20e34adb-9865-41cd-ad1a-2580adada177 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 64.97394717735978
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.26s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.3s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 3f8db688-7155-45cc-8451-18f43aa23e2d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 26.38255934223792
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.28s ago] ('08f3cc0a-2847-49ef-a7e4-83f95c456d46',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.31s ago] ('95b8075a-a232-4efa-be25-96d698d24a53', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 0b718183-d710-4a3e-837c-ead38cc08df9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 97.30972024748395
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.3s ago] ('95b8075a-a232-4efa-be25-96d698d24a53',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.33s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student c1a7b539-bb0e-4c5b-8f06-84c8054de78a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.18679375029005
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.32s ago] ('f004acf5-db1e-462e-beae-fd59e4a371d2',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.35s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 70318447-1723-4ccd-8b19-85728c43fb8a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 72.33707828211048
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.34s ago] ('207821b3-8b48-4f71-ba47-185693c33eaa',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.37s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 92ebd687-6e0f-4404-9d55-cd0b2ca585f4 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 90.84970651151097
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.36s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.39s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 8901b14c-6d0e-4c50-a47b-c20ddc7a4fdb - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.38s ago] ('b7f181ff-9d8f-4bb5-acf1-f21fd5743ee3',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.41s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d7550759-366e-4654-9bce-5c96d8bd1f76 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.4s ago] ('debb9f4b-5d12-42cf-b371-f8a2e46b7730',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.43s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student b4265699-895b-4c10-b7f4-96dd12c7c9af - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.42s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.45s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student db882e0f-50a4-48d4-a289-47473984e0b6 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.44s ago] ('0bc33244-9195-47b1-b299-c69a3ec529fb',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.47s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 83ab185f-5b78-4cc0-a2dc-9b03b47b0ec8 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 70.2883189408856
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.46s ago] ('82653672-6e4a-45a8-93b1-56bf81ee3b26',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.49s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cdc2ca4d-e8ca-47b7-8efe-ef7050e55a1c - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 96.86170214622837
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.48s ago] ('1c5bfef8-8785-4e9d-b5f1-1fb96a044c3d',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.51s ago] ('38092a08-8559-4c7c-8006-fb88de026283', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student cac82a13-aa10-42a6-baf0-0f9ac1b7ef56 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.41116800461339
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.5s ago] ('38092a08-8559-4c7c-8006-fb88de026283',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.53s ago] ('0894cd89-e8d8-4666-847a-014a1900f040', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 67a01287-981a-4810-b901-db7b9d73b940 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 83.59367354409704
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.52s ago] ('0894cd89-e8d8-4666-847a-014a1900f040',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.55s ago] ('47626aad-36a5-4e03-88f6-1349900feae1', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d6adb4cc-9e9e-4978-9791-819726aea785 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 24.558986648445757
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.54s ago] ('47626aad-36a5-4e03-88f6-1349900feae1',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.57s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5e8b467e-69cd-48de-a840-f60c1196f055 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 87.55177434301152
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.56s ago] ('e4fbd89e-a41e-408e-bd82-b6bdb3a05302',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.59s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 36f701c3-6e25-471f-9de3-84a16383dc37 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.43913353901203
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.58s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.61s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student f737745f-8458-4ce5-8fd0-25f1007592b5 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 20.827372430604427
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.6s ago] ('85814cd1-0a0e-4c31-bd13-e2b6aa511b46',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.64s ago] ('913967af-b157-488b-b042-457aa1de3251', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 05fc55b5-12cd-4cc7-a09d-b8c17d6b8b9e - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 94.1050873315914
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.62s ago] ('913967af-b157-488b-b042-457aa1de3251',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.66s ago] ('600d48b1-e36e-4442-8b3c-918464f61041', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.65s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.68s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 5d60a804-08a3-4c00-915a-8c99f1cac232 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 34.34723520111347
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.67s ago] ('5ea03140-432d-43ec-8d27-fbd6f6f81fb7',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.7s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student ded858e6-26cb-4458-9975-f40dbf86f0a9 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 93.38004829431685
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.69s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.73s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1a74d865-30d3-451b-8fa9-0b34e5e3ce7d - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 62.45677323459696
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.71s ago] ('5683b58a-aba3-4c05-83aa-297bbcf56aef',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.75s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student d16b127c-5f65-4ac5-9afa-d693b14da9a7 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.73s ago] ('d3e95a9a-d34c-49ea-9247-b4ff0ee2c009',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.77s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student fce1318f-deef-431b-9c4f-efe33a0ad7e2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 82.00224298905512
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.77s ago] ('6a4ffb3a-96dd-41cb-a172-50a31fb41665',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.81s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 1e759b4b-e057-4586-8472-fe852354660b - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 50
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.81s ago] ('e009e4a8-43c0-4b96-83b0-41c70ebee221',)
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.89s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student bec7f27e-a635-48c0-a80a-2c224591da44 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:28 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 29.50956314839936
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.92s ago] ('ecc2f4c8-8a89-4374-b3bf-d1553c0744cd',)
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 41.98s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:29 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9fea9290-ec6a-44ec-acc1-056941711bb0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:29 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 98.49915532966209
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 42.04s ago] ('f5af303a-3f1b-4885-9818-c7994f98f2b9',)
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 42.1s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:29 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student beca4ad5-f61a-4945-9c98-f2ce5dcfb4ff - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:29 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 44.56396080997587
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 42.16s ago] ('c08e8809-3b10-4db9-a5ac-ee44983b6fbe',)
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 42.22s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:29 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 861ba16d-e49a-4b96-bec3-30ed44791af0 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:29 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 21.73722778895566
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 42.25s ago] ('9d90b1f0-9fd9-4dfe-9c9e-d78028fab5f6',)
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 42.3s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:29 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student aa6c688a-ad71-4c6b-8b31-2444c48846b2 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:29 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 38.97545678421069
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 42.32s ago] ('26deacd8-f0e8-47d2-b60a-021e452440d6',)
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 42.36s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:29 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 9dc7689c-2d65-46e3-a004-e8a31f9a8130 - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:29 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 95.66582872662738
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 42.37s ago] ('f6bab16b-fe84-4179-b5a7-f82365096066',)
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 42.42s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:29 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:310 - Student 79eead51-bb14-400e-8df3-6e9fd4f7967a - Found 0 exercises, 0 graded, total: 0
2026-02-02 16:57:29 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:316 - Grade from session_metrics: 28.9635727619158
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 42.41s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97',)
2026-02-02 16:57:29 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:535 - Retrieved 47 total analytics (sessions + submissions) for activity fd176d58-08a8-4e99-a81f-381ee0aed044
2026-02-02 16:57:29 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:57:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:57:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:57:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 45.24s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d',)
2026-02-02 16:57:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:57:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 45.24s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:57:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 45.23s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:57:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:57:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 45.23s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 45.23s ago] ('9fcfea6b-707a-467f-a3cc-2d2c4b07324d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 48.25s ago] ('565483c8-a50d-4a1a-a27b-938c51587f94',)
2026-02-02 16:57:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:57:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:57:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:57:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 54.13s ago] ('20e34adb-9865-41cd-ad1a-2580adada177',)
2026-02-02 16:57:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:57:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 54.12s ago] ('20e34adb-9865-41cd-ad1a-2580adada177', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:57:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 54.12s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c',)
2026-02-02 16:57:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:57:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 54.12s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 54.12s ago] ('20e34adb-9865-41cd-ad1a-2580adada177', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 57.14s ago] ('72d1d8a1-e4c5-4023-a0ec-43c6bd0be15c',)
2026-02-02 16:57:44 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:57:48 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 16:57:58 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:57:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:57:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.56s ago] ('cac82a13-aa10-42a6-baf0-0f9ac1b7ef56',)
2026-02-02 16:57:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:57:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.55s ago] ('cac82a13-aa10-42a6-baf0-0f9ac1b7ef56', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:57:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.55s ago] ('38092a08-8559-4c7c-8006-fb88de026283',)
2026-02-02 16:57:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:57:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.55s ago] ('38092a08-8559-4c7c-8006-fb88de026283', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 68.54s ago] ('cac82a13-aa10-42a6-baf0-0f9ac1b7ef56', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:57:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:57:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 71.57s ago] ('38092a08-8559-4c7c-8006-fb88de026283',)
2026-02-02 16:57:58 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:58:03 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:58:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:58:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 73.25s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37',)
2026-02-02 16:58:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:58:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 73.25s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:58:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:58:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 73.25s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 16:58:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:58:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 73.25s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:58:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:58:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 73.25s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:58:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:58:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 76.27s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 16:58:03 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:58:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:58:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:58:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 77.71s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9',)
2026-02-02 16:58:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:58:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 77.71s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:58:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:58:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 77.7s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:58:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:58:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 77.7s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:58:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:58:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 77.7s ago] ('ded858e6-26cb-4458-9975-f40dbf86f0a9', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:58:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:58:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 80.72s ago] ('04e4a228-5afd-4126-b2d4-31ad476be490',)
2026-02-02 16:58:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:58:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 16:58:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 16:58:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 83.31s ago] ('79eead51-bb14-400e-8df3-6e9fd4f7967a',)
2026-02-02 16:58:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 16:58:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 83.3s ago] ('79eead51-bb14-400e-8df3-6e9fd4f7967a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:58:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 16:58:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 83.3s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97',)
2026-02-02 16:58:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 16:58:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 83.29s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:58:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:58:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 83.29s ago] ('79eead51-bb14-400e-8df3-6e9fd4f7967a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 16:58:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 16:58:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 86.31s ago] ('4c4d7840-a58a-4ab3-9e79-18c5471bcb97',)
2026-02-02 16:58:13 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 16:59:04 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:00:43 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:02:39 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:04:35 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:06:31 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:08:24 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:10:09 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:11:33 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:12:20 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:13:12 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:14:05 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:15:01 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:15:56 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:16:59 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:17:51 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:18:38 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:19:39 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:20:42 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:21:37 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:22:36 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:23:37 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:24:34 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:25:36 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:26:35 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:27:32 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:28:32 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:29:27 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:30:14 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:31:05 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:31:57 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:32:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:33:39 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:34:30 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:35:23 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:36:11 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:36:59 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:37:52 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:38:44 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:39:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 17:39:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 17:39:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2530s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d',)
2026-02-02 17:39:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 17:39:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2530s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 17:39:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2530s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 17:39:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 17:39:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2530s ago] ('600d48b1-e36e-4442-8b3c-918464f61041', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 17:39:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2530s ago] ('7c37d5f9-9a81-45b4-8f04-9b2e5aac4b4d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 17:39:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2533s ago] ('600d48b1-e36e-4442-8b3c-918464f61041',)
2026-02-02 17:39:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 17:39:09 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 17:39:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 17:39:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2540s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37',)
2026-02-02 17:39:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 17:39:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2540s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 17:39:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2540s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 17:39:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 17:39:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2539s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 17:39:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2539s ago] ('36f701c3-6e25-471f-9de3-84a16383dc37', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 17:39:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2543s ago] ('d5878cdb-8d80-475a-97fb-b32c9f567e8a',)
2026-02-02 17:39:09 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 17:39:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 17:39:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 17:39:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2549s ago] ('b4265699-895b-4c10-b7f4-96dd12c7c9af',)
2026-02-02 17:39:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 17:39:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2549s ago] ('b4265699-895b-4c10-b7f4-96dd12c7c9af', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 17:39:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2549s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70',)
2026-02-02 17:39:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 17:39:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2549s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 17:39:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2549s ago] ('b4265699-895b-4c10-b7f4-96dd12c7c9af', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 17:39:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2552s ago] ('b7b2b6aa-bb41-4f5a-8127-8bb4a5b37c70',)
2026-02-02 17:39:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 17:39:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 17:39:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 17:39:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2559s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4',)
2026-02-02 17:39:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 17:39:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2559s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 17:39:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2559s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 17:39:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 17:39:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2559s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 17:39:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2559s ago] ('92ebd687-6e0f-4404-9d55-cd0b2ca585f4', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 17:39:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2562s ago] ('3c7c9359-5d62-4c8a-a654-0cae292ae39a',)
2026-02-02 17:39:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 17:39:34 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2575s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684',)
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2575s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2575s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2575s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, ai_feedback, status
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY submitted_at DESC LIMIT 1
            
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2547s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2575s ago] ('5aa77877-9a59-4dec-b279-a9423aad1684', 'fd176d58-08a8-4e99-a81f-381ee0aed044')
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 2578s ago] ('c7724a54-b3f5-453c-b2e2-e5125ecdb38d',)
2026-02-02 17:39:45 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 17:40:16 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 17:40:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 17:40:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00278s] ('docente-001',)
2026-02-02 17:40:16 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 17:40:23 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 17:40:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 17:40:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00235s] ('alumno@test.com',)
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00789s] ('alumno-001', 'ACTIVE')
2026-02-02 17:40:24 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 2 enrollments for student alumno-001
2026-02-02 17:40:24 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 309fd23a-eebf-496c-b939-fb482aa83100
2026-02-02 17:40:24 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 701c7617-75ea-4caa-89f9-a541f213e03a
2026-02-02 17:40:24 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 2 courses
2026-02-02 17:40:24 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894: 1 modules
2026-02-02 17:40:24 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a882f15f-d3ea-4105-b759-99c564e59758: 1 modules
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00267s] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.02056s] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00438s] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06288s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05458s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03356s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2558s ago] ('alumno-001', 'ACTIVE')
2026-02-02 17:40:24 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00156s] ('alumno-001',)
2026-02-02 17:40:25 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 2 enrollments for student alumno-001
2026-02-02 17:40:25 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 309fd23a-eebf-496c-b939-fb482aa83100
2026-02-02 17:40:25 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 701c7617-75ea-4caa-89f9-a541f213e03a
2026-02-02 17:40:25 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 2 courses
2026-02-02 17:40:25 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894: 1 modules
2026-02-02 17:40:25 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a882f15f-d3ea-4105-b759-99c564e59758: 1 modules
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1412s ago] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1512s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 17:40:25 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1333s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2062s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2005s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1827s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1114s ago] ('alumno-001',)
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 17:40:25 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 17:40:27 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 17:41:24 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:42:23 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:43:24 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:44:19 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:45:20 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:46:16 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:47:15 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:48:13 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:49:04 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:50:06 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:51:00 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:51:57 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:52:48 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:53:44 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:54:36 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:55:30 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:56:30 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:57:24 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:58:21 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 17:59:15 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:00:13 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:01:08 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:02:04 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:03:00 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:04:01 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:04:55 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:05:54 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:06:52 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:07:52 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:08:50 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:09:53 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:10:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:11:47 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:12:45 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:13:47 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:14:46 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:15:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:16:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:17:53 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:18:54 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:20:00 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:20:59 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:21:55 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:22:54 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:23:54 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:24:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:25:50 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:26:47 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:27:46 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:28:45 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:29:42 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:30:44 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:31:40 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:32:36 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:33:34 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:34:30 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:35:37 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:36:36 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:37:32 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:38:27 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:39:30 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:40:29 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:41:29 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:42:27 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:43:28 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:44:27 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:45:27 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:46:25 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:47:26 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:48:27 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:49:28 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:50:29 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:51:30 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:52:29 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:53:32 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:54:32 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:55:33 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:56:28 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:57:23 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:58:14 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 4716s ago] ('alumno-001', 'ACTIVE')
2026-02-02 18:59:00 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 2 enrollments for student alumno-001
2026-02-02 18:59:00 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 309fd23a-eebf-496c-b939-fb482aa83100
2026-02-02 18:59:00 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 701c7617-75ea-4caa-89f9-a541f213e03a
2026-02-02 18:59:00 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 2 courses
2026-02-02 18:59:00 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894: 1 modules
2026-02-02 18:59:00 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course a882f15f-d3ea-4105-b759-99c564e59758: 1 modules
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 4716s ago] ('a5ec42e5-e748-44cd-9b4b-c4b9a4ecf894',)
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 4716s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 4716s ago] ('309fd23a-eebf-496c-b939-fb482aa83100',)
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 4716s ago] ('a882f15f-d3ea-4105-b759-99c564e59758',)
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 4716s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 4716s ago] ('701c7617-75ea-4caa-89f9-a541f213e03a',)
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 4716s ago] ('alumno-001',)
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 4716s ago] ('alumno-001',)
2026-02-02 18:59:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 18:59:05 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 18:59:07 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 18:59:07 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-02 18:59:08 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 18:59:09 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 18:59:58 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:00:00 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:00:01 - watchfiles.main - INFO - _log_changes:308 - 13 changes detected
2026-02-02 19:00:01 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:00:01 - watchfiles.main - INFO - _log_changes:308 - 6 changes detected
2026-02-02 19:00:02 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 19:00:51 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:01:47 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:02:39 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:02:41 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:02:42 - watchfiles.main - INFO - _log_changes:308 - 13 changes detected
2026-02-02 19:02:42 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:02:43 - watchfiles.main - INFO - _log_changes:308 - 6 changes detected
2026-02-02 19:02:43 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 19:03:35 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:03:36 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:03:37 - watchfiles.main - INFO - _log_changes:308 - 25 changes detected
2026-02-02 19:03:37 - watchfiles.main - INFO - _log_changes:308 - 7 changes detected
2026-02-02 19:03:38 - watchfiles.main - INFO - _log_changes:308 - 10 changes detected
2026-02-02 19:03:38 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:04:24 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:04:25 - watchfiles.main - INFO - _log_changes:308 - 22 changes detected
2026-02-02 19:04:25 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:04:25 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:04:26 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 19:04:26 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:04:26 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:04:26 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:04:26 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:04:26 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:04:26 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:04:26 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:04:26 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:04:26 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:04:26 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:04:26 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:04:26 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:04:26 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:04:26 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:04:35 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:04:35 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:04:35 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 19:04:35 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 19:05:15 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:05:16 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:05:16 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:05:17 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 19:05:17 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:05:17 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:05:17 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:05:17 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:05:17 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:05:17 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:05:17 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:05:17 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:05:17 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:05:17 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:05:17 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:05:17 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:05:17 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:05:17 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:05:24 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:05:24 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:05:24 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 19:05:24 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 19:06:05 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:06:05 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:06:57 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:06:57 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:07:48 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 19:07:48 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:07:49 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 19:07:50 - watchfiles.main - INFO - _log_changes:308 - 15 changes detected
2026-02-02 19:07:50 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-02 19:07:51 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-02 19:08:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 19:08:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:08:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 19:08:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:08:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 19:08:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:08:12 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:08:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00298s] ('alumno-001', 'ACTIVE')
2026-02-02 19:08:13 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:08:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:08:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05423s ago] ('alumno-001', 'ACTIVE')
2026-02-02 19:08:13 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:08:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:08:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00233s] ('alumno-001',)
2026-02-02 19:08:13 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:08:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:08:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01826s ago] ('alumno-001',)
2026-02-02 19:08:13 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.221s ago] ('alumno-001', 'ACTIVE')
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.257s ago] ('alumno-001', 'ACTIVE')
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.193s ago] ('alumno-001',)
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.208s ago] ('alumno-001',)
2026-02-02 19:08:19 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:08:22 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:08:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 9.985s ago] ('alumno-001', 'ACTIVE')
2026-02-02 19:08:22 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:08:22 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:08:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 10s ago] ('alumno-001', 'ACTIVE')
2026-02-02 19:08:22 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:08:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 9.934s ago] ('alumno-001',)
2026-02-02 19:08:22 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:08:22 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:08:22 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:08:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 9.958s ago] ('alumno-001',)
2026-02-02 19:08:23 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 22.92s ago] ('alumno-001', 'ACTIVE')
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 22.94s ago] ('alumno-001', 'ACTIVE')
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 22.89s ago] ('alumno-001',)
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 22.94s ago] ('alumno-001',)
2026-02-02 19:08:35 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:08:36 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:08:36 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:08:37 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 19:08:39 - watchfiles.main - INFO - _log_changes:308 - 35 changes detected
2026-02-02 19:08:39 - watchfiles.main - INFO - _log_changes:308 - 25 changes detected
2026-02-02 19:08:39 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-02 19:08:40 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:09:23 - watchfiles.main - INFO - _log_changes:308 - 16 changes detected
2026-02-02 19:09:24 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 19:09:24 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:09:24 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:09:24 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:09:24 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:09:24 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:09:24 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:09:24 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:09:24 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:09:24 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:09:24 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:09:24 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:09:24 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:09:24 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:09:24 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:09:24 - watchfiles.main - INFO - _log_changes:308 - 36 changes detected
2026-02-02 19:09:24 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:09:24 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:09:24 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:09:24 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:09:24 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:09:24 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:09:24 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:09:24 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:09:24 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:09:24 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:09:24 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:09:24 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:09:24 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:09:24 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:09:24 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-02 19:09:25 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:09:25 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:09:25 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:09:25 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:09:25 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:09:25 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:09:25 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:09:25 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:09:25 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:09:25 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:09:25 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:09:25 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:09:25 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:09:25 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:09:26 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-02 19:09:26 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 19:09:27 - watchfiles.main - INFO - _log_changes:308 - 21 changes detected
2026-02-02 19:09:32 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:09:32 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:09:32 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 19:09:32 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00206s] ('alumno-001', 'ACTIVE')
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00273s] ('alumno-001',)
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02647s ago] ('alumno-001',)
2026-02-02 19:09:38 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:10:10 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:10:11 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:10:11 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 19:10:12 - watchfiles.main - INFO - _log_changes:308 - 39 changes detected
2026-02-02 19:10:13 - watchfiles.main - INFO - _log_changes:308 - 21 changes detected
2026-02-02 19:10:13 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 19:10:21 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:10:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 19:10:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00208s] ('docente@ainative.edu',)
2026-02-02 19:10:22 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:10:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:10:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:10:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00395s] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:10:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:10:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:10:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:10:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0266s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:10:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:10:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:10:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:10:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.939s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:10:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:10:59 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 19:10:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:10:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:10:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.75s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:10:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:10:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:10:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:10:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.765s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:10:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:11:00 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:11:01 - watchfiles.main - INFO - _log_changes:308 - 15 changes detected
2026-02-02 19:11:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:11:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 19:11:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 46.58s ago] ('docente@ainative.edu',)
2026-02-02 19:11:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:11:18 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:11:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:11:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.51s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:11:18 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:11:18 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:11:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:11:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 27.53s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:11:18 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:11:31 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:11:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:11:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 40.67s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:11:31 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:11:43 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:11:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 19:11:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 81.68s ago] ('docente@ainative.edu',)
2026-02-02 19:11:43 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:11:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:11:52 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:11:53 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:12:15 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:12:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:12:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 85.25s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:12:16 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:12:16 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:12:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:12:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 85.27s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:12:16 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:12:45 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 19:12:47 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:12:48 - watchfiles.main - INFO - _log_changes:308 - 13 changes detected
2026-02-02 19:12:49 - watchfiles.main - INFO - _log_changes:308 - 6 changes detected
2026-02-02 19:12:49 - watchfiles.main - INFO - _log_changes:308 - 10 changes detected
2026-02-02 19:13:02 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:13:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 19:13:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 160.7s ago] ('docente@ainative.edu',)
2026-02-02 19:13:02 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:13:16 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:13:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:13:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 145.5s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:13:16 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:13:44 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-02 19:13:45 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:13:46 - watchfiles.main - INFO - _log_changes:308 - 15 changes detected
2026-02-02 19:14:43 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 19:14:44 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:14:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:14:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:14:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 234.3s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:14:44 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:14:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:14:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:14:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 234.3s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:14:45 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:14:46 - watchfiles.main - INFO - _log_changes:308 - 23 changes detected
2026-02-02 19:14:46 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-02 19:14:47 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-02 19:14:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:14:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 19:14:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 271.5s ago] ('docente@ainative.edu',)
2026-02-02 19:14:53 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:14:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:14:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:14:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 243.2s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:14:53 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:15:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:15:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 19:15:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 285s ago] ('docente@ainative.edu',)
2026-02-02 19:15:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:15:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:15:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:15:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 256.6s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:15:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:15:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:15:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:15:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 259.3s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:15:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:15:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:15:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:15:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 269.1s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:15:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:15:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:15:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:15:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 269.1s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:15:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:15:44 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:15:44 - watchfiles.main - INFO - _log_changes:308 - 32 changes detected
2026-02-02 19:15:46 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:15:49 - watchfiles.main - INFO - _log_changes:308 - 15 changes detected
2026-02-02 19:15:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:15:50 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 19:15:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:15:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:15:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.9s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:15:53 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:15:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:15:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:15:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 302.9s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:15:53 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:15:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:15:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:15:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 308.6s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:15:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:15:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:15:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:15:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 308.7s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:15:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:16:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:16:51 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:17:56 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:17:58 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:17:59 - watchfiles.main - INFO - _log_changes:308 - 15 changes detected
2026-02-02 19:18:00 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-02 19:18:00 - watchfiles.main - INFO - _log_changes:308 - 7 changes detected
2026-02-02 19:18:01 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:18:02 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:18:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 19:18:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 460.4s ago] ('docente@ainative.edu',)
2026-02-02 19:18:02 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:18:02 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:18:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:18:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 432s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:18:02 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:18:11 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:18:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-02 19:18:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 440.5s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:18:11 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:19:01 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:19:01 - watchfiles.main - INFO - _log_changes:308 - 55 changes detected
2026-02-02 19:19:03 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:19:05 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-02 19:19:15 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (username, email, full_name, role, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, $6, $7)
            RETURNING id, username, email, full_name, role, roles, hashed_password, is_active
            
2026-02-02 19:19:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00278s] ('Juani', 'juanisarmientoomartinez@gmail.com', 'Juan Ignacio', 'student', '$2b$12$L1XTlxG8TLa4H1z4HgIbR.l5T6n9gRugINu6cSYzfVdAFcEdjNYfG', ['student'], True)
2026-02-02 19:19:15 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:20:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:20:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (username, email, full_name, role, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, $6, $7)
            RETURNING id, username, email, full_name, role, roles, hashed_password, is_active
            
2026-02-02 19:20:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 50.89s ago] ('Juani', 'juanisarmientoomartinez@gmail.com', 'Juan Ignacio', 'student', '$2b$12$KKOVtnugQZHQG3Ha9/BfTukSP83TCVXhzSgntGaBecPanvCngV7k6', ['student'], True)
2026-02-02 19:20:06 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:20:10 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:20:12 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:20:13 - watchfiles.main - INFO - _log_changes:308 - 33 changes detected
2026-02-02 19:20:14 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-02 19:20:14 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-02 19:20:15 - watchfiles.main - INFO - _log_changes:308 - 7 changes detected
2026-02-02 19:20:16 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:21:02 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:21:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 19:21:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00182s] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:21:02 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:21:09 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:21:09 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:21:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 19:21:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 648.1s ago] ('docente@ainative.edu',)
2026-02-02 19:21:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:21:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:21:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 19:21:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.379s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:21:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:21:11 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:21:11 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:21:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                u.id as user_id,
                u.username,
                u.email,
                u.full_name
            FROM users u
            WHERE u.roles::jsonb ? 'student'
              AND u.is_active = true
            ORDER BY u.full_name ASC, u.username ASC
        
2026-02-02 19:21:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00194s] ()
2026-02-02 19:21:11 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:21:12 - watchfiles.main - INFO - _log_changes:308 - 29 changes detected
2026-02-02 19:21:12 - watchfiles.main - INFO - _log_changes:308 - 10 changes detected
2026-02-02 19:21:13 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-02 19:21:14 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:21:18 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:21:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 19:21:18 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 15.98s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:21:18 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:21:33 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:21:33 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (username, email, full_name, role, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, $6, $7)
            RETURNING id, username, email, full_name, role, roles, hashed_password, is_active
            
2026-02-02 19:21:33 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 137.9s ago] ('Juani', 'juanisarmientoomartinez@gmail.com', 'Juan Ignacio', 'student', '$2b$12$D9ZFy3h32ModY2EGVct9cOpMsL0We8.2AILFUR9RhR3PV77qzCTdK', ['student'], True)
2026-02-02 19:21:33 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:22:10 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:22:10 - watchfiles.main - INFO - _log_changes:308 - 21 changes detected
2026-02-02 19:22:11 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:22:11 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:22:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 19:22:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 710.1s ago] ('docente@ainative.edu',)
2026-02-02 19:22:12 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:22:12 - watchfiles.main - INFO - _log_changes:308 - 13 changes detected
2026-02-02 19:22:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:22:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (username, email, full_name, role, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, $6, $7)
            RETURNING id, username, email, full_name, role, roles, hashed_password, is_active
            
2026-02-02 19:22:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 210.6s ago] ('test123', 'test123@estudiantes.edu', 'Test User', 'student', '$2b$12$qc2MgQoFwRrlQTKb1tgaiuaN.l4xlJmewMT0cJeZmJm6SCEthOSh2', ['student'], True)
2026-02-02 19:22:45 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:23:04 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:23:06 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:23:07 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-02 19:23:08 - watchfiles.main - INFO - _log_changes:308 - 6 changes detected
2026-02-02 19:23:08 - watchfiles.main - INFO - _log_changes:308 - 6 changes detected
2026-02-02 19:23:09 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:24:16 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:24:17 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:24:17 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 19:24:18 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:24:18 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:24:18 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:24:18 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:24:18 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:24:18 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:24:18 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:24:18 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:24:18 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:24:18 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:24:18 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:24:18 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:24:18 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:24:18 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:24:25 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:24:25 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:24:25 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 19:24:25 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 19:25:18 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:25:33 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 19:25:35 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:25:35 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:25:35 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:25:35 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:25:35 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:25:35 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:25:35 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:25:35 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:25:35 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:25:35 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:25:35 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:25:35 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:25:35 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:25:35 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:25:44 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:25:45 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:25:45 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:25:45 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:25:45 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:25:45 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:25:45 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:25:45 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:25:45 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:25:45 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:25:45 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:25:45 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:25:45 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:25:45 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:25:45 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:25:52 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:25:52 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:25:52 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 19:25:52 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 19:25:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 19:25:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:25:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 19:25:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:25:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 19:25:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:25:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:25:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, $6)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-02 19:25:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00129s] ('estudiante1', 'estudiante1@estudiantes.edu', 'Estudiante Uno', '$2b$12$f5INz8Mpc24yq/OV8dK9wObf9JjcphMVF0GWBuApzDFnJpmkfYrwq', ['student'], True)
2026-02-02 19:25:53 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:26:25 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:26:25 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:26:25 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:26:25 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:26:25 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:26:25 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:26:25 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:26:25 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:26:25 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:26:25 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:26:25 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:26:25 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:26:25 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:26:25 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:26:32 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:26:33 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:26:33 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:26:33 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:26:33 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:26:33 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:26:33 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:26:33 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:26:33 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:26:33 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:26:33 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:26:33 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:26:33 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:26:33 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:26:33 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:26:39 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:26:39 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:26:39 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 19:26:39 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 19:26:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 19:26:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:26:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 19:26:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:26:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 19:26:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:26:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:26:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, :roles::jsonb, $5)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-02 19:26:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00125s] ('estudiante1', 'estudiante1@estudiantes.edu', 'Estudiante Uno', '$2b$12$Y1CmkinxcfE.chKFEq2RXOUQFSDRkfoHH9Tzmwg2CvQrE.7Dukp/y', True)
2026-02-02 19:26:40 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:27:06 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:27:06 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:27:06 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:27:06 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:27:06 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:27:06 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:27:06 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:27:06 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:27:06 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:27:06 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:27:06 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:27:06 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:27:06 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:27:06 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:27:13 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:27:14 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:27:14 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:27:14 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:27:14 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:27:14 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:27:14 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:27:14 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:27:14 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:27:14 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:27:14 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:27:14 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:27:14 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:27:14 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:27:14 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:27:20 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:27:20 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:27:21 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 19:27:21 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 19:27:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 19:27:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:27:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 19:27:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:27:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 19:27:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:27:21 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:27:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), $6)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-02 19:27:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00149s] ('estudiante1', 'estudiante1@estudiantes.edu', 'Estudiante Uno', '$2b$12$rh5ai04tXC9uAVXtH8hN8uwTyVVDmrit3dhVcwSriTSs1XaxhH9v.', '["student"]', True)
2026-02-02 19:27:21 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:27:46 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:27:46 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:27:46 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:27:46 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:27:46 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:27:46 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:27:46 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:27:46 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:27:46 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:27:46 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:27:46 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:27:46 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:27:46 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:27:46 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:27:54 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:27:54 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:27:54 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:27:54 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:27:54 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:27:54 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:27:54 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:27:54 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:27:54 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:27:54 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:27:54 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:27:54 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:27:54 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:27:54 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:27:54 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:28:01 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:28:01 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:28:01 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 19:28:01 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 19:28:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 19:28:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:28:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 19:28:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:28:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 19:28:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:28:14 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:28:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (id, username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), $7)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-02 19:28:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00161s] ('0568ad94-659c-44cb-a07e-cae7c12ba10c', 'estudiante1', 'estudiante1@estudiantes.edu', 'Estudiante Uno', '$2b$12$vffFEPTX.wZO1lD9hfsrr.unoD3NEnv2Dy3BusNpTLxM2lRYNerte', '["student"]', True)
2026-02-02 19:28:14 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:28:42 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:28:42 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:28:42 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:28:42 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:28:42 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:28:42 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:28:42 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:28:42 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:28:42 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:28:42 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:28:42 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:28:42 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:28:42 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:28:42 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:28:50 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:28:50 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:28:50 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:28:50 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:28:50 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:28:50 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:28:50 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:28:50 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:28:50 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:28:50 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:28:50 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:28:50 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:28:50 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:28:50 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:28:50 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:28:57 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:28:57 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:28:57 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 19:28:57 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 19:29:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 19:29:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:29:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 19:29:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:29:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 19:29:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:29:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (id, username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), $7)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-02 19:29:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00490s] ('b8c9b973-9bc3-4bfb-8cea-8168d5bcae25', 'estudiante1', 'estudiante1@estudiantes.edu', 'Estudiante Uno', '$2b$12$KlamgOL7kOugMlm9hAYVYekuACAV/EXUOkUqLF2dNwz2GRxacHbE2', '["student"]', True)
2026-02-02 19:29:01 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:29:09 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (id, username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), $7)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-02 19:29:09 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.187s ago] ('0f47c056-0acb-4b32-b870-e84de674686b', 'estudiante2', 'estudiante2@estudiantes.edu', 'Estudiante Dos', '$2b$12$P.vk3XjNijMmZWoPJ1.r/OhAmOdEefQpsAKUBXkw9sRcKjcDWuBS2', '["student"]', True)
2026-02-02 19:29:09 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:29:17 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 19:29:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00258s] ('estudiante2@estudiantes.edu',)
2026-02-02 19:29:17 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:29:23 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 19:29:23 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.423s ago] ('docente@ainative.edu',)
2026-02-02 19:29:24 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:29:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (id, username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), $7)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-02 19:29:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 34.89s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'Juani', 'juanisarmientoomartinez@gmail.com', 'Juan Ignacio', '$2b$12$XmQuVFyZUwzlTPo9AZ.1Ee4Jsc6AAKkpdKd59Ki3GP7jkVe.rdn1G', '["student"]', True)
2026-02-02 19:29:36 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:29:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 19:29:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 26.81s ago] ('juanisarmientoomartinez@gmail.com',)
2026-02-02 19:29:44 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00231s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04822s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00202s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0164s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:29:45 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:29:45 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:29:47 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.015s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.047s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.985s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.998s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:29:52 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.394s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.406s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.343s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.358s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:29:53 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:30:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:30:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 19:30:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 48.88s ago] ('docente@ainative.edu',)
2026-02-02 19:30:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:30:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:30:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 19:30:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00215s] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:30:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:30:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:30:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                u.id as user_id,
                u.username,
                u.email,
                u.full_name
            FROM users u
            WHERE u.roles::jsonb ? 'student'
              AND u.is_active = true
            ORDER BY u.full_name ASC, u.username ASC
        
2026-02-02 19:30:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00304s] ()
2026-02-02 19:30:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO subjects_legacy (code, name)
            VALUES ($1, $2)
            ON CONFLICT (code) DO NOTHING
        
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00225s] ('MOD_C5A2D252', 'Comision 1')
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO subjects (subject_id, name, code, created_at)
            VALUES ($1, $2, $3, NOW())
            ON CONFLICT (code) DO UPDATE SET created_at = NOW()
            RETURNING subject_id
        
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00119s] ('660a63ec-023e-4237-b64c-cbef6681476d', 'Comision 1', 'MOD_C5A2D252')
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO courses (course_id, subject_code, subject_id, year, semester, is_active)
            VALUES ($1, $2, $3, 2026, '1C', true)
        
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00155s] ('d94012e5-518d-451b-b8e0-ae81cf711050', 'MOD_C5A2D252', '660a63ec-023e-4237-b64c-cbef6681476d')
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO enrollments (enrollment_id, user_id, course_id, role, status)
            VALUES ($1, $2, $3, 'TEACHER', 'ACTIVE')
        
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00135s] ('e0e5b6e3-6dc6-4206-b594-adcec61f2abc', '1be823c5-22aa-4b70-b06d-f7f3ecad978e', 'd94012e5-518d-451b-b8e0-ae81cf711050')
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO modules (module_id, course_id, title, description, order_index, is_published, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN, $7::JSONB) RETURNING modules.created_at, modules.updated_at
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00149s] ('52738ad0-80d2-47de-8d56-dcd266da25e3', 'd94012e5-518d-451b-b8e0-ae81cf711050', 'Comision 1', 'Comision de prueba ', 0, False, '{}')
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00291s] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.course_id = $2::VARCHAR AND enrollments.module_id = $3::VARCHAR
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00167s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd94012e5-518d-451b-b8e0-ae81cf711050', '52738ad0-80d2-47de-8d56-dcd266da25e3')
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO enrollments (enrollment_id, user_id, course_id, module_id, role, status, completed_at, dropped_at, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::enrollment_role, $6::enrollment_status_new, $7::TIMESTAMP WITH TIME ZONE, $8::TIMESTAMP WITH TIME ZONE, $9::JSONB) RETURNING enrollments.enrolled_at, enrollments.created_at, enrollments.updated_at
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00125s] ('66731977-29f6-4697-a9a0-2891f873fa80', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd94012e5-518d-451b-b8e0-ae81cf711050', '52738ad0-80d2-47de-8d56-dcd266da25e3', 'STUDENT', 'ACTIVE', None, None, '{}')
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.enrollment_id = $1::VARCHAR
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00127s] ('66731977-29f6-4697-a9a0-2891f873fa80',)
2026-02-02 19:30:19 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - create_enrollment:2383 - Enrolled user 91880ff2-3d5b-4ee9-acb5-61dafccf74b6 in course d94012e5-518d-451b-b8e0-ae81cf711050 as EnrollmentRoleEnum.STUDENT
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 12.41s ago] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:30:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:30:20 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:30:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 19:30:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00253s] ('52738ad0-80d2-47de-8d56-dcd266da25e3', 'ACTIVE')
2026-02-02 19:30:20 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:30:20 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:30:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 19:30:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02555s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3', 'ACTIVE')
2026-02-02 19:30:20 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:30:21 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:30:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 19:30:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00343s] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:30:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 52738ad0-80d2-47de-8d56-dcd266da25e3 - Found 0 activities
2026-02-02 19:30:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 0 activities
2026-02-02 19:30:22 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:30:22 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:30:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 19:30:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04159s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:30:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 52738ad0-80d2-47de-8d56-dcd266da25e3 - Found 0 activities
2026-02-02 19:30:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 0 activities
2026-02-02 19:30:22 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:30:33 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:30:34 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:30:35 - watchfiles.main - INFO - _log_changes:308 - 29 changes detected
2026-02-02 19:30:35 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-02 19:30:35 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-02 19:30:44 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:30:44 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:30:44 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:30:44 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:683 - üöÄ Starting graph execution for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:30:44 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:610 - üéØ Executing graph for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:30:44 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:611 - üéØ Initial state phase: ingestion
2026-02-02 19:30:44 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:308 - Starting PDF ingestion for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:30:45 - backend.src_v3.infrastructure.ai.rag.document_processor - INFO - process_pdf:88 - Processed PDF 'd4661186-b5d5-452e-a7e1-797def70837f_Bucles en Python_ Repetici√≥n y Control de Flujo.pdf': 7 pages, 10 chunks
2026-02-02 19:30:45 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:30:49 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:30:49 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:30:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:30:49 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:30:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:30:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion
2026-02-02 19:30:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:44.763318'}
2026-02-02 19:30:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion, draft_ready: False, published: False
2026-02-02 19:30:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:30:53 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:30:53 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:30:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:30:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:30:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:30:54 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion
2026-02-02 19:30:54 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:44.763318'}
2026-02-02 19:30:54 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion, draft_ready: False, published: False
2026-02-02 19:30:54 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:30:56 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:30:56 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - add_documents:90 - Added 10 documents to collection 'job_d4661186-b5d5-452e-a7e1-797def70837f_docs'
2026-02-02 19:30:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:333 - PDF ingestion complete for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:30:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:571 - üîÄ Routing after ingestion: current_phase=ingestion_complete
2026-02-02 19:30:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:577 - üîÄ ‚Üí Going to generate_draft
2026-02-02 19:30:56 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:352 - üé® Starting exercise generation for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:00 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:00 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:00 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:403 - ü§ñ Calling Mistral AI for job d4661186-b5d5-452e-a7e1-797def70837f...
2026-02-02 19:31:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:01 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:01 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:03 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:03 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:03 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:05 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:05 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:05 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:05 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:05 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:05 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:07 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:07 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:07 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:07 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:09 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:09 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:09 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:09 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:11 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:11 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:13 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:13 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:14 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:14 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:14 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:14 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:14 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:16 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:16 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:16 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:16 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:16 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:16 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:16 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:16 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:16 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:18 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:18 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:20 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:20 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:22 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:22 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:22 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:24 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:24 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:24 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:24 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:26 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:26 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:28 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:28 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:30 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:30 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:33 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:33 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:33 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:33 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:33 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:33 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: ingestion_complete
2026-02-02 19:31:33 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:30:56.713352'}
2026-02-02 19:31:33 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-02 19:31:33 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'processing' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:406 - ‚úÖ Mistral responded for job d4661186-b5d5-452e-a7e1-797def70837f, parsing 23785 chars...
2026-02-02 19:31:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - WARNING - _generate_draft_node:469 - Expected 10 exercises, got 11
2026-02-02 19:31:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:477 - ‚úÖ Exercise generation complete for job d4661186-b5d5-452e-a7e1-797def70837f: 11 exercises created
2026-02-02 19:31:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:485 - Exercise generation complete for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:583 - üîÄ Routing after generation: current_phase=generation
2026-02-02 19:31:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:589 - üîÄ ‚Üí Going to human_review
2026-02-02 19:31:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:508 - ‚úã Job d4661186-b5d5-452e-a7e1-797def70837f reached human review checkpoint - execution will stop here
2026-02-02 19:31:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:514 - üèÅ Job d4661186-b5d5-452e-a7e1-797def70837f ready for approval with 11 exercises
2026-02-02 19:31:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:617 - üèÅ Graph execution completed for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:618 - üèÅ Final phase: review
2026-02-02 19:31:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:619 - üèÅ Awaiting approval: True
2026-02-02 19:31:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:620 - üèÅ Draft exercises count: 11
2026-02-02 19:31:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:689 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f execution completed
2026-02-02 19:31:34 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - run_generation:1628 - Generation job d4661186-b5d5-452e-a7e1-797def70837f completed: processing
2026-02-02 19:31:35 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - üîç Checking state for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - üì¶ State retrieved: exists=True, values=True
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - ‚úÖ Job d4661186-b5d5-452e-a7e1-797def70837f found, phase: review
2026-02-02 19:31:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1684 - üìã State for job d4661186-b5d5-452e-a7e1-797def70837f: {'job_id': 'd4661186-b5d5-452e-a7e1-797def70837f', 'current_step': 'review', 'draft_ready': True, 'published': False, 'error': None, 'created_at': '2026-02-02T19:30:44.763308', 'updated_at': '2026-02-02T19:31:34.236716'}
2026-02-02 19:31:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1711 - üéØ Job d4661186-b5d5-452e-a7e1-797def70837f - current_step: review, draft_ready: True, published: False
2026-02-02 19:31:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ‚úÖ Returning status 'awaiting_approval' for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:35 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:814 - üìù Approving job d4661186-b5d5-452e-a7e1-797def70837f, current phase: review
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:824 - ‚úÖ Approving 11 exercises
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:834 - üì¶ Extracted 11 exercises for persistence
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:846 - ‚úÖ State updated to 'published'
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:859 - üíæ Persisting 11 exercises to database...
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.db_persistence - INFO - publish_exercises_to_db:54 - Persisting 11 exercises to database
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.db_persistence - INFO - publish_exercises_to_db:80 - Created activity: f31204ea-8711-408b-8bdf-46087f7bef37
2026-02-02 19:31:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:31:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO activities (activity_id, title, subject, unit_id, teacher_id, course_id, module_id, order_index, instructions, status, difficulty_level, policies, start_date, end_date, deleted_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::INTEGER, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::JSONB, $13::TIMESTAMP WITH TIME ZONE, $14::TIMESTAMP WITH TIME ZONE, $15::TIMESTAMP WITH TIME ZONE) RETURNING activities.created_at
2026-02-02 19:31:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00316s] ('f31204ea-8711-408b-8bdf-46087f7bef37', 'Bucles', 'Actividad generada autom√°ticamente sobre Unidad 1 ', '1', '1be823c5-22aa-4b70-b06d-f7f3ecad978e', None, '52738ad0-80d2-47de-8d56-dcd266da25e3', 0, 'Complete the following exercises based on the course material.', 'active', 'intermedio', '{"allow_retries": true, "max_attempts": 3, "show_solution_after_submit": false}', datetime.datetime(2026, 2, 2, 19, 31, 35, 345334), None, None)
2026-02-02 19:31:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1841 - INSERT INTO exercises_v2 (exercise_id, activity_id, title, description, subject_id, unit_number, difficulty, language, mission_markdown, starter_code, solution_code, test_cases, tags, estimated_time_minutes, deleted_at) VALUES ($1::VARCHAR, $2::VARCH ... 2467 characters truncated ... INTEGER, $165::TIMESTAMP WITH TIME ZONE) RETURNING exercises_v2.created_at, exercises_v2.exercise_id
2026-02-02 19:31:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1841 - [generated in 0.00027s (insertmanyvalues) 1/1 (ordered)] ('5128a5d8-74e2-41c0-90e0-272997ddaa3d', 'f31204ea-8711-408b-8bdf-46087f7bef37', 'Iteraci√≥n sobre una lista con for', 'Iterar sobre una lista de frutas e imprimir cada una', None, 1, 'facil', 'python', "## üéØ Objetivo\nIterar sobre una lista de frutas e imprimir cada una\n\n## üìã Requisitos\n1. Usar un bucle for\n2. Imprimir cada fruta en una l√≠nea sep ... (198 characters truncated) ... *Salida esperada:**\nmanzana\nbanana\ncereza\n\n## üîç Pistas\n- Usa un bucle for para recorrer la lista\n- Imprime cada elemento en una l√≠nea separada", '# Ejercicio: Iteraci√≥n sobre una lista\n#\n# Tu tarea:\n# 1. Define una funci√≥n llamada imprimir_frutas\n# 2. La funci√≥n debe recibir una lista de frutas\n# 3. Debe imprimir cada fruta en una l√≠nea separada\n#\n# Escribe tu c√≥digo aqu√≠:\n', "def imprimir_frutas(frutas):\n    for fruta in frutas:\n        print(fruta)\n\n# Llamada de prueba\nfrutas = ['manzana', 'banana', 'cereza']\nprint(imprimir_frutas(frutas))", '[{"description": "Test b\\u00e1sico", "input_data": "[\'manzana\', \'banana\', \'cereza\']", "expected_output": "manzana\\nbanana\\ncereza", "is_hidd ... (146 characters truncated) ... conds": 5}, {"description": "Lista con una fruta", "input_data": "[\'fresa\']", "expected_output": "fresa", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, 'abf2cc7f-5d7c-4634-b482-6f7382229baa', 'f31204ea-8711-408b-8bdf-46087f7bef37', 'Uso de continue en un bucle for', 'Imprimir solo n√∫meros impares usando continue', None, 1, 'facil', 'python', '## üéØ Objetivo\nImprimir solo n√∫meros impares de una secuencia usando continue\n\n## üìã Requisitos\n1. Usar un bucle for\n2. Usar la sentencia continue ... (187 characters truncated) ... *Salida esperada:**\n1\n3\n\n## üîç Pistas\n- Usa el operador m√≥dulo para verificar si un n√∫mero es par\n- Usa continue para saltar la iteraci√≥n actual', '# Ejercicio: Uso de continue\n#\n# Tu tarea:\n# 1. Define una funci√≥n llamada imprimir_impares\n# 2. La funci√≥n debe recibir un n√∫mero entero n\n# 3. Debe imprimir todos los n√∫meros impares de 0 a n-1\n#\n# Escribe tu c√≥digo aqu√≠:\n', 'def imprimir_impares(n):\n    for i in range(n):\n        if i % 2 == 0:\n            continue\n        print(i)\n\n# Llamada de prueba\nprint(imprimir_impares(5))', '[{"description": "Test b\\u00e1sico", "input_data": "5", "expected_output": "1\\n3", "is_hidden": false, "timeout_seconds": 5}, {"description": "N\\u ... (77 characters truncated) ...  "timeout_seconds": 5}, {"description": "N\\u00famero negativo", "input_data": "-3", "expected_output": "", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, 'ed559a4d-832c-4e07-bce8-dab788c025fa', 'f31204ea-8711-408b-8bdf-46087f7bef37', 'Bucles anidados para tabla de multiplicar', 'Generar una tabla de multiplicar b√°sica', None, 1, 'facil', 'python', "## üéØ Objetivo\nGenerar una tabla de multiplicar b√°sica usando bucles anidados\n\n## üìã Requisitos\n1. Usar dos bucles for anidados\n2. Imprimir la tab ... (309 characters truncated) ...  3 = 9\n\n## üîç Pistas\n- Usa un bucle for para las filas\n- Usa otro bucle for anidado para las columnas\n- Usa end='\\t' para separar los resultados", '# Ejercicio: Tabla de multiplicar\n#\n# Tu tarea:\n# 1. Define una funci√≥n llamada tabla_multiplicar\n# 2. La funci√≥n debe recibir un n√∫mero entero n\n# 3. Debe imprimir la tabla de multiplicar del 1 a n\n#\n# Escribe tu c√≥digo aqu√≠:\n', 'def tabla_multiplicar(n):\n    for i in range(1, n+1):\n        for j in range(1, n+1):\n            resultado = i * j\n            print(f"{i} * {j} = {resultado}", end="\\t")\n        print()\n\n# Llamada de prueba\nprint(tabla_multiplicar(3))', '[{"description": "Test b\\u00e1sico", "input_data": "3", "expected_output": "1 * 1 = 1\\t1 * 2 = 2\\t1 * 3 = 3\\n2 * 1 = 2\\t2 * 2 = 4\\t2 * 3 = 6\\n ... (359 characters truncated) ...  4 = 8\\n3 * 1 = 3\\t3 * 2 = 6\\t3 * 3 = 9\\t3 * 4 = 12\\n4 * 1 = 4\\t4 * 2 = 8\\t4 * 3 = 12\\t4 * 4 = 16", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, '14131a37-ab2e-4edb-984a-7bb52724404f', 'f31204ea-8711-408b-8bdf-46087f7bef37', 'Iteraci√≥n sobre un diccionario', 'Iterar sobre un diccionario e imprimir sus elementos', None ... 65 parameters truncated ... 'def contar_con_else(n):\n    i = 0\n    while i < n:\n        print(i)\n        i += 1\n    else:\n        print("El bucle while termin√≥ porque la condici√≥n se volvi√≥ falsa.")\n\n# Llamada de prueba\nprint(contar_con_else(3))', '[{"description": "Test b\\u00e1sico", "input_data": "3", "expected_output": "0\\n1\\n2\\nEl bucle while termin\\u00f3 porque la condici\\u00f3n se vo ... (315 characters truncated) ... : "-3", "expected_output": "El bucle while termin\\u00f3 porque la condici\\u00f3n se volvi\\u00f3 falsa.", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, '1d928015-68b3-4bb1-be02-d0ee1e1a244d', 'f31204ea-8711-408b-8bdf-46087f7bef37', 'Iteraci√≥n sobre una cadena de texto', 'Iterar sobre una cadena e imprimir cada car√°cter', None, 1, 'dificil', 'python', '## üéØ Objetivo\nIterar sobre una cadena e imprimir cada car√°cter\n\n## üìã Requisitos\n1. Usar un bucle for\n2. Imprimir cada car√°cter en una l√≠nea sepa ... (245 characters truncated) ... n\n## üîç Pistas\n- Usa un bucle for para recorrer la cadena\n- Usa una variable para contar las vocales\n- Imprime cada car√°cter en una l√≠nea separada', '# Ejercicio: Iteraci√≥n sobre una cadena\n#\n# Tu tarea:\n# 1. Define una funci√≥n llamada analizar_cadena\n# 2. La funci√≥n debe recibir una cadena de texto\n# 3. Debe imprimir cada car√°cter en una l√≠nea separada\n# 4. Debe contar y mostrar la cantidad de vocales\n#\n# Escribe tu c√≥digo aqu√≠:\n', 'def analizar_cadena(cadena):\n    vocales = 0\n    for letra in cadena:\n        print(letra)\n        if letra.lower() in [\'a\', \'e\', \'i\', \'o\', \'u\']:\n            vocales += 1\n    print(f"Cantidad de vocales: {vocales}")\n\n# Llamada de prueba\nprint(analizar_cadena("Python"))', '[{"description": "Test b\\u00e1sico", "input_data": "\\"Python\\"", "expected_output": "P\\nY\\nT\\nH\\nO\\nN\\nCantidad de vocales: 1", "is_hidden": ... (230 characters truncated) ... ": "\\"Hola Mundo\\"", "expected_output": "H\\nO\\nL\\nA\\n \\nM\\nU\\nN\\nD\\nO\\nCantidad de vocales: 4", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, '79b40136-8126-4d94-95e8-fb026d80e73a', 'f31204ea-8711-408b-8bdf-46087f7bef37', 'Bucles anidados para matriz', 'Generar y recorrer una matriz usando bucles anidados', None, 1, 'dificil', 'python', '## üéØ Objetivo\nGenerar y recorrer una matriz usando bucles anidados\n\n## üìã Requisitos\n1. Usar dos bucles for anidados\n2. Generar una matriz de 3x3 ... (270 characters truncated) ... n## üîç Pistas\n- Usa un bucle for para las filas\n- Usa otro bucle for anidado para las columnas\n- Usa una lista de listas para representar la matriz', '# Ejercicio: Bucles anidados para matriz\n#\n# Tu tarea:\n# 1. Define una funci√≥n llamada generar_matriz\n# 2. La funci√≥n debe recibir un n√∫mero entero n\n# 3. Debe generar una matriz de n x n\n# 4. Debe recorrer la matriz e imprimir cada elemento\n#\n# Escribe tu c√≥digo aqu√≠:\n', 'def generar_matriz(n):\n    # Crear una matriz de n x n\n    matriz = [[0 for _ in range(n)] for _ in range(n)]\n    \n    # Recorrer la matriz\n    for i in range(n):\n        for j in range(n):\n            print(f"{i} {j}: {matriz[i][j]}")\n\n# Llamada de prueba\nprint(generar_matriz(3))', '[{"description": "Test b\\u00e1sico", "input_data": "3", "expected_output": "0 0: 0\\n0 1: 0\\n0 2: 0\\n1 0: 0\\n1 1: 0\\n1 2: 0\\n2 0: 0\\n2 1: 0\\n ... (278 characters truncated) ... 1 0: 0\\n1 1: 0\\n1 2: 0\\n1 3: 0\\n2 0: 0\\n2 1: 0\\n2 2: 0\\n2 3: 0\\n3 0: 0\\n3 1: 0\\n3 2: 0\\n3 3: 0", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, '7eae3fdc-da83-44fa-84b8-c88ca4c48119', 'f31204ea-8711-408b-8bdf-46087f7bef37', 'Uso de enumerate en un bucle for', 'Usar enumerate para obtener √≠ndices y valores en un bucle for', None, 1, 'dificil', 'python', "## üéØ Objetivo\nUsar enumerate para obtener √≠ndices y valores en un bucle for\n\n## üìã Requisitos\n1. Usar un bucle for con enumerate\n2. Imprimir el √≠ ... (349 characters truncated) ... sa enumerate para obtener √≠ndices y valores\n- Usa una variable para acumular la suma de los √≠ndices\n- Imprime el √≠ndice y el valor de cada elemento", '# Ejercicio: Uso de enumerate\n#\n# Tu tarea:\n# 1. Define una funci√≥n llamada enumerar_elementos\n# 2. La funci√≥n debe recibir una lista\n# 3. Debe imprimir el √≠ndice y el valor de cada elemento\n# 4. Debe calcular y mostrar la suma de los √≠ndices\n#\n# Escribe tu c√≥digo aqu√≠:\n', 'def enumerar_elementos(lista):\n    suma_indices = 0\n    for indice, valor in enumerate(lista):\n        print(f"√çndice {indice}: {valor}")\n        ... (27 characters truncated) ...   print(f"Suma de √≠ndices: {suma_indices}")\n\n# Llamada de prueba\nfrutas = [\'manzana\', \'banana\', \'cereza\']\nprint(enumerar_elementos(frutas))', '[{"description": "Test b\\u00e1sico", "input_data": "[\'manzana\', \'banana\', \'cereza\']", "expected_output": "\\u00cdndice 0: manzana\\n\\u00cdndi ... (290 characters truncated) ... mento", "input_data": "[\'fresa\']", "expected_output": "\\u00cdndice 0: fresa\\nSuma de \\u00edndices: 0", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None)
2026-02-02 19:31:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.db_persistence - INFO - publish_exercises_to_db:126 - Successfully persisted activity f31204ea-8711-408b-8bdf-46087f7bef37 with 11 exercises
2026-02-02 19:31:35 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:876 - Published exercises to database: f31204ea-8711-408b-8bdf-46087f7bef37
2026-02-02 19:31:35 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - approve_and_publish_exercises:1938 - Published exercises for job d4661186-b5d5-452e-a7e1-797def70837f
2026-02-02 19:31:35 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 19:31:35 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:31:36 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:31:36 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-02 19:31:37 - watchfiles.main - INFO - _log_changes:308 - 7 changes detected
2026-02-02 19:31:37 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:31:37 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:31:37 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:31:37 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:31:37 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:31:37 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:31:37 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:31:37 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:31:37 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:31:37 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:31:37 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:31:37 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:31:37 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:31:37 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:31:38 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:31:43 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:31:43 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:31:43 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 19:31:43 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 19:31:45 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:31:45 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:31:45 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:31:45 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:31:45 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:31:45 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:31:45 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:31:45 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:31:45 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:31:45 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:31:45 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:31:45 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:31:45 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:31:45 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:31:52 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:31:53 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:31:53 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:31:53 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:31:53 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:31:53 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:31:53 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:31:53 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:31:53 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:31:53 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:31:53 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:31:53 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:31:53 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:31:53 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:31:53 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:31:59 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:31:59 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:31:59 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 19:31:59 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 19:32:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 19:32:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:32:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 19:32:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:32:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 19:32:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:32:02 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:32:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:32:02 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00146s] ('0f47c056-0acb-4b32-b870-e84de674686b',)
2026-02-02 19:32:02 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - ERROR - get_student_gamification:2473 - Failed to get gamification: 'current_streak' is an invalid keyword argument for UserGamificationModel
2026-02-02 19:32:02 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:32:28 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:32:28 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:32:28 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:32:28 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:32:28 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:32:28 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:32:28 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:32:28 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:32:28 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:32:28 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:32:28 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:32:28 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:32:28 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:32:28 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:32:35 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:32:36 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:32:36 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:32:36 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:32:36 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:32:36 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:32:36 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:32:36 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:32:36 - root - INFO - setup_logging:116 - ============================================================
2026-02-02 19:32:36 - root - INFO - setup_logging:117 - üöÄ AI-Native MVP V3 - Logging initialized
2026-02-02 19:32:36 - root - INFO - setup_logging:118 - üìù Log Level: INFO
2026-02-02 19:32:36 - root - INFO - setup_logging:119 - üìÅ Log Directory: /app/logs
2026-02-02 19:32:36 - root - INFO - setup_logging:120 - üíæ File Logging: ‚úÖ Enabled
2026-02-02 19:32:36 - root - INFO - setup_logging:121 - üîî Sentry Alerts: ‚ùå Disabled
2026-02-02 19:32:36 - root - INFO - setup_logging:122 - ============================================================
2026-02-02 19:32:42 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:32:42 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-02 19:32:42 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-02 19:32:42 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00285s] ('0f47c056-0acb-4b32-b870-e84de674686b',)
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO user_gamification (user_id, xp, level, streak_days, last_activity_date, longest_streak, achievements, badges, total_exercises_completed, total_activities_completed, total_hints_used) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::INTEGER, $5::DATE, $6::INTEGER, $7::JSONB, $8::JSONB, $9::INTEGER, $10::INTEGER, $11::INTEGER) RETURNING user_gamification.created_at, user_gamification.updated_at
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00457s] ('0f47c056-0acb-4b32-b870-e84de674686b', 0, 1, 0, datetime.date(2026, 2, 2), 0, '[]', '[]', 0, 0, 0)
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00229s] ('0f47c056-0acb-4b32-b870-e84de674686b',)
2026-02-02 19:32:43 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:21 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 19:33:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00232s] ('52738ad0-80d2-47de-8d56-dcd266da25e3', 'ACTIVE')
2026-02-02 19:33:21 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:21 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-02 19:33:21 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05489s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3', 'ACTIVE')
2026-02-02 19:33:21 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:22 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 19:33:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00215s] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:33:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 52738ad0-80d2-47de-8d56-dcd266da25e3 - Found 1 activities
2026-02-02 19:33:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 19:33:22 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:22 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-02 19:33:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0363s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:33:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2523 - üìä Module 52738ad0-80d2-47de-8d56-dcd266da25e3 - Found 1 activities
2026-02-02 19:33:22 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2540 - üìä Returning 1 activities
2026-02-02 19:33:22 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00611s] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00189s] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0536s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00205s] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06698s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00227s] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00236s] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.09386s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.105s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00173s] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06492s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:33:25 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:535 - Retrieved 0 total analytics (sessions + submissions) for activity f31204ea-8711-408b-8bdf-46087f7bef37
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1391s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05904s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1086s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT sessions_v2.session_id, sessions_v2.user_id, sessions_v2.activity_id, sessions_v2.course_id, sessions_v2.status, sessions_v2.mode, sessions_v2.learning_objective, sessions_v2.cognitive_status, sessions_v2.session_metrics, sessions_v2.start_time, sessions_v2.end_time, sessions_v2.created_at, users.id, users.email, users.username, users.hashed_password, users.full_name, users.roles, users.is_active, users.created_at AS created_at_1, users.deleted_at 
FROM sessions_v2 LEFT OUTER JOIN users ON sessions_v2.user_id = users.id 
WHERE sessions_v2.activity_id = $1::VARCHAR ORDER BY users.full_name, users.username
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.09019s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06309s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:33:25 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:535 - Retrieved 0 total analytics (sessions + submissions) for activity f31204ea-8711-408b-8bdf-46087f7bef37
2026-02-02 19:33:25 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:28 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:33:29 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-02 19:33:29 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-02 19:33:29 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-02 19:33:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00234s] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-02 19:33:29 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:29 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00134s] ('juanisarmientoomartinez@gmail.com',)
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00177s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:33:39 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:33:39 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:33:39 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:33:39 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00265s] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00161s] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05583s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:33:39 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:33:39 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:33:39 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:33:39 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03739s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 56s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05571s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO user_gamification (user_id, xp, level, streak_days, last_activity_date, longest_streak, achievements, badges, total_exercises_completed, total_activities_completed, total_hints_used) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::INTEGER, $5::DATE, $6::INTEGER, $7::JSONB, $8::JSONB, $9::INTEGER, $10::INTEGER, $11::INTEGER) RETURNING user_gamification.created_at, user_gamification.updated_at
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 56.01s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 0, 1, 0, datetime.date(2026, 2, 2), 0, '[]', '[]', 0, 0, 0)
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 56s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 56.06s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:33:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.603s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:33:47 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:33:47 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:33:47 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:33:47 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.586s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.582s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.634s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 63.57s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:33:47 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:33:47 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:33:47 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:33:47 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.621s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.62s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 63.59s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:33:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 46.57s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:34:26 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:34:26 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:34:26 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:34:26 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 46.62s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 46.63s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 46.7s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 102.6s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:34:26 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:34:26 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:34:26 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:34:26 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 46.69s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 46.69s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 102.7s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:34:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:34:31 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:34:33 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:34:34 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-02 19:35:44 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:36:16 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:36:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:36:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 156.7s ago] ('0f47c056-0acb-4b32-b870-e84de674686b', 'ACTIVE')
2026-02-02 19:36:16 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 0f47c056-0acb-4b32-b870-e84de674686b
2026-02-02 19:36:16 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:36:16 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:36:16 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:36:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:36:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 156.7s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:36:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:36:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 156.7s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:36:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 19:36:16 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00377s] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:36:16 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 166.1s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:36:25 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:36:25 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:36:25 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:36:25 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 166.1s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 166.1s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 9.33s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 222.1s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 222.1s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:36:25 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:36:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:36:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 19:36:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 183.3s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:36:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:36:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:36:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 19:36:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 183.4s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:36:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:36:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:36:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 183.4s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 183.3s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 183.4s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 183.3s ago] ('f31204ea-8711-408b-8bdf-46087f7bef37',)
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00238s] ('25d34034-7275-423d-ad25-347c5b99e39d', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'f31204ea-8711-408b-8bdf-46087f7bef37', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07512s ago] ('4281b589-3004-4798-b1cc-3d8199e48d9a', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'f31204ea-8711-408b-8bdf-46087f7bef37', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-02 19:36:29 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 171.8s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:36:31 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:36:31 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:36:31 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:36:31 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 171.8s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 171.8s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 15.05s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 171.8s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:36:31 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:36:31 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:36:31 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:36:31 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 171.8s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 227.8s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 171.8s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 15.09s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 227.8s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:36:31 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:44:40 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:44:42 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:44:44 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-02 19:44:44 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:44:44 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:45:09 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:45:37 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:46:22 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 326.5s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:46:51 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:46:51 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:46:51 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:46:51 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 326.5s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 326.5s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 169.7s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 382.5s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 382.5s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:46:51 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.6s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:46:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:46:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:46:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:46:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.6s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.6s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 177.9s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.6s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:46:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:46:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:46:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:46:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.6s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 390.6s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.6s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 177.9s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 390.6s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:46:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:47:04 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:47:04 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:47:04 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:47:04 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 182.3s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.2s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 395.1s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:47:04 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:47:04 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:47:04 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:47:04 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.2s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.2s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 182.4s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 395.1s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:47:04 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 343s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:47:08 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:47:08 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:47:08 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:47:08 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 343s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 343s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 186.3s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 343.1s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:47:08 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:47:08 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:47:08 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:47:08 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 343.1s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 399s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 343.1s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 186.4s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 399.1s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:47:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:47:15 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 19:47:18 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:48:51 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:48:51 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:49:55 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:49:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:49:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 511.3s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:49:55 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:49:55 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:49:55 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:49:55 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:49:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:49:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 511.3s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:49:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:49:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 511.3s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:49:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 19:49:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 354.6s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:49:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:49:55 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:49:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 19:49:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 511.4s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 19:49:55 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 19:49:56 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 19:49:56 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 19:49:56 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 19:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 19:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 511.4s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 19:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 19:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 511.4s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 19:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 354.6s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 19:49:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:49:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 567.4s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:49:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:49:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 19:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 19:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 567.4s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 19:49:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 19:50:08 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:50:08 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-02 19:50:11 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-02 19:50:14 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-02 19:50:15 - watchfiles.main - INFO - _log_changes:308 - 6 changes detected
2026-02-02 19:50:16 - watchfiles.main - INFO - _log_changes:308 - 7 changes detected
2026-02-02 19:52:12 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:54:08 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:55:55 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:57:29 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 19:58:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 20:00:31 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 20:02:20 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 20:04:11 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 20:06:00 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1540s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-02 20:07:00 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2327 - üìö Found 1 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-02 20:07:00 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2340 -    üìÅ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-02 20:07:00 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2342 - üìä Grouped into 1 courses
2026-02-02 20:07:00 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2344 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1540s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1540s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1383s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1596s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1596s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-02 20:07:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-02 20:07:28 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-02 20:07:28 - watchfiles.main - INFO - _log_changes:308 - 28 changes detected
