2026-02-05 18:45:19 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:45:19 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:45:19 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:45:19 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:45:19 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:45:19 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:45:19 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:45:19 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:45:19 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:45:19 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:45:19 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:45:19 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:45:19 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:45:19 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:46:03 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-05 18:46:04 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:46:04 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:46:04 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:46:04 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:46:04 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:46:04 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:46:04 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:46:04 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:46:04 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:46:04 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:46:04 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:46:04 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:46:04 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:46:04 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:46:15 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-05 18:46:15 - backend.src_v3.infrastructure.http.app - INFO - create_app:175 - Application created successfully
2026-02-05 18:46:15 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 18:46:15 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-05 18:47:14 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-05 18:47:15 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - Shutting down application...
2026-02-05 18:47:15 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:47:15 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:47:15 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:47:15 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:47:15 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:47:15 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:47:15 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:47:15 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:47:15 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:47:15 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:47:15 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:47:15 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 18:47:15 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:47:15 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:47:15 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:47:15 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:47:15 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:47:15 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:47:15 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:47:15 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:47:15 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:47:15 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:47:15 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:47:15 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:47:15 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:47:15 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:47:15 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:47:21 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 18:47:21 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 18:47:21 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 18:47:21 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-05 18:47:21 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Initializing Redis cache...
2026-02-05 18:47:22 - backend.src_v3.infrastructure.http.app - ERROR - lifespan:70 - âŒ Failed to initialize Redis: cannot import name 'get_settings' from 'backend.src_v3.infrastructure.config.settings' (/app/backend/src_v3/infrastructure/config/settings.py)
2026-02-05 18:47:22 - backend.src_v3.infrastructure.http.app - WARNING - lifespan:71 - âš ï¸  Application will continue without cache
2026-02-05 18:48:07 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 18:48:09 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 18:48:09 - backend.src_v3.infrastructure.http.app - INFO - lifespan:82 - Shutting down application...
2026-02-05 18:48:10 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:48:10 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:48:10 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:48:10 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:48:10 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:48:10 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:48:10 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:48:10 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:48:10 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:48:10 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:48:10 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:48:10 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:48:10 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:48:10 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:48:16 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 18:48:17 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 18:48:17 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 18:48:17 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-05 18:48:17 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Initializing Redis cache...
2026-02-05 18:48:17 - backend.src_v3.infrastructure.cache.redis_client - INFO - __init__:40 - ğŸ”§ Redis cache initialized with URL: redis://localhost:6379/0
2026-02-05 18:48:17 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:45 - ğŸ”Œ Attempting to connect to Redis...
2026-02-05 18:48:17 - backend.src_v3.infrastructure.cache.redis_client - ERROR - connect:68 - âŒ Failed to connect to Redis: Error 111 connecting to localhost:6379. Connection refused.
2026-02-05 18:48:17 - backend.src_v3.infrastructure.http.app - ERROR - lifespan:70 - âŒ Failed to initialize Redis: Error 111 connecting to localhost:6379. Connection refused.
2026-02-05 18:48:17 - backend.src_v3.infrastructure.http.app - WARNING - lifespan:71 - âš ï¸  Application will continue without cache
2026-02-05 18:49:09 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 18:49:11 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 18:49:11 - backend.src_v3.infrastructure.http.app - INFO - lifespan:82 - Shutting down application...
2026-02-05 18:49:11 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:49:11 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:49:11 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:49:11 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:49:11 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:49:11 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:49:11 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:49:11 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:49:11 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:49:11 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:49:11 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:49:11 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:49:11 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:49:11 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:49:11 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 18:49:17 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 18:49:18 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 18:49:18 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 18:49:18 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-05 18:49:18 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Initializing Redis cache...
2026-02-05 18:49:18 - backend.src_v3.infrastructure.cache.redis_client - INFO - __init__:40 - ğŸ”§ Redis cache initialized with URL: redis://localhost:6379/0
2026-02-05 18:49:18 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:45 - ğŸ”Œ Attempting to connect to Redis...
2026-02-05 18:49:18 - backend.src_v3.infrastructure.cache.redis_client - ERROR - connect:68 - âŒ Failed to connect to Redis: Error 111 connecting to localhost:6379. Connection refused.
2026-02-05 18:49:18 - backend.src_v3.infrastructure.http.app - ERROR - lifespan:70 - âŒ Failed to initialize Redis: Error 111 connecting to localhost:6379. Connection refused.
2026-02-05 18:49:18 - backend.src_v3.infrastructure.http.app - WARNING - lifespan:71 - âš ï¸  Application will continue without cache
2026-02-05 18:50:00 - backend.src_v3.infrastructure.http.app - INFO - lifespan:82 - Shutting down application...
2026-02-05 18:50:23 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:50:23 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:50:23 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:50:23 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:50:23 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:50:23 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:50:23 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:50:23 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:50:23 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:50:23 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:50:23 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:50:23 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:50:23 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:50:24 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:50:32 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 18:50:32 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:50:32 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:50:32 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:50:32 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:50:32 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:50:32 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:50:32 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:50:32 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:50:32 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:50:32 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:50:32 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:50:32 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:50:32 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:50:32 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:50:39 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 18:50:39 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 18:50:39 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 18:50:39 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-05 18:50:39 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Initializing Redis cache...
2026-02-05 18:50:39 - backend.src_v3.infrastructure.cache.redis_client - INFO - __init__:40 - ğŸ”§ Redis cache initialized with URL: redis://redis:6379/0
2026-02-05 18:50:39 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:45 - ğŸ”Œ Attempting to connect to Redis...
2026-02-05 18:50:39 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:59 - âœ… Redis connection established successfully
2026-02-05 18:50:39 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:63 - ğŸ“Š Redis version: 7.4.7
2026-02-05 18:50:39 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:64 - ğŸ“Š Connected clients: 1
2026-02-05 18:50:39 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:65 - ğŸ“Š Used memory: 1014.62K
2026-02-05 18:50:39 - backend.src_v3.infrastructure.http.app - INFO - lifespan:61 - âœ… Redis cache initialized successfully
2026-02-05 18:50:39 - backend.src_v3.infrastructure.http.app - INFO - lifespan:68 - ğŸ“Š Redis Stats: {'connected': True, 'version': '7.4.7', 'uptime_seconds': 26, 'connected_clients': 1, 'used_memory_human': '1.01M', 'used_memory_peak_human': '1.01M', 'total_commands_processed': 6, 'instantaneous_ops_per_sec': 0, 'keyspace_hits': 0, 'keyspace_misses': 0, 'hit_rate': 'N/A'}
2026-02-05 18:51:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-05 18:51:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 18:51:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-05 18:51:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 18:51:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-05 18:51:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 18:51:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 18:51:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT 1
2026-02-05 18:51:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00378s] ()
2026-02-05 18:51:07 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 18:51:55 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - detailed_health_check:41 - ğŸ¥ Performing detailed health check...
2026-02-05 18:51:55 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 18:51:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT 1
2026-02-05 18:51:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 51.24s ago] ()
2026-02-05 18:51:55 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - detailed_health_check:61 - âœ… Database: healthy
2026-02-05 18:51:55 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - detailed_health_check:85 - âœ… Redis: healthy (hit_rate: N/A)
2026-02-05 18:51:55 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - detailed_health_check:108 - ğŸ¥ Health check complete: healthy
2026-02-05 18:51:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 18:52:04 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - redis_stats:188 - ğŸ“Š Fetching Redis statistics...
2026-02-05 18:52:04 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - redis_stats:194 - âœ… Redis stats retrieved: N/A hit rate
2026-02-05 18:52:18 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - test_redis:215 - ğŸ§ª Testing Redis operations...
2026-02-05 18:52:18 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: test:redis:connection
2026-02-05 18:52:18 - backend.src_v3.infrastructure.cache.redis_client - INFO - get:120 - âœ… Cache HIT: test:redis:connection
2026-02-05 18:52:18 - backend.src_v3.infrastructure.cache.redis_client - INFO - delete:204 - âœ… Cache DELETE successful: test:redis:connection
2026-02-05 18:52:18 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - test_redis:235 - âœ… Redis test completed successfully
2026-02-05 18:52:24 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 18:52:28 - backend.src_v3.infrastructure.cache.decorators - ERROR - wrapper:120 - âŒ Cache error for system_stats: cache_key_builder() got multiple values for argument 'request'
2026-02-05 18:52:28 - backend.src_v3.infrastructure.cache.decorators - WARNING - wrapper:121 - âš ï¸  Falling back to uncached execution
2026-02-05 18:52:28 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:145 - ğŸ“Š Fetching system statistics...
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM users
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00148s] ()
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00113s] ()
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM exercise_attempts_v2
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00125s] ()
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2 WHERE DATE(start_time) = CURRENT_DATE
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00203s] ()
2026-02-05 18:52:28 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:173 - âœ… Statistics retrieved: 9 users, 30 sessions
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 18:52:28 - backend.src_v3.infrastructure.cache.decorators - ERROR - wrapper:120 - âŒ Cache error for system_stats: cache_key_builder() got multiple values for argument 'request'
2026-02-05 18:52:28 - backend.src_v3.infrastructure.cache.decorators - WARNING - wrapper:121 - âš ï¸  Falling back to uncached execution
2026-02-05 18:52:28 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:145 - ğŸ“Š Fetching system statistics...
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM users
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06716s ago] ()
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05459s ago] ()
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM exercise_attempts_v2
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04907s ago] ()
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2 WHERE DATE(start_time) = CURRENT_DATE
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04428s ago] ()
2026-02-05 18:52:28 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:173 - âœ… Statistics retrieved: 9 users, 30 sessions
2026-02-05 18:52:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 18:52:54 - backend.src_v3.infrastructure.http.app - INFO - lifespan:82 - Shutting down application...
2026-02-05 18:52:54 - backend.src_v3.infrastructure.http.app - INFO - lifespan:86 - Disconnecting Redis...
2026-02-05 18:52:54 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:79 - ğŸ”Œ Disconnecting from Redis...
2026-02-05 18:52:54 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:82 - âœ… Redis disconnected successfully
2026-02-05 18:52:56 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:52:56 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:52:56 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:52:56 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:52:56 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:52:56 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:52:56 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:52:56 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:52:56 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:52:56 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:52:56 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:52:56 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:52:56 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:52:56 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:53:01 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 18:53:01 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:53:01 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:53:01 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:53:01 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:53:01 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:53:01 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:53:01 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:53:02 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:53:02 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:53:02 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:53:02 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:53:02 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:53:02 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:53:02 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:53:09 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 18:53:10 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 18:53:10 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 18:53:10 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-05 18:53:10 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Initializing Redis cache...
2026-02-05 18:53:10 - backend.src_v3.infrastructure.cache.redis_client - INFO - __init__:40 - ğŸ”§ Redis cache initialized with URL: redis://redis:6379/0
2026-02-05 18:53:10 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:45 - ğŸ”Œ Attempting to connect to Redis...
2026-02-05 18:53:10 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:59 - âœ… Redis connection established successfully
2026-02-05 18:53:10 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:63 - ğŸ“Š Redis version: 7.4.7
2026-02-05 18:53:10 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:64 - ğŸ“Š Connected clients: 1
2026-02-05 18:53:10 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:65 - ğŸ“Š Used memory: 1.09M
2026-02-05 18:53:10 - backend.src_v3.infrastructure.http.app - INFO - lifespan:61 - âœ… Redis cache initialized successfully
2026-02-05 18:53:10 - backend.src_v3.infrastructure.http.app - INFO - lifespan:68 - ğŸ“Š Redis Stats: {'connected': True, 'version': '7.4.7', 'uptime_seconds': 177, 'connected_clients': 1, 'used_memory_human': '1.09M', 'used_memory_peak_human': '1.11M', 'total_commands_processed': 34, 'instantaneous_ops_per_sec': 0, 'keyspace_hits': 1, 'keyspace_misses': 0, 'hit_rate': '100.00%'}
2026-02-05 18:53:32 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:111 - âŒ Cache MISS for system_stats - executing function
2026-02-05 18:53:32 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:145 - ğŸ“Š Fetching system statistics...
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM users
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00279s] ()
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00118s] ()
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM exercise_attempts_v2
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00237s] ()
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2 WHERE DATE(start_time) = CURRENT_DATE
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00187s] ()
2026-02-05 18:53:32 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:173 - âœ… Statistics retrieved: 9 users, 30 sessions
2026-02-05 18:53:32 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: cache:system_stats:e6b7349dc0577c688d48f6eafb9c8b23
2026-02-05 18:53:32 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:116 - ğŸ’¾ Cached result for system_stats (TTL: 30s)
2026-02-05 18:53:32 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 18:53:40 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:111 - âŒ Cache MISS for system_stats - executing function
2026-02-05 18:53:40 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:145 - ğŸ“Š Fetching system statistics...
2026-02-05 18:53:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 18:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM users
2026-02-05 18:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.727s ago] ()
2026-02-05 18:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2
2026-02-05 18:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.724s ago] ()
2026-02-05 18:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM exercise_attempts_v2
2026-02-05 18:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.723s ago] ()
2026-02-05 18:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2 WHERE DATE(start_time) = CURRENT_DATE
2026-02-05 18:53:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 7.722s ago] ()
2026-02-05 18:53:40 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:173 - âœ… Statistics retrieved: 9 users, 30 sessions
2026-02-05 18:53:40 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: cache:system_stats:006a23a6e379dbf7f510838a516882e4
2026-02-05 18:53:40 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:116 - ğŸ’¾ Cached result for system_stats (TTL: 30s)
2026-02-05 18:53:40 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 18:53:46 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:111 - âŒ Cache MISS for system_stats - executing function
2026-02-05 18:53:46 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:145 - ğŸ“Š Fetching system statistics...
2026-02-05 18:53:46 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 18:53:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM users
2026-02-05 18:53:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 13.83s ago] ()
2026-02-05 18:53:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2
2026-02-05 18:53:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 13.82s ago] ()
2026-02-05 18:53:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM exercise_attempts_v2
2026-02-05 18:53:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 13.82s ago] ()
2026-02-05 18:53:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2 WHERE DATE(start_time) = CURRENT_DATE
2026-02-05 18:53:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 13.82s ago] ()
2026-02-05 18:53:46 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:173 - âœ… Statistics retrieved: 9 users, 30 sessions
2026-02-05 18:53:46 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: cache:system_stats:8003eb127563acf2f6f9f920b480eac3
2026-02-05 18:53:46 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:116 - ğŸ’¾ Cached result for system_stats (TTL: 30s)
2026-02-05 18:53:46 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 18:53:56 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:111 - âŒ Cache MISS for system_stats - executing function
2026-02-05 18:53:56 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:145 - ğŸ“Š Fetching system statistics...
2026-02-05 18:53:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 18:53:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM users
2026-02-05 18:53:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 23.79s ago] ()
2026-02-05 18:53:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2
2026-02-05 18:53:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 23.79s ago] ()
2026-02-05 18:53:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM exercise_attempts_v2
2026-02-05 18:53:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 23.79s ago] ()
2026-02-05 18:53:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2 WHERE DATE(start_time) = CURRENT_DATE
2026-02-05 18:53:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 23.78s ago] ()
2026-02-05 18:53:56 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:173 - âœ… Statistics retrieved: 9 users, 30 sessions
2026-02-05 18:53:56 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: cache:system_stats:48a231079be7d1c0f74bbbb58bfb72a1
2026-02-05 18:53:56 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:116 - ğŸ’¾ Cached result for system_stats (TTL: 30s)
2026-02-05 18:53:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 18:54:11 - backend.src_v3.infrastructure.http.app - INFO - lifespan:82 - Shutting down application...
2026-02-05 18:54:11 - backend.src_v3.infrastructure.http.app - INFO - lifespan:86 - Disconnecting Redis...
2026-02-05 18:54:11 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:79 - ğŸ”Œ Disconnecting from Redis...
2026-02-05 18:54:11 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:82 - âœ… Redis disconnected successfully
2026-02-05 18:54:12 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:54:12 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:54:12 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:54:12 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:54:12 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:54:12 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:54:12 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:54:12 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:54:12 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:54:12 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:54:12 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:54:12 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:54:12 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:54:12 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:54:19 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 18:54:20 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:54:20 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:54:20 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:54:20 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:54:20 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:54:20 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:54:20 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:54:20 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 18:54:20 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 18:54:20 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 18:54:20 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 18:54:20 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 18:54:20 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 18:54:20 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 18:54:26 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 18:54:26 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 18:54:26 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 18:54:26 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-05 18:54:26 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Initializing Redis cache...
2026-02-05 18:54:26 - backend.src_v3.infrastructure.cache.redis_client - INFO - __init__:40 - ğŸ”§ Redis cache initialized with URL: redis://redis:6379/0
2026-02-05 18:54:26 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:45 - ğŸ”Œ Attempting to connect to Redis...
2026-02-05 18:54:26 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:59 - âœ… Redis connection established successfully
2026-02-05 18:54:26 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:63 - ğŸ“Š Redis version: 7.4.7
2026-02-05 18:54:26 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:64 - ğŸ“Š Connected clients: 1
2026-02-05 18:54:26 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:65 - ğŸ“Š Used memory: 1.09M
2026-02-05 18:54:26 - backend.src_v3.infrastructure.http.app - INFO - lifespan:61 - âœ… Redis cache initialized successfully
2026-02-05 18:54:26 - backend.src_v3.infrastructure.http.app - INFO - lifespan:68 - ğŸ“Š Redis Stats: {'connected': True, 'version': '7.4.7', 'uptime_seconds': 253, 'connected_clients': 1, 'used_memory_human': '1.09M', 'used_memory_peak_human': '1.11M', 'total_commands_processed': 55, 'instantaneous_ops_per_sec': 0, 'keyspace_hits': 1, 'keyspace_misses': 4, 'hit_rate': '20.00%'}
2026-02-05 18:54:26 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for system_stats - executing function
2026-02-05 18:54:26 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:145 - ğŸ“Š Fetching system statistics...
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM users
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00139s] ()
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00149s] ()
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM exercise_attempts_v2
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00121s] ()
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2 WHERE DATE(start_time) = CURRENT_DATE
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00268s] ()
2026-02-05 18:54:26 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:173 - âœ… Statistics retrieved: 9 users, 30 sessions
2026-02-05 18:54:26 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: cache:system_stats:9505732c81570138bbdd2cb93202d986
2026-02-05 18:54:26 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for system_stats (TTL: 30s)
2026-02-05 18:54:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 18:54:26 - backend.src_v3.infrastructure.cache.redis_client - INFO - get:120 - âœ… Cache HIT: cache:system_stats:9505732c81570138bbdd2cb93202d986
2026-02-05 18:54:26 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:109 - âœ… Cache HIT for system_stats
2026-02-05 18:55:05 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 18:55:05 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-05 18:55:07 - watchfiles.main - INFO - _log_changes:308 - 7 changes detected
2026-02-05 18:55:07 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 18:55:07 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-05 18:55:08 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-05 18:55:53 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 18:55:56 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 18:55:56 - watchfiles.main - INFO - _log_changes:308 - 17 changes detected
2026-02-05 18:55:58 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 18:55:58 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 18:55:58 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-05 18:55:59 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 18:56:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 18:56:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (id, username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), $7)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-05 18:56:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00262s] ('c1c4b10a-379c-4f03-9c17-a85b24ba574d', 'Rami25', 'ramirocarreras@gmail.com', 'Ramiro Carreras', '$2b$12$uL2NHEMlIj/NiZ3YXH8NJe8FvGXBNtg2GI2umHo2SL5//HsAl/2xO', '["student"]', True)
2026-02-05 18:56:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 18:56:14 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - redis_stats:188 - ğŸ“Š Fetching Redis statistics...
2026-02-05 18:56:14 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - redis_stats:194 - âœ… Redis stats retrieved: 28.57% hit rate
2026-02-05 18:56:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 18:56:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT 1
2026-02-05 18:56:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00134s] ()
2026-02-05 18:56:25 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 18:56:25 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - redis_stats:188 - ğŸ“Š Fetching Redis statistics...
2026-02-05 18:56:25 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - redis_stats:194 - âœ… Redis stats retrieved: 28.57% hit rate
2026-02-05 18:56:25 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for system_stats - executing function
2026-02-05 18:56:25 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:145 - ğŸ“Š Fetching system statistics...
2026-02-05 18:56:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 18:56:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM users
2026-02-05 18:56:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 127.1s ago] ()
2026-02-05 18:56:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2
2026-02-05 18:56:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 127.1s ago] ()
2026-02-05 18:56:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM exercise_attempts_v2
2026-02-05 18:56:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 127.1s ago] ()
2026-02-05 18:56:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2 WHERE DATE(start_time) = CURRENT_DATE
2026-02-05 18:56:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 127.1s ago] ()
2026-02-05 18:56:25 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:173 - âœ… Statistics retrieved: 10 users, 30 sessions
2026-02-05 18:56:25 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: cache:system_stats:9505732c81570138bbdd2cb93202d986
2026-02-05 18:56:25 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for system_stats (TTL: 30s)
2026-02-05 18:56:25 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 18:56:25 - backend.src_v3.infrastructure.cache.redis_client - INFO - get:120 - âœ… Cache HIT: cache:system_stats:9505732c81570138bbdd2cb93202d986
2026-02-05 18:56:25 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:109 - âœ… Cache HIT for system_stats
2026-02-05 18:56:48 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 18:56:48 - watchfiles.main - INFO - _log_changes:308 - 40 changes detected
2026-02-05 18:56:48 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 18:57:42 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 18:57:43 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 18:58:51 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:00:07 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:01:15 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:02:10 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:03:06 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:03:09 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:03:09 - backend.src_v3.infrastructure.http.app - INFO - lifespan:82 - Shutting down application...
2026-02-05 19:03:09 - backend.src_v3.infrastructure.http.app - INFO - lifespan:86 - Disconnecting Redis...
2026-02-05 19:03:09 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:79 - ğŸ”Œ Disconnecting from Redis...
2026-02-05 19:03:09 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:82 - âœ… Redis disconnected successfully
2026-02-05 19:03:09 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:03:09 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:03:09 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:03:09 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:03:09 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:03:09 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:03:09 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:03:09 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:03:09 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:03:09 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:03:09 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:03:09 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:03:09 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:03:09 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:03:17 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 19:03:17 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 19:03:17 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 19:03:17 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-05 19:03:17 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Initializing Redis cache...
2026-02-05 19:03:17 - backend.src_v3.infrastructure.cache.redis_client - INFO - __init__:40 - ğŸ”§ Redis cache initialized with URL: redis://redis:6379/0
2026-02-05 19:03:17 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:45 - ğŸ”Œ Attempting to connect to Redis...
2026-02-05 19:03:17 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:59 - âœ… Redis connection established successfully
2026-02-05 19:03:17 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:63 - ğŸ“Š Redis version: 7.4.7
2026-02-05 19:03:17 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:64 - ğŸ“Š Connected clients: 1
2026-02-05 19:03:17 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:65 - ğŸ“Š Used memory: 1.09M
2026-02-05 19:03:17 - backend.src_v3.infrastructure.http.app - INFO - lifespan:61 - âœ… Redis cache initialized successfully
2026-02-05 19:03:17 - backend.src_v3.infrastructure.http.app - INFO - lifespan:68 - ğŸ“Š Redis Stats: {'connected': True, 'version': '7.4.7', 'uptime_seconds': 784, 'connected_clients': 1, 'used_memory_human': '1.09M', 'used_memory_peak_human': '1.11M', 'total_commands_processed': 124, 'instantaneous_ops_per_sec': 0, 'keyspace_hits': 3, 'keyspace_misses': 6, 'hit_rate': '33.33%'}
2026-02-05 19:04:04 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:04:06 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:04:06 - backend.src_v3.infrastructure.http.app - INFO - lifespan:82 - Shutting down application...
2026-02-05 19:04:06 - backend.src_v3.infrastructure.http.app - INFO - lifespan:86 - Disconnecting Redis...
2026-02-05 19:04:06 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:79 - ğŸ”Œ Disconnecting from Redis...
2026-02-05 19:04:06 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:82 - âœ… Redis disconnected successfully
2026-02-05 19:04:07 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:04:07 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:04:07 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:04:07 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:04:07 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:04:07 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:04:07 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:04:07 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:04:07 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:04:07 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:04:07 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:04:07 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:04:07 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:04:07 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:04:14 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 19:04:14 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 19:04:14 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 19:04:14 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-05 19:04:14 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Initializing Redis cache...
2026-02-05 19:04:14 - backend.src_v3.infrastructure.cache.redis_client - INFO - __init__:40 - ğŸ”§ Redis cache initialized with URL: redis://redis:6379/0
2026-02-05 19:04:14 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:45 - ğŸ”Œ Attempting to connect to Redis...
2026-02-05 19:04:14 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:59 - âœ… Redis connection established successfully
2026-02-05 19:04:14 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:63 - ğŸ“Š Redis version: 7.4.7
2026-02-05 19:04:14 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:64 - ğŸ“Š Connected clients: 1
2026-02-05 19:04:14 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:65 - ğŸ“Š Used memory: 1.09M
2026-02-05 19:04:14 - backend.src_v3.infrastructure.http.app - INFO - lifespan:61 - âœ… Redis cache initialized successfully
2026-02-05 19:04:14 - backend.src_v3.infrastructure.http.app - INFO - lifespan:68 - ğŸ“Š Redis Stats: {'connected': True, 'version': '7.4.7', 'uptime_seconds': 841, 'connected_clients': 1, 'used_memory_human': '1.09M', 'used_memory_peak_human': '1.11M', 'total_commands_processed': 135, 'instantaneous_ops_per_sec': 0, 'keyspace_hits': 3, 'keyspace_misses': 6, 'hit_rate': '33.33%'}
2026-02-05 19:04:44 - backend.src_v3.infrastructure.http.app - INFO - lifespan:82 - Shutting down application...
2026-02-05 19:04:44 - backend.src_v3.infrastructure.http.app - INFO - lifespan:86 - Disconnecting Redis...
2026-02-05 19:04:44 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:79 - ğŸ”Œ Disconnecting from Redis...
2026-02-05 19:04:44 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:82 - âœ… Redis disconnected successfully
2026-02-05 19:04:46 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:04:46 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:04:46 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:04:46 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:04:46 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:04:46 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:04:46 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:04:46 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:04:46 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:04:46 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:04:46 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:04:46 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:04:46 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:04:46 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:06:58 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:06:58 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:06:58 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:06:58 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:06:58 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:06:58 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:06:58 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:06:58 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:06:58 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:06:58 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:06:58 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:06:58 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:06:58 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:06:58 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:07:06 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 19:07:07 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:07:07 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:07:07 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:07:07 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:07:07 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:07:07 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:07:07 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:07:07 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:07:07 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:07:07 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:07:07 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:07:07 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:07:07 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:07:07 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:07:11 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 19:07:12 - backend.src_v3.infrastructure.http.app - INFO - create_app:211 - Application created successfully
2026-02-05 19:07:12 - backend.src_v3.infrastructure.http.app - INFO - lifespan:53 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 19:07:12 - backend.src_v3.infrastructure.http.app - INFO - lifespan:54 - Initializing database connection...
2026-02-05 19:07:12 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Initializing Redis cache...
2026-02-05 19:07:12 - backend.src_v3.infrastructure.cache.redis_client - INFO - __init__:40 - ğŸ”§ Redis cache initialized with URL: redis://redis:6379/0
2026-02-05 19:07:12 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:45 - ğŸ”Œ Attempting to connect to Redis...
2026-02-05 19:07:12 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:59 - âœ… Redis connection established successfully
2026-02-05 19:07:12 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:63 - ğŸ“Š Redis version: 7.4.7
2026-02-05 19:07:12 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:64 - ğŸ“Š Connected clients: 1
2026-02-05 19:07:12 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:65 - ğŸ“Š Used memory: 1.09M
2026-02-05 19:07:12 - backend.src_v3.infrastructure.http.app - INFO - lifespan:61 - âœ… Redis cache initialized successfully
2026-02-05 19:07:12 - backend.src_v3.infrastructure.http.app - INFO - lifespan:68 - ğŸ“Š Redis Stats: {'connected': True, 'version': '7.4.7', 'uptime_seconds': 1019, 'connected_clients': 1, 'used_memory_human': '1.09M', 'used_memory_peak_human': '1.11M', 'total_commands_processed': 159, 'instantaneous_ops_per_sec': 0, 'keyspace_hits': 3, 'keyspace_misses': 6, 'hit_rate': '33.33%'}
2026-02-05 19:07:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-05 19:07:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 19:07:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-05 19:07:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 19:07:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-05 19:07:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 19:07:25 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:07:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT 1
2026-02-05 19:07:25 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00684s] ()
2026-02-05 19:07:25 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:08:31 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for system_stats - executing function
2026-02-05 19:08:31 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:145 - ğŸ“Š Fetching system statistics...
2026-02-05 19:08:31 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:08:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM users
2026-02-05 19:08:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00208s] ()
2026-02-05 19:08:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2
2026-02-05 19:08:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00170s] ()
2026-02-05 19:08:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM exercise_attempts_v2
2026-02-05 19:08:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00190s] ()
2026-02-05 19:08:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT COUNT(*) FROM sessions_v2 WHERE DATE(start_time) = CURRENT_DATE
2026-02-05 19:08:31 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00179s] ()
2026-02-05 19:08:31 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - system_stats:173 - âœ… Statistics retrieved: 10 users, 30 sessions
2026-02-05 19:08:31 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: cache:system_stats:9505732c81570138bbdd2cb93202d986
2026-02-05 19:08:31 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for system_stats (TTL: 30s)
2026-02-05 19:08:31 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:08:47 - backend.src_v3.infrastructure.cache.redis_client - INFO - get:120 - âœ… Cache HIT: cache:system_stats:9505732c81570138bbdd2cb93202d986
2026-02-05 19:08:47 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:109 - âœ… Cache HIT for system_stats
2026-02-05 19:09:02 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:09:13 - backend.src_v3.infrastructure.http.api.middleware.error_handler - WARNING - validation_exception_handler:71 - Validation error: [{'type': 'missing', 'loc': ('query', 'teacher_id'), 'msg': 'Field required', 'input': None}]
2026-02-05 19:09:20 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for teacher_courses - executing function
2026-02-05 19:09:20 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:09:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT
                c.course_id,
                c.subject_code,
                c.year,
                c.semester
            FROM courses c
            JOIN enrollments e ON c.course_id = e.course_id
            WHERE e.user_id = $1
              AND e.role = 'TEACHER'
              AND e.status = 'ACTIVE'
            ORDER BY c.year DESC, c.semester DESC, c.subject_code ASC
        
2026-02-05 19:09:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00141s] ('dc105a66-edf9-4b64-a006-e1f5fd31f4ed',)
2026-02-05 19:09:20 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: cache:teacher_courses:8c088fcd7b3583e0677ae2247a623e8b
2026-02-05 19:09:20 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for teacher_courses (TTL: 120s)
2026-02-05 19:09:20 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:09:32 - backend.src_v3.infrastructure.cache.redis_client - INFO - get:120 - âœ… Cache HIT: cache:teacher_courses:8c088fcd7b3583e0677ae2247a623e8b
2026-02-05 19:09:32 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:109 - âœ… Cache HIT for teacher_courses
2026-02-05 19:09:41 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - redis_stats:188 - ğŸ“Š Fetching Redis statistics...
2026-02-05 19:09:41 - backend.src_v3.infrastructure.http.api.v3.routers.system_router - INFO - redis_stats:194 - âœ… Redis stats retrieved: 38.46% hit rate
2026-02-05 19:09:59 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:10:54 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:10:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (id, username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), $7)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-05 19:10:54 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00152s] ('74c0af0a-0c8f-44d8-b04a-2f7c3b813220', 'Lauti', 'lautaro@gmail.com', 'Lautaro Garcia', '$2b$12$7SBjDI5ZmNMbwtRbyHF5WOn1CyUxg2MCOSRMAspX0735CktZrX0ES', '["student"]', True)
2026-02-05 19:10:54 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:10:57 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:10:59 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:11:56 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:12:00 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:12:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:12:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (id, username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), $7)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-05 19:12:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 84.36s ago] ('2a94553c-925b-470b-92a8-a18e77604029', 'dasda', 'oijasdjioasdj@gmail.com', 'asas', '$2b$12$Gq.Fp28yj5GGyaIwv2i5OedHnu1OFhXBUR823shw.w0fOJMdUFiT.', '["student"]', True)
2026-02-05 19:12:13 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:12:51 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:12:57 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:13:52 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:13:55 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:13:56 - watchfiles.main - INFO - _log_changes:308 - 14 changes detected
2026-02-05 19:13:57 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:13:58 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-05 19:13:58 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-05 19:13:59 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:14:03 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:14:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (id, username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), $7)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-05 19:14:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 201.4s ago] ('1220eb9b-1bf0-471a-abaa-acd3cb8e79c5', 'Pedrito', 'pedro@gmail.com', 'Pedro Avlavrez', '$2b$12$78pjn61FghnV9.90EmWiJuF9DWF.1w1Avxy2ms2nBAV2GANeAIMGq', '["student"]', True)
2026-02-05 19:14:03 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:14:51 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:14:54 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:14:55 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-05 19:14:57 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:14:57 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:14:57 - watchfiles.main - INFO - _log_changes:308 - 7 changes detected
2026-02-05 19:14:58 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:15:13 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:15:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (id, username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), $7)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-05 19:15:13 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 276.4s ago] ('a3f7b804-21b8-4fff-8ffe-324fee94f3f1', 'Docente', 'docente@gmail.com', 'Docente', '$2b$12$ir7q57SwOmtLTDX9ocwe1OkEee8fjEtPzzNjN4hW/FVRVZ4wZSYFC', '["teacher"]', True)
2026-02-05 19:15:13 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:15:33 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:15:33 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (id, username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), $7)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-05 19:15:33 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 296.3s ago] ('ed30bf1b-6aa7-4809-9431-09b1ccb299ef', 'Juani', 'jisosarmientohermisito@gmail.com', 'Juan Ignacio', '$2b$12$Ppri.ZHuyFyTyC0aNRTtI.i5fdUdePcCwB.vk7eJS5X9V8ziN7Ag6', '["teacher"]', True)
2026-02-05 19:15:33 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:15:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:15:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (id, username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), $7)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-05 19:15:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 309.2s ago] ('f7849a31-6f53-4a7c-b677-f35b84916659', 'Juani', 'juani@gmail.com', 'Juan Ignacio', '$2b$12$cjw2izQq72RFkdSQbKGet.uOKq3UL1AC5FJSrAOL/kYP.HvMxvNNG', '["teacher"]', True)
2026-02-05 19:15:44 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:15:51 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:15:54 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:15:54 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-05 19:15:56 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:16:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:16:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (id, username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), $7)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-05 19:16:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 332.3s ago] ('7f63fcb3-8608-45d1-908d-50853d10f5a9', 'Juani', 'jj@gmail.com', 'Juani Sarmiento', '$2b$12$Mraz2AFZ3.QYx9TVgLQtK.BV/rDC36VyHNAdkoa4KyMb93BPVcKyW', '["teacher"]', True)
2026-02-05 19:16:07 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:16:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:16:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (id, username, email, full_name, hashed_password, roles, is_active)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), $7)
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-05 19:16:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 363.2s ago] ('11cdbb9d-c9a8-4b14-a7a7-f056b40ab34f', 'Carlitos', 'carlos@gmail.com', 'Carll', '$2b$12$n7VNLIOow6u8VEaEEm4aQ.wLcDxgo8GKtPuF9bS1GQLsVA8gRur36', '["teacher"]', True)
2026-02-05 19:16:36 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:16:46 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:16:50 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:17:42 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:18:42 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:19:45 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:19:47 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-05 19:19:47 - backend.src_v3.infrastructure.http.app - INFO - lifespan:82 - Shutting down application...
2026-02-05 19:19:47 - backend.src_v3.infrastructure.http.app - INFO - lifespan:86 - Disconnecting Redis...
2026-02-05 19:19:47 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:79 - ğŸ”Œ Disconnecting from Redis...
2026-02-05 19:19:47 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:82 - âœ… Redis disconnected successfully
2026-02-05 19:19:48 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:19:48 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:19:48 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:19:48 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:19:48 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:19:48 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:19:48 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:19:48 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:19:48 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:19:48 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:19:48 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:19:48 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:19:48 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:19:48 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:19:50 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:19:50 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:74 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:19:54 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:19:53 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:19:53 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:74 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:19:53 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:19:53 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 19:19:53 - backend.src_v3.infrastructure.http.app - INFO - lifespan:58 - Initializing database connection...
2026-02-05 19:19:53 - backend.src_v3.infrastructure.http.app - INFO - lifespan:61 - Initializing Redis cache...
2026-02-05 19:19:53 - backend.src_v3.infrastructure.cache.redis_client - INFO - __init__:40 - ğŸ”§ Redis cache initialized with URL: redis://redis:6379/0
2026-02-05 19:19:53 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:45 - ğŸ”Œ Attempting to connect to Redis...
2026-02-05 19:19:53 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:59 - âœ… Redis connection established successfully
2026-02-05 19:19:53 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:63 - ğŸ“Š Redis version: 7.4.7
2026-02-05 19:19:53 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:64 - ğŸ“Š Connected clients: 1
2026-02-05 19:19:53 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:65 - ğŸ“Š Used memory: 1.09M
2026-02-05 19:19:53 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - âœ… Redis cache initialized successfully
2026-02-05 19:19:53 - backend.src_v3.infrastructure.http.app - INFO - lifespan:72 - ğŸ“Š Redis Stats: {'connected': True, 'version': '7.4.7', 'uptime_seconds': 1780, 'connected_clients': 1, 'used_memory_human': '1.09M', 'used_memory_peak_human': '1.11M', 'total_commands_processed': 253, 'instantaneous_ops_per_sec': 0, 'keyspace_hits': 5, 'keyspace_misses': 8, 'hit_rate': '38.46%'}
2026-02-05 19:20:40 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:20:42 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:20:42 - backend.src_v3.infrastructure.http.app - INFO - lifespan:86 - Shutting down application...
2026-02-05 19:20:42 - backend.src_v3.infrastructure.http.app - INFO - lifespan:90 - Disconnecting Redis...
2026-02-05 19:20:42 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:79 - ğŸ”Œ Disconnecting from Redis...
2026-02-05 19:20:42 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:82 - âœ… Redis disconnected successfully
2026-02-05 19:20:43 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:20:43 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:20:43 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:20:43 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:20:43 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:20:43 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:20:43 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:20:43 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:20:43 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:20:43 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:20:43 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:20:43 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:20:43 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:20:43 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:20:43 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:20:43 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-05 19:20:45 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:20:45 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:74 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:20:45 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:20:46 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:20:50 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:20:50 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:20:50 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:74 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:20:50 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:20:50 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 19:20:50 - backend.src_v3.infrastructure.http.app - INFO - lifespan:58 - Initializing database connection...
2026-02-05 19:20:50 - backend.src_v3.infrastructure.http.app - INFO - lifespan:61 - Initializing Redis cache...
2026-02-05 19:20:50 - backend.src_v3.infrastructure.cache.redis_client - INFO - __init__:40 - ğŸ”§ Redis cache initialized with URL: redis://redis:6379/0
2026-02-05 19:20:50 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:45 - ğŸ”Œ Attempting to connect to Redis...
2026-02-05 19:20:50 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:59 - âœ… Redis connection established successfully
2026-02-05 19:20:50 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:63 - ğŸ“Š Redis version: 7.4.7
2026-02-05 19:20:50 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:64 - ğŸ“Š Connected clients: 1
2026-02-05 19:20:50 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:65 - ğŸ“Š Used memory: 1.09M
2026-02-05 19:20:50 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - âœ… Redis cache initialized successfully
2026-02-05 19:20:50 - backend.src_v3.infrastructure.http.app - INFO - lifespan:72 - ğŸ“Š Redis Stats: {'connected': True, 'version': '7.4.7', 'uptime_seconds': 1837, 'connected_clients': 1, 'used_memory_human': '1.09M', 'used_memory_peak_human': '1.11M', 'total_commands_processed': 263, 'instantaneous_ops_per_sec': 0, 'keyspace_hits': 5, 'keyspace_misses': 8, 'hit_rate': '38.46%'}
2026-02-05 19:21:42 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:21:43 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:21:45 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:21:45 - watchfiles.main - INFO - _log_changes:308 - 12 changes detected
2026-02-05 19:21:47 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:21:46 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-05 19:21:46 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-05 19:22:28 - backend.src_v3.infrastructure.http.app - INFO - lifespan:86 - Shutting down application...
2026-02-05 19:22:28 - backend.src_v3.infrastructure.http.app - INFO - lifespan:90 - Disconnecting Redis...
2026-02-05 19:22:28 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:79 - ğŸ”Œ Disconnecting from Redis...
2026-02-05 19:22:28 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:82 - âœ… Redis disconnected successfully
2026-02-05 19:22:29 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:22:29 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:22:29 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:22:29 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:22:29 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:22:29 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:22:29 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:22:29 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:22:29 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:22:29 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:22:29 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:22:29 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:22:29 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:22:29 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:22:32 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:22:32 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:74 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:22:38 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:22:38 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:22:38 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:22:38 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:22:38 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:22:38 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:22:38 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:22:38 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:22:38 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:22:38 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:22:38 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:22:38 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:22:38 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:22:38 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:22:38 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:22:41 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:22:41 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:74 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:22:44 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:22:44 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:22:44 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:74 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:22:44 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:22:44 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 19:22:44 - backend.src_v3.infrastructure.http.app - INFO - lifespan:58 - Initializing database connection...
2026-02-05 19:22:44 - backend.src_v3.infrastructure.http.app - INFO - lifespan:61 - Initializing Redis cache...
2026-02-05 19:22:44 - backend.src_v3.infrastructure.cache.redis_client - INFO - __init__:40 - ğŸ”§ Redis cache initialized with URL: redis://redis:6379/0
2026-02-05 19:22:44 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:45 - ğŸ”Œ Attempting to connect to Redis...
2026-02-05 19:22:44 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:59 - âœ… Redis connection established successfully
2026-02-05 19:22:44 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:63 - ğŸ“Š Redis version: 7.4.7
2026-02-05 19:22:44 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:64 - ğŸ“Š Connected clients: 1
2026-02-05 19:22:44 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:65 - ğŸ“Š Used memory: 1.09M
2026-02-05 19:22:44 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - âœ… Redis cache initialized successfully
2026-02-05 19:22:44 - backend.src_v3.infrastructure.http.app - INFO - lifespan:72 - ğŸ“Š Redis Stats: {'connected': True, 'version': '7.4.7', 'uptime_seconds': 1951, 'connected_clients': 1, 'used_memory_human': '1.09M', 'used_memory_peak_human': '1.11M', 'total_commands_processed': 281, 'instantaneous_ops_per_sec': 3, 'keyspace_hits': 5, 'keyspace_misses': 8, 'hit_rate': '38.46%'}
2026-02-05 19:23:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-05 19:23:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 19:23:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-05 19:23:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 19:23:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-05 19:23:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 19:23:12 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:23:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT 1
2026-02-05 19:23:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00181s] ()
2026-02-05 19:23:12 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:23:37 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:23:37 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:23:37 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:23:37 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:23:37 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:23:37 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:23:37 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:23:38 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:23:38 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:23:38 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:23:38 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:23:38 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:23:38 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:23:38 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:23:39 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:23:39 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:75 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:23:44 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:23:44 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:23:44 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:23:44 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:23:44 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:23:44 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:23:44 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:23:44 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:23:44 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:23:44 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:23:44 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:23:44 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:23:44 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:23:44 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:23:44 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:23:47 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:23:47 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:75 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:23:52 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:23:52 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:23:52 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:75 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:23:52 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:23:52 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 19:23:52 - backend.src_v3.infrastructure.http.app - INFO - lifespan:58 - Initializing database connection...
2026-02-05 19:23:52 - backend.src_v3.infrastructure.http.app - INFO - lifespan:61 - Initializing Redis cache...
2026-02-05 19:23:52 - backend.src_v3.infrastructure.cache.redis_client - INFO - __init__:40 - ğŸ”§ Redis cache initialized with URL: redis://redis:6379/0
2026-02-05 19:23:52 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:45 - ğŸ”Œ Attempting to connect to Redis...
2026-02-05 19:23:52 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:59 - âœ… Redis connection established successfully
2026-02-05 19:23:52 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:63 - ğŸ“Š Redis version: 7.4.7
2026-02-05 19:23:52 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:64 - ğŸ“Š Connected clients: 1
2026-02-05 19:23:52 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:65 - ğŸ“Š Used memory: 1.09M
2026-02-05 19:23:52 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - âœ… Redis cache initialized successfully
2026-02-05 19:23:52 - backend.src_v3.infrastructure.http.app - INFO - lifespan:72 - ğŸ“Š Redis Stats: {'connected': True, 'version': '7.4.7', 'uptime_seconds': 2019, 'connected_clients': 1, 'used_memory_human': '1.09M', 'used_memory_peak_human': '1.11M', 'total_commands_processed': 294, 'instantaneous_ops_per_sec': 0, 'keyspace_hits': 5, 'keyspace_misses': 8, 'hit_rate': '38.46%'}
2026-02-05 19:24:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-05 19:24:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 19:24:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-05 19:24:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 19:24:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-05 19:24:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 19:24:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:24:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT 1
2026-02-05 19:24:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00139s] ()
2026-02-05 19:24:36 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:25:32 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-05 19:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00244s] ('testuser123@example.com',)
2026-02-05 19:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT id FROM users WHERE username = $1
2026-02-05 19:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00179s] ('testuser123',)
2026-02-05 19:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (id, username, email, full_name, hashed_password, roles, is_active, created_at, updated_at)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), $7, NOW(), NOW())
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-05 19:25:32 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00256s] ('991b058f-a810-4514-a71d-96419743a6a3', 'testuser123', 'testuser123@example.com', 'Test User', '$2b$12$gklFwFr3hZgZ7koLlvVk..LVvByis5RyyqELqw/iPCNXtnWbx/oPy', '["student"]', True)
2026-02-05 19:25:32 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:25:32 - backend.src_v3.infrastructure.persistence.repositories.user_repository - INFO - create_user:155 - User created successfully: testuser123 (ID: 991b058f-a810-4514-a71d-96419743a6a3)
2026-02-05 19:25:32 - backend.src_v3.infrastructure.http.api.v3.routers.auth_router - INFO - register:271 - User registered successfully: testuser123 (testuser123@example.com)
2026-02-05 19:25:38 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:25:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-05 19:25:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.236s ago] ('test456@example.com',)
2026-02-05 19:25:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT id FROM users WHERE username = $1
2026-02-05 19:25:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.231s ago] ('testuser456',)
2026-02-05 19:25:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO users (id, username, email, full_name, hashed_password, roles, is_active, created_at, updated_at)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), $7, NOW(), NOW())
            RETURNING id, username, email, full_name, roles, hashed_password, is_active
            
2026-02-05 19:25:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.23s ago] ('3cad85fc-5fb7-4235-88e7-99c2473c5f4c', 'testuser456', 'test456@example.com', 'Test User 456', '$2b$12$zfQ0XzFp7RBgyki98WHM4e.hpbpoKqWEdAdaKBIh7IIT9/2JiUYWe', '["student"]', True)
2026-02-05 19:25:38 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:25:38 - backend.src_v3.infrastructure.persistence.repositories.user_repository - INFO - create_user:155 - User created successfully: testuser456 (ID: 3cad85fc-5fb7-4235-88e7-99c2473c5f4c)
2026-02-05 19:25:38 - backend.src_v3.infrastructure.http.api.v3.routers.auth_router - INFO - register:271 - User registered successfully: testuser456 (test456@example.com)
2026-02-05 19:25:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:25:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-05 19:25:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 15.01s ago] ('test789@example.com',)
2026-02-05 19:25:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT id FROM users WHERE username = $1
2026-02-05 19:25:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 15s ago] ('testuser456',)
2026-02-05 19:25:45 - backend.src_v3.infrastructure.persistence.repositories.user_repository - WARNING - create_user:129 - Attempt to create user with existing username: testuser456
2026-02-05 19:25:45 - backend.src_v3.infrastructure.http.api.v3.routers.auth_router - WARNING - register:294 - Registration validation error: Username already exists
2026-02-05 19:25:45 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:25:52 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:25:53 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:26:12 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:26:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-05 19:26:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 43.74s ago] ('juanisarmientoomartinez@gmail.com',)
2026-02-05 19:26:12 - backend.src_v3.infrastructure.persistence.repositories.user_repository - WARNING - create_user:120 - Attempt to create user with existing email: juanisarmientoomartinez@gmail.com
2026-02-05 19:26:12 - backend.src_v3.infrastructure.http.api.v3.routers.auth_router - WARNING - register:294 - Registration validation error: Email already registered
2026-02-05 19:26:12 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:26:44 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:26:47 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:26:47 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-05 19:26:49 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:26:50 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:27:47 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:28:40 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:29:42 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:29:42 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:29:42 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:29:44 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:30:41 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:30:42 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:31:43 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:32:56 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:34:20 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:35:31 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:35:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:35:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-05 19:35:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 667.4s ago] ('docente@ainative.edu',)
2026-02-05 19:35:57 - backend.src_v3.infrastructure.http.api.v3.routers.auth_router - INFO - login:155 - Successful login for user: docente@ainative.edu
2026-02-05 19:35:57 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:35:58 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for teacher_modules - executing function
2026-02-05 19:35:58 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:35:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-05 19:35:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00472s] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-05 19:35:58 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: cache:teacher_modules:4d7d8be188160bb75e8ee994f0e39637
2026-02-05 19:35:58 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for teacher_modules (TTL: 90s)
2026-02-05 19:35:58 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:36:00 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for teacher_students - executing function
2026-02-05 19:36:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:36:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                u.id as user_id,
                u.username,
                u.email,
                u.full_name
            FROM users u
            WHERE u.roles::jsonb ? 'student'
              AND u.is_active = true
            ORDER BY u.full_name ASC, u.username ASC
        
2026-02-05 19:36:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00180s] ()
2026-02-05 19:36:00 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: cache:teacher_students:72e75ce412d3f5d58f9e140dc87db7b5
2026-02-05 19:36:00 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for teacher_students (TTL: 60s)
2026-02-05 19:36:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:36:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:36:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-05 19:36:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00346s] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e', 'ACTIVE')
2026-02-05 19:36:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:36:07 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:36:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-05 19:36:07 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06628s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e', 'ACTIVE')
2026-02-05 19:36:07 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:36:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:36:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-05 19:36:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00162s] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:36:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2588 - ğŸ“Š Module 150ff713-e5fd-4ae2-bfe0-23ae281c123e - Found 1 activities
2026-02-05 19:36:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2605 - ğŸ“Š Returning 1 activities
2026-02-05 19:36:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:36:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:36:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-05 19:36:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03922s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:36:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2588 - ğŸ“Š Module 150ff713-e5fd-4ae2-bfe0-23ae281c123e - Found 1 activities
2026-02-05 19:36:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2605 - ğŸ“Š Returning 1 activities
2026-02-05 19:36:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:36:28 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:36:31 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:36:32 - watchfiles.main - INFO - _log_changes:308 - 20 changes detected
2026-02-05 19:36:34 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:36:34 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:36:34 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-05 19:36:35 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-05 19:37:36 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:37:44 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:38:37 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:38:39 - watchfiles.main - INFO - _log_changes:308 - 67 changes detected
2026-02-05 19:38:39 - watchfiles.main - INFO - _log_changes:308 - 77 changes detected
2026-02-05 19:40:09 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:41:34 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:42:54 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:44:20 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:46:01 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:46:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-05 19:46:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 652.8s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e', 'ACTIVE')
2026-02-05 19:46:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:46:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-05 19:46:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 652.8s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e', 'ACTIVE')
2026-02-05 19:46:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:46:20 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                u.id as user_id,
                u.full_name,
                u.email,
                u.username
            FROM users u
            WHERE u.roles @> '["student"]'::jsonb
              AND u.id NOT IN (
                  SELECT e.user_id 
                  FROM enrollments e 
                  WHERE e.module_id = $1
              )
            ORDER BY u.full_name, u.email
        
2026-02-05 19:46:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00472s] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:46:20 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:46:24 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                u.id as user_id,
                u.full_name,
                u.email,
                u.username
            FROM users u
            WHERE u.roles @> '["student"]'::jsonb
              AND u.id NOT IN (
                  SELECT e.user_id 
                  FROM enrollments e 
                  WHERE e.module_id = $1
              )
            ORDER BY u.full_name, u.email
        
2026-02-05 19:46:24 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 4.155s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:46:24 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:46:27 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.course_id = $2::VARCHAR AND enrollments.module_id = $3::VARCHAR
2026-02-05 19:46:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.01841s] ('69a7bd64-8b2f-4aa2-a2fe-cfa02cca008a', 'a8133b07-5483-4fe7-8582-0916d81a37f2', '150ff713-e5fd-4ae2-bfe0-23ae281c123e')
2026-02-05 19:46:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO enrollments (enrollment_id, user_id, course_id, module_id, role, status, completed_at, dropped_at, metadata_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::enrollment_role, $6::enrollment_status_new, $7::TIMESTAMP WITH TIME ZONE, $8::TIMESTAMP WITH TIME ZONE, $9::JSONB) RETURNING enrollments.enrolled_at, enrollments.created_at, enrollments.updated_at
2026-02-05 19:46:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.01257s] ('c3342d53-6ecd-46d5-aff1-58348a429465', '69a7bd64-8b2f-4aa2-a2fe-cfa02cca008a', 'a8133b07-5483-4fe7-8582-0916d81a37f2', '150ff713-e5fd-4ae2-bfe0-23ae281c123e', 'STUDENT', 'ACTIVE', None, None, '{}')
2026-02-05 19:46:27 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:46:27 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.enrollment_id = $1::VARCHAR
2026-02-05 19:46:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.01992s] ('c3342d53-6ecd-46d5-aff1-58348a429465',)
2026-02-05 19:46:27 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - create_enrollment:2397 - Enrolled user 69a7bd64-8b2f-4aa2-a2fe-cfa02cca008a in course a8133b07-5483-4fe7-8582-0916d81a37f2 as EnrollmentRoleEnum.STUDENT
2026-02-05 19:46:27 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:46:27 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-05 19:46:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 661s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e', 'ACTIVE')
2026-02-05 19:46:27 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:46:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-05 19:46:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 661s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:46:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2588 - ğŸ“Š Module 150ff713-e5fd-4ae2-bfe0-23ae281c123e - Found 1 activities
2026-02-05 19:46:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2605 - ğŸ“Š Returning 1 activities
2026-02-05 19:46:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:46:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-05 19:46:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 661s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:46:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2588 - ğŸ“Š Module 150ff713-e5fd-4ae2-bfe0-23ae281c123e - Found 1 activities
2026-02-05 19:46:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2605 - ğŸ“Š Returning 1 activities
2026-02-05 19:46:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00458s] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:46:36 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for teacher_activity_detail - executing function
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT ON (sv.user_id)
                sv.session_id, sv.user_id, sv.activity_id, sv.status, sv.session_metrics, sv.start_time,
                u.id, u.full_name, u.username, u.email
            FROM sessions_v2 sv
            LEFT JOIN users u ON sv.user_id = u.id
            WHERE sv.activity_id = $1
            ORDER BY sv.user_id, sv.start_time DESC
        
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00624s] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00328s] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00298s] ('1e6b2b7c-b243-431d-a2c8-21f952ac21cb', '823f91a0-df3c-4fe0-8adb-c627e905af88')
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00188s] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00380s] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:46:36 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:331 - Student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6 - Found 0 exercises, 0 graded, total: 0
2026-02-05 19:46:36 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:337 - Grade from session_metrics: None
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-05 19:46:36 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00386s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '823f91a0-df3c-4fe0-8adb-c627e905af88')
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00263s] ('1e6b2b7c-b243-431d-a2c8-21f952ac21cb',)
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03735s ago] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:46:37 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:556 - Retrieved 1 total analytics (sessions + submissions) for activity 823f91a0-df3c-4fe0-8adb-c627e905af88
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:46:37 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: cache:teacher_activity_detail:1383015c9bbb6139f1668fd7f356b2d9
2026-02-05 19:46:37 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for teacher_activity_detail (TTL: 60s)
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00309s] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1535s ago] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:46:37 - backend.src_v3.infrastructure.cache.redis_client - INFO - get:120 - âœ… Cache HIT: cache:teacher_activity_detail:1383015c9bbb6139f1668fd7f356b2d9
2026-02-05 19:46:37 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:109 - âœ… Cache HIT for teacher_activity_detail
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1117s ago] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT ON (sv.user_id)
                sv.session_id, sv.user_id, sv.activity_id, sv.status, sv.session_metrics, sv.start_time,
                u.id, u.full_name, u.username, u.email
            FROM sessions_v2 sv
            LEFT JOIN users u ON sv.user_id = u.id
            WHERE sv.activity_id = $1
            ORDER BY sv.user_id, sv.start_time DESC
        
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2906s ago] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:46:37 - backend.src_v3.infrastructure.cache.redis_client - INFO - get:120 - âœ… Cache HIT: cache:teacher_activity_detail:1383015c9bbb6139f1668fd7f356b2d9
2026-02-05 19:46:37 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:109 - âœ… Cache HIT for teacher_activity_detail
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.2889s ago] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.3328s ago] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5123s ago] ('1e6b2b7c-b243-431d-a2c8-21f952ac21cb', '823f91a0-df3c-4fe0-8adb-c627e905af88')
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.4389s ago] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:46:37 - backend.src_v3.infrastructure.cache.redis_client - INFO - get:120 - âœ… Cache HIT: cache:teacher_activity_detail:1383015c9bbb6139f1668fd7f356b2d9
2026-02-05 19:46:37 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:109 - âœ… Cache HIT for teacher_activity_detail
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:46:37 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:331 - Student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6 - Found 0 exercises, 0 graded, total: 0
2026-02-05 19:46:37 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:337 - Grade from session_metrics: None
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5237s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '823f91a0-df3c-4fe0-8adb-c627e905af88')
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.6916s ago] ('1e6b2b7c-b243-431d-a2c8-21f952ac21cb',)
2026-02-05 19:46:37 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:556 - Retrieved 1 total analytics (sessions + submissions) for activity 823f91a0-df3c-4fe0-8adb-c627e905af88
2026-02-05 19:46:37 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:46:39 - backend.src_v3.infrastructure.cache.redis_client - INFO - get:120 - âœ… Cache HIT: cache:teacher_activity_detail:1383015c9bbb6139f1668fd7f356b2d9
2026-02-05 19:46:39 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:109 - âœ… Cache HIT for teacher_activity_detail
2026-02-05 19:46:39 - backend.src_v3.infrastructure.cache.redis_client - INFO - get:120 - âœ… Cache HIT: cache:teacher_activity_detail:1383015c9bbb6139f1668fd7f356b2d9
2026-02-05 19:46:39 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:109 - âœ… Cache HIT for teacher_activity_detail
2026-02-05 19:47:09 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:47:13 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:47:14 - watchfiles.main - INFO - _log_changes:308 - 12 changes detected
2026-02-05 19:47:16 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:47:16 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-05 19:47:17 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-05 19:47:17 - watchfiles.main - INFO - _log_changes:308 - 11 changes detected
2026-02-05 19:47:18 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:48:13 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:49:15 - backend.src_v3.infrastructure.http.app - INFO - lifespan:86 - Shutting down application...
2026-02-05 19:49:15 - backend.src_v3.infrastructure.http.app - INFO - lifespan:90 - Disconnecting Redis...
2026-02-05 19:49:15 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:79 - ğŸ”Œ Disconnecting from Redis...
2026-02-05 19:49:15 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:82 - âœ… Redis disconnected successfully
2026-02-05 19:49:16 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:49:16 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:49:16 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:49:16 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:49:16 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:49:16 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:49:16 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:49:16 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:49:16 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:49:16 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:49:16 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:49:16 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:49:16 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:49:16 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:49:20 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:49:20 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:75 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:49:25 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:49:25 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:49:25 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:49:25 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:49:25 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:49:25 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:49:25 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:49:25 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:49:25 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:49:25 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:49:25 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:49:25 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:49:25 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:49:25 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:49:25 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:49:28 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:49:28 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:75 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:49:33 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:49:33 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:49:33 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:75 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:49:34 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:49:34 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 19:49:34 - backend.src_v3.infrastructure.http.app - INFO - lifespan:58 - Initializing database connection...
2026-02-05 19:49:34 - backend.src_v3.infrastructure.http.app - INFO - lifespan:61 - Initializing Redis cache...
2026-02-05 19:49:34 - backend.src_v3.infrastructure.cache.redis_client - INFO - __init__:40 - ğŸ”§ Redis cache initialized with URL: redis://redis:6379/0
2026-02-05 19:49:34 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:45 - ğŸ”Œ Attempting to connect to Redis...
2026-02-05 19:49:34 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:59 - âœ… Redis connection established successfully
2026-02-05 19:49:34 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:63 - ğŸ“Š Redis version: 7.4.7
2026-02-05 19:49:34 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:64 - ğŸ“Š Connected clients: 1
2026-02-05 19:49:34 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:65 - ğŸ“Š Used memory: 1.11M
2026-02-05 19:49:34 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - âœ… Redis cache initialized successfully
2026-02-05 19:49:34 - backend.src_v3.infrastructure.http.app - INFO - lifespan:72 - ğŸ“Š Redis Stats: {'connected': True, 'version': '7.4.7', 'uptime_seconds': 3561, 'connected_clients': 1, 'used_memory_human': '1.11M', 'used_memory_peak_human': '1.11M', 'total_commands_processed': 475, 'instantaneous_ops_per_sec': 3, 'keyspace_hits': 10, 'keyspace_misses': 11, 'hit_rate': '47.62%'}
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00245s] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01306s ago] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00323s] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00273s] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05697s ago] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT ON (sv.user_id)
                sv.session_id, sv.user_id, sv.activity_id, sv.status, sv.session_metrics, sv.start_time,
                u.id, u.full_name, u.username, u.email
            FROM sessions_v2 sv
            LEFT JOIN users u ON sv.user_id = u.id
            WHERE sv.activity_id = $1
            ORDER BY sv.user_id, sv.start_time DESC
        
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00383s] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00505s] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00542s] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00380s] ('1e6b2b7c-b243-431d-a2c8-21f952ac21cb', '823f91a0-df3c-4fe0-8adb-c627e905af88')
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:49:44 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:331 - Student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6 - Found 0 exercises, 0 graded, total: 0
2026-02-05 19:49:44 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:337 - Grade from session_metrics: None
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00276s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '823f91a0-df3c-4fe0-8adb-c627e905af88')
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00216s] ('1e6b2b7c-b243-431d-a2c8-21f952ac21cb',)
2026-02-05 19:49:44 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:556 - Retrieved 1 total analytics (sessions + submissions) for activity 823f91a0-df3c-4fe0-8adb-c627e905af88
2026-02-05 19:49:44 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00183s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00292s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '823f91a0-df3c-4fe0-8adb-c627e905af88')
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00162s] ('1e6b2b7c-b243-431d-a2c8-21f952ac21cb',)
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00132s] ('1e6b2b7c-b243-431d-a2c8-21f952ac21cb', '823f91a0-df3c-4fe0-8adb-c627e905af88')
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, ai_feedback, status
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY submitted_at DESC LIMIT 1
            
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00282s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '823f91a0-df3c-4fe0-8adb-c627e905af88')
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, test_results
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY created_at DESC LIMIT 1
            
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00138s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '823f91a0-df3c-4fe0-8adb-c627e905af88')
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 6.606s ago] ('1e6b2b7c-b243-431d-a2c8-21f952ac21cb',)
2026-02-05 19:49:51 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:49:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:49:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT 1
2026-02-05 19:49:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00124s] ()
2026-02-05 19:49:52 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:49:55 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for teacher_modules - executing function
2026-02-05 19:49:55 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:49:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-05 19:49:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00408s] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-05 19:49:55 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: cache:teacher_modules:4d7d8be188160bb75e8ee994f0e39637
2026-02-05 19:49:55 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for teacher_modules (TTL: 90s)
2026-02-05 19:49:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:49:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-05 19:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00453s] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e', 'ACTIVE')
2026-02-05 19:49:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:49:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-05 19:49:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05142s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e', 'ACTIVE')
2026-02-05 19:49:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:49:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:49:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-05 19:49:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00208s] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:49:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2591 - ğŸ“Š Module 150ff713-e5fd-4ae2-bfe0-23ae281c123e - Found 1 activities
2026-02-05 19:49:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2608 - ğŸ“Š Returning 1 activities
2026-02-05 19:49:57 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:49:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:49:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-05 19:49:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03543s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:49:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2591 - ğŸ“Š Module 150ff713-e5fd-4ae2-bfe0-23ae281c123e - Found 1 activities
2026-02-05 19:49:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2608 - ğŸ“Š Returning 1 activities
2026-02-05 19:49:57 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:50:19 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:19 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:683 - ğŸš€ Starting graph execution for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:610 - ğŸ¯ Executing graph for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:611 - ğŸ¯ Initial state phase: ingestion
2026-02-05 19:50:19 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:308 - Starting PDF ingestion for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:19 - backend.src_v3.infrastructure.ai.rag.document_processor - INFO - process_pdf:88 - Processed PDF 'e4409bc7-fc29-4da3-948f-e4363714a94c_Bucles en Python_ RepeticiÃ³n y Control de Flujo.pdf': 7 pages, 10 chunks
2026-02-05 19:50:19 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:20 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:50:20 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-05 19:50:21 - watchfiles.main - INFO - _log_changes:308 - 12 changes detected
2026-02-05 19:50:21 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:21 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion
2026-02-05 19:50:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:19.077136'}
2026-02-05 19:50:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion, draft_ready: False, published: False
2026-02-05 19:50:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:22 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:50:22 - watchfiles.main - INFO - _log_changes:308 - 10 changes detected
2026-02-05 19:50:23 - watchfiles.main - INFO - _log_changes:308 - 12 changes detected
2026-02-05 19:50:23 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:23 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion
2026-02-05 19:50:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:19.077136'}
2026-02-05 19:50:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion, draft_ready: False, published: False
2026-02-05 19:50:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:25 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:25 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion
2026-02-05 19:50:25 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:19.077136'}
2026-02-05 19:50:25 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion, draft_ready: False, published: False
2026-02-05 19:50:25 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:26 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:26 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:26 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion
2026-02-05 19:50:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:19.077136'}
2026-02-05 19:50:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion, draft_ready: False, published: False
2026-02-05 19:50:26 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:28 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:28 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:28 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion
2026-02-05 19:50:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:19.077136'}
2026-02-05 19:50:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion, draft_ready: False, published: False
2026-02-05 19:50:28 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:30 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:30 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:30 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion
2026-02-05 19:50:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:19.077136'}
2026-02-05 19:50:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion, draft_ready: False, published: False
2026-02-05 19:50:30 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:32 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:32 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion
2026-02-05 19:50:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:19.077136'}
2026-02-05 19:50:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion, draft_ready: False, published: False
2026-02-05 19:50:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:37 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:37 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:37 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion
2026-02-05 19:50:38 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:19.077136'}
2026-02-05 19:50:38 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion, draft_ready: False, published: False
2026-02-05 19:50:38 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:40 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:40 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:40 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:40 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:41 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion
2026-02-05 19:50:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:19.077136'}
2026-02-05 19:50:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion, draft_ready: False, published: False
2026-02-05 19:50:41 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:42 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:42 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - add_documents:90 - Added 10 documents to collection 'job_e4409bc7-fc29-4da3-948f-e4363714a94c_docs'
2026-02-05 19:50:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _ingest_pdf_node:333 - PDF ingestion complete for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:571 - ğŸ”€ Routing after ingestion: current_phase=ingestion_complete
2026-02-05 19:50:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_ingestion:577 - ğŸ”€ â†’ Going to generate_draft
2026-02-05 19:50:42 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:352 - ğŸ¨ Starting exercise generation for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:45 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:45 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:45 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:45 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:403 - ğŸ¤– Calling Mistral AI for job e4409bc7-fc29-4da3-948f-e4363714a94c...
2026-02-05 19:50:46 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:46 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:50:46 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:50:46 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:50:46 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:48 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:48 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:48 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:48 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:48 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:48 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:50:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:50:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:50:48 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:50 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:50 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:50 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:50:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:50:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:50:50 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:52 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:52 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:52 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:50:52 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:50:52 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:50:52 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:53 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:53 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:53 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:50:53 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:50:53 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:50:53 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:55 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:55 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:55 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:50:55 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:50:55 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:50:55 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:57 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:57 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:50:57 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:50:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:50:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:50:57 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:50:59 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:50:59 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:50:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:50:59 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:00 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:00 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:00 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:00 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:02 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:02 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:02 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:02 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:02 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:02 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:02 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:04 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:04 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:04 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:04 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:04 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:04 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:06 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:06 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:06 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:06 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:06 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:06 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:06 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:06 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:06 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:08 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:08 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:08 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:08 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:08 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:08 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:08 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:11 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:11 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:11 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:11 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:13 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:13 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:13 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:13 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:15 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:15 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:15 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:15 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:17 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:17 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:17 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:18 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:18 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:20 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:20 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:20 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:20 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:51:20 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:20 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:20 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:21 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:21 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:23 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:51:23 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:23 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:23 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:23 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:23 - watchfiles.main - INFO - _log_changes:308 - 6 changes detected
2026-02-05 19:51:25 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:25 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:25 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:25 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:25 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:25 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:25 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:51:27 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:27 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:27 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:27 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:27 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:27 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:29 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:29 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:29 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:29 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:29 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:29 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:32 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:32 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:32 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:32 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:34 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:34 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:34 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:34 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:34 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:34 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:36 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:36 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:36 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:36 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:36 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:36 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: ingestion_complete
2026-02-05 19:51:36 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'ingestion_complete', 'draft_ready': False, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:50:42.359204'}
2026-02-05 19:51:36 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: ingestion_complete, draft_ready: False, published: False
2026-02-05 19:51:36 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'processing' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:406 - âœ… Mistral responded for job e4409bc7-fc29-4da3-948f-e4363714a94c, parsing 22647 chars...
2026-02-05 19:51:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:477 - âœ… Exercise generation complete for job e4409bc7-fc29-4da3-948f-e4363714a94c: 10 exercises created
2026-02-05 19:51:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _generate_draft_node:485 - Exercise generation complete for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:583 - ğŸ”€ Routing after generation: current_phase=generation
2026-02-05 19:51:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _route_after_generation:589 - ğŸ”€ â†’ Going to human_review
2026-02-05 19:51:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:508 - âœ‹ Job e4409bc7-fc29-4da3-948f-e4363714a94c reached human review checkpoint - execution will stop here
2026-02-05 19:51:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _human_review_node:514 - ğŸ Job e4409bc7-fc29-4da3-948f-e4363714a94c ready for approval with 10 exercises
2026-02-05 19:51:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:617 - ğŸ Graph execution completed for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:618 - ğŸ Final phase: review
2026-02-05 19:51:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:619 - ğŸ Awaiting approval: True
2026-02-05 19:51:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - _run_graph_until_checkpoint:620 - ğŸ Draft exercises count: 10
2026-02-05 19:51:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - start_generation:689 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c execution completed
2026-02-05 19:51:38 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - run_generation:1645 - Generation job e4409bc7-fc29-4da3-948f-e4363714a94c completed: processing
2026-02-05 19:51:38 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:38 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:38 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:754 - ğŸ” Checking state for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:759 - ğŸ“¦ State retrieved: exists=True, values=True
2026-02-05 19:51:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - get_state:765 - âœ… Job e4409bc7-fc29-4da3-948f-e4363714a94c found, phase: review
2026-02-05 19:51:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1701 - ğŸ“‹ State for job e4409bc7-fc29-4da3-948f-e4363714a94c: {'job_id': 'e4409bc7-fc29-4da3-948f-e4363714a94c', 'current_step': 'review', 'draft_ready': True, 'published': False, 'error': None, 'created_at': '2026-02-05T19:50:19.077120', 'updated_at': '2026-02-05T19:51:38.856643'}
2026-02-05 19:51:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1728 - ğŸ¯ Job e4409bc7-fc29-4da3-948f-e4363714a94c - current_step: review, draft_ready: True, published: False
2026-02-05 19:51:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_generation_status:1745 - âœ… Returning status 'awaiting_approval' for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:39 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:51:39 - backend.src_v3.infrastructure.ai.rag.chroma_store - INFO - __init__:49 - ChromaDB persistent client initialized: ./chroma_data
2026-02-05 19:51:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - __init__:252 - TeacherGeneratorGraph initialized
2026-02-05 19:51:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:814 - ğŸ“ Approving job e4409bc7-fc29-4da3-948f-e4363714a94c, current phase: review
2026-02-05 19:51:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:824 - âœ… Approving 10 exercises
2026-02-05 19:51:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:834 - ğŸ“¦ Extracted 10 exercises for persistence
2026-02-05 19:51:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:846 - âœ… State updated to 'published'
2026-02-05 19:51:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:859 - ğŸ’¾ Persisting 10 exercises to database...
2026-02-05 19:51:39 - backend.src_v3.infrastructure.ai.db_persistence - INFO - publish_exercises_to_db:54 - Persisting 10 exercises to database
2026-02-05 19:51:39 - backend.src_v3.infrastructure.ai.db_persistence - INFO - publish_exercises_to_db:80 - Created activity: d9b70970-7615-4e35-aa87-d8ef68bb35e0
2026-02-05 19:51:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:51:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - INSERT INTO activities (activity_id, title, subject, unit_id, teacher_id, course_id, module_id, order_index, instructions, status, difficulty_level, policies, start_date, end_date, deleted_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::INTEGER, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::JSONB, $13::TIMESTAMP WITH TIME ZONE, $14::TIMESTAMP WITH TIME ZONE, $15::TIMESTAMP WITH TIME ZONE) RETURNING activities.created_at
2026-02-05 19:51:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00179s] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0', 'Bucles', 'Actividad generada automÃ¡ticamente sobre Unidad 1 ', '1', '1be823c5-22aa-4b70-b06d-f7f3ecad978e', None, '150ff713-e5fd-4ae2-bfe0-23ae281c123e', 0, 'Complete the following exercises based on the course material.', 'active', 'intermedio', '{"allow_retries": true, "max_attempts": 3, "show_solution_after_submit": false}', datetime.datetime(2026, 2, 5, 19, 51, 39, 140462), None, None)
2026-02-05 19:51:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1841 - INSERT INTO exercises_v2 (exercise_id, activity_id, title, description, subject_id, unit_number, difficulty, language, mission_markdown, starter_code, solution_code, test_cases, tags, estimated_time_minutes, deleted_at) VALUES ($1::VARCHAR, $2::VARCH ... 2227 characters truncated ... INTEGER, $150::TIMESTAMP WITH TIME ZONE) RETURNING exercises_v2.created_at, exercises_v2.exercise_id
2026-02-05 19:51:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1841 - [generated in 0.00031s (insertmanyvalues) 1/1 (ordered)] ('f20355c6-c14e-4fec-b3e1-293dec88c7f0', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'Contar nÃºmeros pares con continue', 'Usa continue para omitir nÃºmeros pares en una secuencia', None, 1, 'facil', 'python', '## ğŸ¯ Objetivo\nImplementa un bucle que imprima solo nÃºmeros impares de una lista usando continue.\n\n## ğŸ“‹ Requisitos\n1. Usa un bucle for\n2. Usa la  ... (240 characters truncated) ... ada:**\n1\n3\n5\n\n## ğŸ” Pistas\n- Usa el operador mÃ³dulo % para verificar si un nÃºmero es par\n- La sentencia continue salta a la siguiente iteraciÃ³n', '# Ejercicio: Contar nÃºmeros pares con continue\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada contar_impares\n# 2. La funciÃ³n debe recibir una lista de nÃºmeros\n# 3. Debe imprimir solo los nÃºmeros impares\n#\n# Escribe tu cÃ³digo aquÃ­:\n', 'def contar_impares(numeros):\n    for num in numeros:\n        if num % 2 == 0:\n            continue\n        print(num)\n\n# Llamada de prueba\ncontar_impares([1, 2, 3, 4, 5, 6])', '[{"description": "Test b\\u00e1sico con n\\u00fameros del 1 al 6", "input_data": "[1, 2, 3, 4, 5, 6]", "expected_output": "1\\n3\\n5\\n", "is_hidden" ... (188 characters truncated) ... _seconds": 5}, {"description": "Test con una lista vac\\u00eda", "input_data": "[]", "expected_output": "", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, 'd90b4e7e-09da-4a24-8cc9-842e10f40779', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'Tabla de multiplicar con bucles anidados', 'Genera una tabla de multiplicar usando bucles anidados', None, 1, 'facil', 'python', "## ğŸ¯ Objetivo\nCrea una tabla de multiplicar bÃ¡sica usando bucles anidados.\n\n## ğŸ“‹ Requisitos\n1. Usa dos bucles for anidados\n2. El bucle exterior  ... (288 characters truncated) ... 4\t2 * 3 = 6\n3 * 1 = 3\t3 * 2 = 6\t3 * 3 = 9\n\n## ğŸ” Pistas\n- Usa range() para generar los nÃºmeros\n- Usa end='\\t' para imprimir en la misma lÃ­nea", '# Ejercicio: Tabla de multiplicar con bucles anidados\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada tabla_multiplicar\n# 2. La funciÃ³n debe recibir un nÃºmero entero n\n# 3. Debe imprimir una tabla de multiplicar n x n\n#\n# Escribe tu cÃ³digo aquÃ­:\n', 'def tabla_multiplicar(n):\n    for i in range(1, n + 1):\n        for j in range(1, n + 1):\n            resultado = i * j\n            print(f"{i} * {j} = {resultado}", end="\\t")\n        print()\n\n# Llamada de prueba\ntabla_multiplicar(3)', '[{"description": "Test b\\u00e1sico con n=3", "input_data": "3", "expected_output": "1 * 1 = 1\\t1 * 2 = 2\\t1 * 3 = 3\\n2 * 1 = 2\\t2 * 2 = 4\\t2 *  ... (416 characters truncated) ... = 8\\n3 * 1 = 3\\t3 * 2 = 6\\t3 * 3 = 9\\t3 * 4 = 12\\n4 * 1 = 4\\t4 * 2 = 8\\t4 * 3 = 12\\t4 * 4 = 16\\n", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, '1a6debc7-6849-457a-af36-8847d320491c', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'Contador de caracteres con while', 'Cuenta caracteres en una cadena usando un bucle while', None, 1, 'facil', 'python', '## ğŸ¯ Objetivo\nImplementa un contador de caracteres usando un bucle while.\n\n## ğŸ“‹ Requisitos\n1. Usa un bucle while\n2. Cuenta cuÃ¡ntas veces aparece ... (163 characters truncated) ... Entrada:** "banana", "a"\n**Salida esperada:**\n3\n\n## ğŸ” Pistas\n- Usa una variable contador\n- Incrementa el contador cuando encuentres el carÃ¡cter', '# Ejercicio: Contador de caracteres con while\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada contar_caracter\n# 2. La funciÃ³n debe recibir una cadena y un carÃ¡cter\n# 3. Debe retornar el conteo del carÃ¡cter en la cadena\n#\n# Escribe tu cÃ³digo aquÃ­:\n', 'def contar_caracter(cadena, caracter):\n    contador = 0\n    indice = 0\n    while indice < len(cadena):\n        if cadena[indice] == caracter:\n            contador += 1\n        indice += 1\n    return contador\n\n# Llamada de prueba\nprint(contar_caracter("banana", "a"))', '[{"description": "Test b\\u00e1sico con \\"banana\\" y \\"a\\"", "input_data": "\\"banana\\", \\"a\\"", "expected_output": "3", "is_hidden": false, " ... (179 characters truncated) ... 5}, {"description": "Test con cadena vac\\u00eda", "input_data": "\\"\\", \\"a\\"", "expected_output": "0", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, 'c8cd395f-a957-47fe-b599-647c63609680', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'IteraciÃ³n sobre diccionario con else', 'Itera sobre un diccionario y usa la clÃ¡usula else', None ... 50 parameters truncated ... 'def contar_vocales(cadena):\n    vocales = "aeiouAEIOU"\n    contador = 0\n    indice = 0\n    while indice < len(cadena):\n        if cadena[indice] in vocales:\n            contador += 1\n        indice += 1\n    return contador\n\n# Llamada de prueba\nprint(contar_vocales("Hola mundo"))', '[{"description": "Test b\\u00e1sico con \\"Hola mundo\\"", "input_data": "\\"Hola mundo\\"", "expected_output": "4", "is_hidden": false, "timeout_sec ... (142 characters truncated) ... econds": 5}, {"description": "Test con cadena vac\\u00eda", "input_data": "\\"\\"", "expected_output": "0", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, '35bd1d20-10a8-46bc-918b-030ffaaab8c4', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'Generador de patrones con bucles anidados', 'Genera patrones usando bucles anidados', None, 1, 'dificil', 'python', "## ğŸ¯ Objetivo\nGenera diferentes patrones usando bucles anidados.\n\n## ğŸ“‹ Requisitos\n1. Usa bucles for anidados para generar patrones\n2. Genera tre ... (286 characters truncated) ... n  *\n ***\n*****\n\n## ğŸ” Pistas\n- Usa bucles anidados para controlar las filas y columnas\n- Usa print() con end='' para imprimir en la misma lÃ­nea", '# Ejercicio: Generador de patrones con bucles anidados\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada generar_patrones\n# 2. La funciÃ³n debe recibir un nÃºmero entero n\n# 3. Debe imprimir tres patrones diferentes\n#\n# Escribe tu cÃ³digo aquÃ­:\n', 'def generar_patrones(n):\n    print("PatrÃ³n 1:")\n    for i in range(1, n + 1):\n        for j in range(i):\n            print("*", end=\'\')\n       ... (269 characters truncated) ... int(" ", end=\'\')\n        for k in range(2 * i - 1):\n            print("*", end=\'\')\n        print()\n\n# Llamada de prueba\ngenerar_patrones(3)', '[{"description": "Test b\\u00e1sico con n=3", "input_data": "3", "expected_output": "Patr\\u00f3n 1:\\n*\\n**\\n***\\n\\nPatr\\u00f3n 2:\\n1\\n12\\n1 ... (401 characters truncated) ... *\\n****\\n\\nPatr\\u00f3n 2:\\n1\\n12\\n123\\n1234\\n\\nPatr\\u00f3n 3:\\n  *\\n ***\\n*****\\n******\\n", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, 'facf1298-eed1-4041-8602-bf8553049906', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'BÃºsqueda binaria con while', 'Implementa bÃºsqueda binaria usando un bucle while', None, 1, 'dificil', 'python', '## ğŸ¯ Objetivo\nImplementa el algoritmo de bÃºsqueda binaria usando un bucle while.\n\n## ğŸ“‹ Requisitos\n1. Usa un bucle while para implementar la bÃºsqu ... (271 characters truncated) ... \n## ğŸ” Pistas\n- Divide el arreglo en mitades\n- Compara el elemento del medio con el objetivo\n- Ajusta los lÃ­mites del arreglo segÃºn la comparaciÃ³n', '# Ejercicio: BÃºsqueda binaria con while\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada busqueda_binaria\n# 2. La funciÃ³n debe recibir una lista ord ... (3 characters truncated) ... da y un elemento\n# 3. Debe retornar el Ã­ndice del elemento si lo encuentra\n# 4. Debe retornar -1 si no lo encuentra\n#\n# Escribe tu cÃ³digo aquÃ­:\n', 'def busqueda_binaria(lista, elemento):\n    bajo = 0\n    alto = len(lista) - 1\n    while bajo <= alto:\n        medio = (bajo + alto) // 2\n        ... (119 characters truncated) ... o + 1\n        else:\n            alto = medio - 1\n    return -1\n\n# Llamada de prueba\nprint(busqueda_binaria([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 5))', '[{"description": "Test b\\u00e1sico con elemento presente", "input_data": "[1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 5", "expected_output": "4", "is_hidden":  ... (186 characters truncated) ... seconds": 5}, {"description": "Test con lista vac\\u00eda", "input_data": "[], 1", "expected_output": "-1", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None, '4892e969-b181-4443-a37a-fe3ee33732d2', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'Generador de combinaciones con bucles anidados', 'Genera combinaciones usando bucles anidados', None, 1, 'dificil', 'python', '## ğŸ¯ Objetivo\nGenera todas las combinaciones posibles de elementos de dos listas usando bucles anidados.\n\n## ğŸ“‹ Requisitos\n1. Usa bucles for anida ... (324 characters truncated) ...  \'b\')]\n\n## ğŸ” Pistas\n- Usa bucles anidados para iterar sobre ambas listas\n- Crea una tupla con los elementos de ambas listas en cada combinaciÃ³n', '# Ejercicio: Generador de combinaciones con bucles anidados\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada generar_combinaciones\n# 2. La funciÃ³n debe recibir dos listas\n# 3. Debe retornar una lista de tuplas con las combinaciones\n#\n# Escribe tu cÃ³digo aquÃ­:\n', 'def generar_combinaciones(lista1, lista2):\n    combinaciones = []\n    for elemento1 in lista1:\n        for elemento2 in lista2:\n            combinaciones.append((elemento1, elemento2))\n    return combinaciones\n\n# Llamada de prueba\nprint(generar_combinaciones([1, 2], ["a", "b"]))', '[{"description": "Test b\\u00e1sico con dos listas", "input_data": "[1, 2], [\\"a\\", \\"b\\"]", "expected_output": "[(1, \'a\'), (1, \'b\'), (2, \'a ... (255 characters truncated) ... ngitudes", "input_data": "[1, 2, 3], [\\"a\\"]", "expected_output": "[(1, \'a\'), (2, \'a\'), (3, \'a\')]", "is_hidden": true, "timeout_seconds": 5}]', '["auto-generated"]', 15, None)
2026-02-05 19:51:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:51:39 - backend.src_v3.infrastructure.ai.db_persistence - INFO - publish_exercises_to_db:126 - Successfully persisted activity d9b70970-7615-4e35-aa87-d8ef68bb35e0 with 10 exercises
2026-02-05 19:51:39 - backend.src_v3.infrastructure.ai.teacher_generator_graph - INFO - approve_and_publish:876 - Published exercises to database: d9b70970-7615-4e35-aa87-d8ef68bb35e0
2026-02-05 19:51:39 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - approve_and_publish_exercises:1955 - Published exercises for job e4409bc7-fc29-4da3-948f-e4363714a94c
2026-02-05 19:51:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:51:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-05 19:51:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 108.8s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:51:40 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2591 - ğŸ“Š Module 150ff713-e5fd-4ae2-bfe0-23ae281c123e - Found 2 activities
2026-02-05 19:51:40 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2608 - ğŸ“Š Returning 2 activities
2026-02-05 19:51:40 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.2s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.2s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.2s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.3s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.2s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT ON (sv.user_id)
                sv.session_id, sv.user_id, sv.activity_id, sv.status, sv.session_metrics, sv.start_time,
                u.id, u.full_name, u.username, u.email
            FROM sessions_v2 sv
            LEFT JOIN users u ON sv.user_id = u.id
            WHERE sv.activity_id = $1
            ORDER BY sv.user_id, sv.start_time DESC
        
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.2s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.3s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.2s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:51:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:556 - Retrieved 0 total analytics (sessions + submissions) for activity d9b70970-7615-4e35-aa87-d8ef68bb35e0
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.3s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.3s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.4s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.3s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.3s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT ON (sv.user_id)
                sv.session_id, sv.user_id, sv.activity_id, sv.status, sv.session_metrics, sv.start_time,
                u.id, u.full_name, u.username, u.email
            FROM sessions_v2 sv
            LEFT JOIN users u ON sv.user_id = u.id
            WHERE sv.activity_id = $1
            ORDER BY sv.user_id, sv.start_time DESC
        
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.3s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.4s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 135.3s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:51:50 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:556 - Retrieved 0 total analytics (sessions + submissions) for activity d9b70970-7615-4e35-aa87-d8ef68bb35e0
2026-02-05 19:51:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:52:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:52:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-05 19:52:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00215s] ('juanisarmientoomartinez@gmail.com',)
2026-02-05 19:52:00 - backend.src_v3.infrastructure.http.api.v3.routers.auth_router - INFO - login:155 - Successful login for user: juanisarmientoomartinez@gmail.com
2026-02-05 19:52:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:52:01 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_dashboard - executing function
2026-02-05 19:52:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:52:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, email, username, roles, created_at
            FROM users
            WHERE id = $1
        
2026-02-05 19:52:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00205s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:52:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                s.submission_id,
                s.activity_id,
                a.title,
                s.status,
                s.final_grade,
                s.submitted_at,
                m.title as module_name
            FROM submissions s
            JOIN activities a ON s.activity_id = a.activity_id
            LEFT JOIN modules m ON a.module_id = m.module_id
            WHERE s.student_id = $1
            ORDER BY s.submitted_at DESC
        
2026-02-05 19:52:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00222s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:52:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                COUNT(DISTINCT e.exercise_id) as total_exercises,
                COUNT(DISTINCT ea.exercise_id) as completed_exercises
            FROM activities a
            LEFT JOIN exercises_v2 e ON a.activity_id = e.activity_id
            LEFT JOIN exercise_attempts_v2 ea ON e.exercise_id = ea.exercise_id 
                AND ea.user_id = $1 AND ea.passed = true
            WHERE a.activity_id IN (
                SELECT DISTINCT activity_id FROM submissions WHERE student_id = $1
            )
            GROUP BY a.activity_id
        
2026-02-05 19:52:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00242s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:52:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT COUNT(DISTINCT exercise_id)
            FROM exercise_attempts_v2
            WHERE user_id = $1 AND passed = true
        
2026-02-05 19:52:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00170s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:52:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 19:52:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00198s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:52:01 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: cache:student_dashboard:6f0df2c53669558768e17b1e279c2863
2026-02-05 19:52:01 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_dashboard (TTL: 60s)
2026-02-05 19:52:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:52:10 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00433s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 19:52:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2408 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 19:52:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2421 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 19:52:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2421 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 19:52:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2423 - ğŸ“Š Grouped into 2 courses
2026-02-05 19:52:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2425 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 19:52:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2425 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00169s] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00207s] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00160s] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02311s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02131s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01947s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:52:10 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 19:52:10 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:52:10 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08264s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 19:52:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2408 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 19:52:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2421 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 19:52:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2421 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 19:52:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2423 - ğŸ“Š Grouped into 2 courses
2026-02-05 19:52:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2425 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 19:52:10 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2425 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08883s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08903s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:52:10 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_gamification - executing function
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 9.474s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.09619s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.115s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1128s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1101s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:52:10 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: cache:student_gamification:142a0e77a3e0e889ff0c91f97c18d674
2026-02-05 19:52:10 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_gamification (TTL: 30s)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:52:10 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 19:52:10 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 19:52:10 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:52:10 - backend.src_v3.infrastructure.cache.redis_client - INFO - get:120 - âœ… Cache HIT: cache:student_gamification:142a0e77a3e0e889ff0c91f97c18d674
2026-02-05 19:52:10 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:109 - âœ… Cache HIT for student_gamification
2026-02-05 19:52:14 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:52:17 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.505s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 19:52:17 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2408 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 19:52:17 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2421 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 19:52:17 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2421 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 19:52:17 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2423 - ğŸ“Š Grouped into 2 courses
2026-02-05 19:52:17 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2425 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 19:52:17 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2425 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.55s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.551s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.552s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.576s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.576s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.578s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:52:17 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 19:52:17 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 19:52:17 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:52:17 - backend.src_v3.infrastructure.cache.redis_client - INFO - get:120 - âœ… Cache HIT: cache:student_gamification:142a0e77a3e0e889ff0c91f97c18d674
2026-02-05 19:52:17 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:109 - âœ… Cache HIT for student_gamification
2026-02-05 19:52:17 - backend.src_v3.infrastructure.cache.redis_client - INFO - get:120 - âœ… Cache HIT: cache:student_gamification:142a0e77a3e0e889ff0c91f97c18d674
2026-02-05 19:52:17 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:109 - âœ… Cache HIT for student_gamification
2026-02-05 19:52:18 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:52:18 - watchfiles.main - INFO - _log_changes:308 - 25 changes detected
2026-02-05 19:52:20 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:52:20 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:52:21 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:52:21 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-05 19:52:21 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 190.3s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 190.3s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 190.3s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 190.3s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 190.4s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 190.3s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00235s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02359s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00295s] ('da3ca48b-cfbf-4268-826d-a0c901e2341e', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06248s ago] ('c55dbe2f-17b6-4365-9e17-bc7dc809c718', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 19:52:43 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:53:14 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:53:14 - watchfiles.main - INFO - _log_changes:308 - 30 changes detected
2026-02-05 19:53:17 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:53:17 - backend.src_v3.infrastructure.http.app - INFO - lifespan:86 - Shutting down application...
2026-02-05 19:53:17 - backend.src_v3.infrastructure.http.app - INFO - lifespan:90 - Disconnecting Redis...
2026-02-05 19:53:17 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:79 - ğŸ”Œ Disconnecting from Redis...
2026-02-05 19:53:17 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:82 - âœ… Redis disconnected successfully
2026-02-05 19:53:17 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:53:17 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:53:17 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:53:17 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:53:17 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:53:17 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:53:17 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:53:17 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:53:17 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:53:17 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:53:17 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:53:17 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:53:17 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:53:17 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:53:17 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:53:18 - watchfiles.main - INFO - _log_changes:308 - 25 changes detected
2026-02-05 19:53:19 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-05 19:53:19 - watchfiles.main - INFO - _log_changes:308 - 6 changes detected
2026-02-05 19:53:20 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-05 19:53:20 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:53:20 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:75 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:53:20 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:53:25 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:53:25 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:53:25 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:75 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:53:25 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:53:25 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 19:53:25 - backend.src_v3.infrastructure.http.app - INFO - lifespan:58 - Initializing database connection...
2026-02-05 19:53:25 - backend.src_v3.infrastructure.http.app - INFO - lifespan:61 - Initializing Redis cache...
2026-02-05 19:53:25 - backend.src_v3.infrastructure.cache.redis_client - INFO - __init__:40 - ğŸ”§ Redis cache initialized with URL: redis://redis:6379/0
2026-02-05 19:53:25 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:45 - ğŸ”Œ Attempting to connect to Redis...
2026-02-05 19:53:25 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:59 - âœ… Redis connection established successfully
2026-02-05 19:53:25 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:63 - ğŸ“Š Redis version: 7.4.7
2026-02-05 19:53:25 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:64 - ğŸ“Š Connected clients: 1
2026-02-05 19:53:25 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:65 - ğŸ“Š Used memory: 1.11M
2026-02-05 19:53:25 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - âœ… Redis cache initialized successfully
2026-02-05 19:53:25 - backend.src_v3.infrastructure.http.app - INFO - lifespan:72 - ğŸ“Š Redis Stats: {'connected': True, 'version': '7.4.7', 'uptime_seconds': 3792, 'connected_clients': 1, 'used_memory_human': '1.11M', 'used_memory_peak_human': '1.13M', 'total_commands_processed': 517, 'instantaneous_ops_per_sec': 0, 'keyspace_hits': 13, 'keyspace_misses': 17, 'hit_rate': '43.33%'}
2026-02-05 19:53:45 - backend.src_v3.infrastructure.http.app - INFO - lifespan:86 - Shutting down application...
2026-02-05 19:53:45 - backend.src_v3.infrastructure.http.app - INFO - lifespan:90 - Disconnecting Redis...
2026-02-05 19:53:45 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:79 - ğŸ”Œ Disconnecting from Redis...
2026-02-05 19:53:45 - backend.src_v3.infrastructure.cache.redis_client - INFO - disconnect:82 - âœ… Redis disconnected successfully
2026-02-05 19:53:47 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:53:47 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:53:47 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:53:47 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:53:47 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:53:47 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:53:47 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:53:47 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:53:47 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:53:47 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:53:47 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:53:47 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:53:47 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:53:47 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:53:50 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:53:50 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:75 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:53:55 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:53:55 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:53:55 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:53:55 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:53:55 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:53:55 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:53:55 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:53:55 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:53:55 - root - INFO - setup_logging:116 - ============================================================
2026-02-05 19:53:55 - root - INFO - setup_logging:117 - ğŸš€ AI-Native MVP V3 - Logging initialized
2026-02-05 19:53:55 - root - INFO - setup_logging:118 - ğŸ“ Log Level: INFO
2026-02-05 19:53:55 - root - INFO - setup_logging:119 - ğŸ“ Log Directory: /app/logs
2026-02-05 19:53:55 - root - INFO - setup_logging:120 - ğŸ’¾ File Logging: âœ… Enabled
2026-02-05 19:53:55 - root - INFO - setup_logging:121 - ğŸ”” Sentry Alerts: âŒ Disabled
2026-02-05 19:53:55 - root - INFO - setup_logging:122 - ============================================================
2026-02-05 19:53:58 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:53:58 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:75 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:54:02 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:54:02 - backend.src_v3.infrastructure.http.middleware.rate_limiter - INFO - setup_rate_limiting:190 - âš ï¸ Rate limiting disabled (development mode)
2026-02-05 19:54:02 - backend.src_v3.infrastructure.http.middleware.security_headers - INFO - setup_security_headers:75 - âœ… Security headers enabled (HSTS: False)
2026-02-05 19:54:03 - backend.src_v3.infrastructure.http.app - INFO - create_app:225 - Application created successfully
2026-02-05 19:54:03 - backend.src_v3.infrastructure.http.app - INFO - lifespan:57 - Starting AI-Native MVP V3 (Clean Architecture)
2026-02-05 19:54:03 - backend.src_v3.infrastructure.http.app - INFO - lifespan:58 - Initializing database connection...
2026-02-05 19:54:03 - backend.src_v3.infrastructure.http.app - INFO - lifespan:61 - Initializing Redis cache...
2026-02-05 19:54:03 - backend.src_v3.infrastructure.cache.redis_client - INFO - __init__:40 - ğŸ”§ Redis cache initialized with URL: redis://redis:6379/0
2026-02-05 19:54:03 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:45 - ğŸ”Œ Attempting to connect to Redis...
2026-02-05 19:54:03 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:59 - âœ… Redis connection established successfully
2026-02-05 19:54:03 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:63 - ğŸ“Š Redis version: 7.4.7
2026-02-05 19:54:03 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:64 - ğŸ“Š Connected clients: 1
2026-02-05 19:54:03 - backend.src_v3.infrastructure.cache.redis_client - INFO - connect:65 - ğŸ“Š Used memory: 1.11M
2026-02-05 19:54:03 - backend.src_v3.infrastructure.http.app - INFO - lifespan:65 - âœ… Redis cache initialized successfully
2026-02-05 19:54:03 - backend.src_v3.infrastructure.http.app - INFO - lifespan:72 - ğŸ“Š Redis Stats: {'connected': True, 'version': '7.4.7', 'uptime_seconds': 3830, 'connected_clients': 1, 'used_memory_human': '1.11M', 'used_memory_peak_human': '1.13M', 'total_commands_processed': 527, 'instantaneous_ops_per_sec': 0, 'keyspace_hits': 13, 'keyspace_misses': 17, 'hit_rate': '43.33%'}
2026-02-05 19:54:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select pg_catalog.version()
2026-02-05 19:54:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 19:54:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - select current_schema()
2026-02-05 19:54:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 19:54:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - show standard_conforming_strings
2026-02-05 19:54:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [raw sql] ()
2026-02-05 19:54:14 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT 1
2026-02-05 19:54:14 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00236s] ()
2026-02-05 19:54:14 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:54:19 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00293s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 19:54:19 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 19:54:19 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 19:54:19 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 19:54:19 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 19:54:19 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 19:54:19 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00236s] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00331s] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00270s] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03093s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02728s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02474s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:54:19 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 19:54:19 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:54:19 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1155s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 19:54:19 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 19:54:19 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 19:54:19 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 19:54:19 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 19:54:19 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 19:54:19 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.09196s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08985s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.08892s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1112s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1099s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1067s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:54:19 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 19:54:19 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00342s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0253s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:54:19 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:54:20 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.603s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 19:54:20 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 19:54:20 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 19:54:20 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 19:54:20 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 19:54:20 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 19:54:20 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.6s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.598s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.595s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.621s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.618s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.614s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:54:20 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 19:54:20 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.523s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.559s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:54:20 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00645s] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03022s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04344s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00211s] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06946s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00298s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03534s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03479s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00306s] ('97c600fd-6f6d-4031-b58b-50ecd5b89497', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03028s ago] ('5f9914c2-2851-4b08-93b8-ed935fe66a44', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 19:54:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.899s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.937s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.899s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.927s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 8.92s ago] ('4e0c3368-61e5-4ee1-840f-7de58df21b51', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 19:54:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:55:04 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 59.36s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 59.38s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 59.34s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 59.32s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 59.3s ago] ('75b4711b-054f-45f8-bdd3-77bc4eeffe4c', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 19:55:22 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 63.03s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 63.05s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 63.01s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 63s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 62.97s ago] ('0408a5f6-2f0f-4ccd-a592-91f1f14df7f2', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 19:55:26 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:55:50 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:55:52 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:55:52 - watchfiles.main - INFO - _log_changes:308 - 24 changes detected
2026-02-05 19:55:53 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:55:54 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:55:54 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-05 19:55:55 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:55:55 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:56:44 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:56:47 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:56:49 - watchfiles.main - INFO - _log_changes:308 - 6 changes detected
2026-02-05 19:56:49 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:56:50 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-05 19:56:50 - watchfiles.main - INFO - _log_changes:308 - 7 changes detected
2026-02-05 19:56:51 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 198.9s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 199s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 198.9s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 198.9s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 198.9s ago] ('47b6c788-8a46-4c7f-be8b-e0e49a6cd370', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 19:57:38 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:57:39 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 19:57:39 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:57:41 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:57:42 - watchfiles.main - INFO - _log_changes:308 - 18 changes detected
2026-02-05 19:57:43 - watchfiles.main - INFO - _log_changes:308 - 7 changes detected
2026-02-05 19:57:43 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:57:44 - watchfiles.main - INFO - _log_changes:308 - 12 changes detected
2026-02-05 19:57:44 - watchfiles.main - INFO - _log_changes:308 - 10 changes detected
2026-02-05 19:57:45 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:57:46 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.8s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 19:57:46 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 19:57:46 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 19:57:46 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 19:57:46 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 19:57:46 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 19:57:46 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.8s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.8s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.8s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.8s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.8s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.8s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:57:46 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 19:57:46 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:57:46 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.9s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 19:57:46 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 19:57:46 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 19:57:46 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 19:57:46 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 19:57:46 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 19:57:46 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.9s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.9s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.9s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.8s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.9s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.9s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.9s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:57:46 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 19:57:46 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.8s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:57:46 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:57:47 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 214.9s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 19:57:47 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 19:57:47 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 19:57:47 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 19:57:47 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 19:57:47 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 19:57:47 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 214.9s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 214.9s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 214.9s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 214.9s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 214.9s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 214.9s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:57:47 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 19:57:47 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 214.8s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 214.9s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:57:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 210.7s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 210.8s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 210.8s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 210.7s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 210.8s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 210.7s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 210.8s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 210.7s ago] ('af3f6b77-05f2-48b4-ae88-07c3af1ccbb2', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 210.8s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 210.8s ago] ('ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 19:57:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:58:26 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:58:26 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - __init__:90 - MistralProvider initialized
2026-02-05 19:58:27 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:58:27 - backend.src_v3.infrastructure.ai.rag.chroma_service - WARNING - __init__:43 - ChromaDB not available: '_type'. RAG disabled.
2026-02-05 19:58:27 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - __init__:90 - MistralProvider initialized
2026-02-05 19:58:27 - backend.src_v3.application.student.use_cases - INFO - execute:122 - ğŸ’¬ SendMessage: session_id=ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea, message=holaaa
2026-02-05 19:58:27 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:58:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT session_id, user_id, activity_id, mode, status, 
                   cognitive_status, session_metrics, start_time, end_time
            FROM sessions_v2
            WHERE session_id = $1
        
2026-02-05 19:58:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.01745s] ('ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea',)
2026-02-05 19:58:27 - backend.src_v3.application.student.use_cases - INFO - execute:126 - ğŸ“¦ Session found: True
2026-02-05 19:58:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT trace_id, session_id, interaction_type, interactional_data, timestamp
            FROM cognitive_traces_v2
            WHERE session_id = $1 
            AND interaction_type IN ('student_message', 'tutor_response', 'student_prompt')
            ORDER BY timestamp ASC
            LIMIT $2
        
2026-02-05 19:58:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.01263s] ('ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea', 50)
2026-02-05 19:58:27 - backend.src_v3.application.student.use_cases - INFO - execute:134 - ğŸ“œ History length: 0
2026-02-05 19:58:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 19:58:27 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.01252s] ('a9540230-9998-44ef-945d-0b3ad9e1fbe9', 'ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea', 'surface', 'student_message', '{"content": "holaaa", "metadata": {"current_code": "# Ejercicio: Contar n\\u00fameros pares con continue\\n#\\n# Tu tarea:\\n# 1. Define una funci\\u ... (177 characters truncated) ... aqu\\u00ed:\\n", "error_context": null, "rag_context": null, "frustration_level": 0.0, "understanding_level": 0.5, "cognitive_phase": "exploration"}}')
2026-02-05 19:58:27 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:58:28 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - generate:268 - Mistral request successful
2026-02-05 19:58:28 - backend.src_v3.infrastructure.ai.agents - INFO - respond:163 - socratic_tutor_llm_call
2026-02-05 19:58:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:58:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 19:58:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.5966s ago] ('6bf847d0-95cd-4a18-bc67-df5370d93c7a', 'ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea', 'surface', 'tutor_response', '{"content": "\\u00a1Hola! \\u00bfQu\\u00e9 sabes sobre el operador m\\u00f3dulo `%` en Python? \\u00bfC\\u00f3mo podr\\u00edas usarlo para identifica ... (329 characters truncated) ... aqu\\u00ed:\\n", "error_context": null, "rag_context": null, "frustration_level": 0.0, "understanding_level": 0.5, "cognitive_phase": "exploration"}}')
2026-02-05 19:58:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:58:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:58:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT session_metrics FROM sessions_v2 WHERE session_id = $1
2026-02-05 19:58:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00196s] ('ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea',)
2026-02-05 19:58:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                UPDATE sessions_v2 
                SET session_metrics = CAST($1 AS jsonb)
                WHERE session_id = $2
            
2026-02-05 19:58:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00128s] ('{"hints_used": 0, "errors_encountered": 0, "total_interactions": 0}', 'ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea')
2026-02-05 19:58:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:58:29 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - generate:268 - Mistral request successful
2026-02-05 19:58:29 - backend.src_v3.infrastructure.ai.agents - INFO - analyze_session:519 - governance_llm_call
2026-02-05 19:58:29 - backend.src_v3.infrastructure.ai.agents - WARNING - _parse_response:543 - Failed to parse governance JSON: Expecting value: line 1 column 1 (char 0)
2026-02-05 19:58:29 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:58:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 19:58:29 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 1.625s ago] ('fce5cba1-3507-4460-8632-30c185bc0a14', 'ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea', 'meta', 'governance_log', '{"risk_level": "medium", "dimension": "ai_dependency", "evidence": ["```json\\n{\\n  \\"risk_level\\": \\"INFO\\",\\n  \\"dimension\\": \\"Bienestar  ... (157 characters truncated) ... la sesi\\u00f3n edu"], "recommendation": "No se pudo interpretar correctamente la salida del LLM. Usar juicio docente para revisar la sesi\\u00f3n."}')
2026-02-05 19:58:29 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:58:29 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:58:29 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-05 19:58:31 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:58:31 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:58:31 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-05 19:58:31 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:58:44 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - __init__:90 - MistralProvider initialized
2026-02-05 19:58:44 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:58:44 - backend.src_v3.infrastructure.ai.rag.chroma_service - WARNING - __init__:43 - ChromaDB not available: {"error":"ChromaError","message":"Collection [ai_native_rag] already exists"} (trace ID: 00000000000000000000000000000000). RAG disabled.
2026-02-05 19:58:44 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - __init__:90 - MistralProvider initialized
2026-02-05 19:58:44 - backend.src_v3.application.student.use_cases - INFO - execute:122 - ğŸ’¬ SendMessage: session_id=ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea, message=no entiendo
2026-02-05 19:58:44 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:58:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT session_id, user_id, activity_id, mode, status, 
                   cognitive_status, session_metrics, start_time, end_time
            FROM sessions_v2
            WHERE session_id = $1
        
2026-02-05 19:58:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.81s ago] ('ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea',)
2026-02-05 19:58:44 - backend.src_v3.application.student.use_cases - INFO - execute:126 - ğŸ“¦ Session found: True
2026-02-05 19:58:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT trace_id, session_id, interaction_type, interactional_data, timestamp
            FROM cognitive_traces_v2
            WHERE session_id = $1 
            AND interaction_type IN ('student_message', 'tutor_response', 'student_prompt')
            ORDER BY timestamp ASC
            LIMIT $2
        
2026-02-05 19:58:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.77s ago] ('ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea', 50)
2026-02-05 19:58:44 - backend.src_v3.application.student.use_cases - INFO - execute:134 - ğŸ“œ History length: 2
2026-02-05 19:58:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 19:58:44 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.75s ago] ('d38c555b-6feb-41af-b5df-cf46e090d814', 'ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea', 'surface', 'student_message', '{"content": "no entiendo", "metadata": {"current_code": "# Ejercicio: Contar n\\u00fameros pares con continue\\n#\\n# Tu tarea:\\n# 1. Define una fun ... (182 characters truncated) ... aqu\\u00ed:\\n", "error_context": null, "rag_context": null, "frustration_level": 0.0, "understanding_level": 0.5, "cognitive_phase": "exploration"}}')
2026-02-05 19:58:44 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:58:45 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - generate:268 - Mistral request successful
2026-02-05 19:58:45 - backend.src_v3.infrastructure.ai.agents - INFO - respond:163 - socratic_tutor_llm_call
2026-02-05 19:58:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:58:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 19:58:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 18.52s ago] ('e3695b41-b8f5-4b2a-a42b-257cc1e92432', 'ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea', 'surface', 'tutor_response', '{"content": "Entiendo que es desafiante. Empecemos por algo m\\u00e1s simple: \\u00bfQu\\u00e9 hace el operador `%` en matem\\u00e1ticas? Por ejemplo ... (365 characters truncated) ... aqu\\u00ed:\\n", "error_context": null, "rag_context": null, "frustration_level": 0.0, "understanding_level": 0.5, "cognitive_phase": "exploration"}}')
2026-02-05 19:58:45 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:58:45 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:58:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT session_metrics FROM sessions_v2 WHERE session_id = $1
2026-02-05 19:58:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.92s ago] ('ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea',)
2026-02-05 19:58:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                UPDATE sessions_v2 
                SET session_metrics = CAST($1 AS jsonb)
                WHERE session_id = $2
            
2026-02-05 19:58:45 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 17.92s ago] ('{"hints_used": 0, "errors_encountered": 0, "total_interactions": 0}', 'ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea')
2026-02-05 19:58:45 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:58:47 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - generate:268 - Mistral request successful
2026-02-05 19:58:47 - backend.src_v3.infrastructure.ai.agents - INFO - analyze_session:519 - governance_llm_call
2026-02-05 19:58:47 - backend.src_v3.infrastructure.ai.agents - WARNING - _parse_response:543 - Failed to parse governance JSON: Expecting value: line 1 column 1 (char 0)
2026-02-05 19:58:47 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:58:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 19:58:47 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 20.91s ago] ('a7cbc0d9-6aac-4d64-9f68-eede73fea9e5', 'ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea', 'meta', 'governance_log', '{"risk_level": "medium", "dimension": "ai_dependency", "evidence": ["```json\\n{\\n  \\"risk_level\\": \\"INFO\\",\\n  \\"dimension\\": \\"Bienestar  ... (157 characters truncated) ... ci\\u00f3n hasta el"], "recommendation": "No se pudo interpretar correctamente la salida del LLM. Usar juicio docente para revisar la sesi\\u00f3n."}')
2026-02-05 19:58:47 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:58:59 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - __init__:90 - MistralProvider initialized
2026-02-05 19:58:59 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 19:58:59 - backend.src_v3.infrastructure.ai.rag.chroma_service - WARNING - __init__:43 - ChromaDB not available: {"error":"ChromaError","message":"Collection [ai_native_rag] already exists"} (trace ID: 00000000000000000000000000000000). RAG disabled.
2026-02-05 19:58:59 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - __init__:90 - MistralProvider initialized
2026-02-05 19:58:59 - backend.src_v3.application.student.use_cases - INFO - execute:122 - ğŸ’¬ SendMessage: session_id=ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea, message=1??
2026-02-05 19:58:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:58:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT session_id, user_id, activity_id, mode, status, 
                   cognitive_status, session_metrics, start_time, end_time
            FROM sessions_v2
            WHERE session_id = $1
        
2026-02-05 19:58:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 32.64s ago] ('ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea',)
2026-02-05 19:58:59 - backend.src_v3.application.student.use_cases - INFO - execute:126 - ğŸ“¦ Session found: True
2026-02-05 19:58:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT trace_id, session_id, interaction_type, interactional_data, timestamp
            FROM cognitive_traces_v2
            WHERE session_id = $1 
            AND interaction_type IN ('student_message', 'tutor_response', 'student_prompt')
            ORDER BY timestamp ASC
            LIMIT $2
        
2026-02-05 19:58:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 32.61s ago] ('ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea', 50)
2026-02-05 19:58:59 - backend.src_v3.application.student.use_cases - INFO - execute:134 - ğŸ“œ History length: 4
2026-02-05 19:58:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 19:58:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 32.58s ago] ('6ba3bed0-4e5b-4848-88a7-d764994460bd', 'ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea', 'surface', 'student_message', '{"content": "1??", "metadata": {"current_code": "# Ejercicio: Contar n\\u00fameros pares con continue\\n#\\n# Tu tarea:\\n# 1. Define una funci\\u00f ... (174 characters truncated) ... aqu\\u00ed:\\n", "error_context": null, "rag_context": null, "frustration_level": 0.0, "understanding_level": 0.5, "cognitive_phase": "exploration"}}')
2026-02-05 19:58:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:00 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - generate:268 - Mistral request successful
2026-02-05 19:59:00 - backend.src_v3.infrastructure.ai.agents - INFO - respond:163 - socratic_tutor_llm_call
2026-02-05 19:59:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 19:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 33.3s ago] ('60087b2f-a470-4090-8542-68caf8654168', 'ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea', 'surface', 'tutor_response', '{"content": "\\u00a1Exacto! El operador `%` devuelve el residuo de una divisi\\u00f3n. \\u00bfC\\u00f3mo podr\\u00edas usar esto para identificar si  ... (338 characters truncated) ... aqu\\u00ed:\\n", "error_context": null, "rag_context": null, "frustration_level": 0.0, "understanding_level": 0.5, "cognitive_phase": "exploration"}}')
2026-02-05 19:59:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:00 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT session_metrics FROM sessions_v2 WHERE session_id = $1
2026-02-05 19:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 32.71s ago] ('ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea',)
2026-02-05 19:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                UPDATE sessions_v2 
                SET session_metrics = CAST($1 AS jsonb)
                WHERE session_id = $2
            
2026-02-05 19:59:00 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 32.71s ago] ('{"hints_used": 0, "errors_encountered": 0, "total_interactions": 0}', 'ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea')
2026-02-05 19:59:00 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:01 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - generate:268 - Mistral request successful
2026-02-05 19:59:01 - backend.src_v3.infrastructure.ai.agents - INFO - analyze_session:519 - governance_llm_call
2026-02-05 19:59:01 - backend.src_v3.infrastructure.ai.agents - WARNING - _parse_response:543 - Failed to parse governance JSON: Expecting value: line 1 column 1 (char 0)
2026-02-05 19:59:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 19:59:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 34.19s ago] ('dc033152-26c6-4148-802a-064b8204e733', 'ce7fd8fa-ed47-4f7e-9b4d-a013d6b94bea', 'meta', 'governance_log', '{"risk_level": "medium", "dimension": "ai_dependency", "evidence": ["```json\\n{\\n  \\"risk_level\\": \\"INFO\\",\\n  \\"dimension\\": \\"Bienestar  ... (157 characters truncated) ... iando al estudiante"], "recommendation": "No se pudo interpretar correctamente la salida del LLM. Usar juicio docente para revisar la sesi\\u00f3n."}')
2026-02-05 19:59:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 293.5s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 293.6s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 293.5s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 293.5s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 293.5s ago] ('b1823f7c-3c5d-480d-922a-854e03cc375d', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 19:59:11 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:14 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 19:59:18 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:59:18 - watchfiles.main - INFO - _log_changes:308 - 25 changes detected
2026-02-05 19:59:20 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:59:20 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-05 19:59:20 - watchfiles.main - INFO - _log_changes:308 - 4 changes detected
2026-02-05 19:59:21 - watchfiles.main - INFO - _log_changes:308 - 10 changes detected
2026-02-05 19:59:21 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 317.3s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 317.3s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 317.2s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 317.2s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 317.2s ago] ('1f3a2fc1-aca3-4fe1-80bb-99e539617b3b', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 19:59:35 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:50 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.7s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 19:59:50 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 19:59:50 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 19:59:50 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 19:59:50 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 19:59:50 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 19:59:50 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.7s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.7s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.7s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.8s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.8s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.8s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:59:50 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 19:59:50 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:50 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.9s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 19:59:50 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 19:59:50 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 19:59:50 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 19:59:50 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 19:59:50 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 19:59:50 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.8s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.8s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.7s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.9s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.9s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.9s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.9s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:59:50 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 19:59:50 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 339.8s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:59:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.5s ago] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.5s ago] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.6s ago] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.5s ago] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.6s ago] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.6s ago] ('823f91a0-df3c-4fe0-8adb-c627e905af88',)
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.5s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '823f91a0-df3c-4fe0-8adb-c627e905af88')
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.6s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '823f91a0-df3c-4fe0-8adb-c627e905af88')
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.5s ago] ('dd4f19da-9aef-4a34-9401-d67170faabe3', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '823f91a0-df3c-4fe0-8adb-c627e905af88', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 334.6s ago] ('51c3adec-cbd6-4775-a1ca-b7af31ab5acf', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '823f91a0-df3c-4fe0-8adb-c627e905af88', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 19:59:52 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:59 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 348.9s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 19:59:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 19:59:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 19:59:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 19:59:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 19:59:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 19:59:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 348.9s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 348.9s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 348.9s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 348.9s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 348.9s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 348.9s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:59:59 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 19:59:59 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:59 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 349s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 19:59:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 19:59:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 19:59:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 19:59:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 19:59:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 19:59:59 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 349s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 349s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 348.9s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 349s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 349s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 349s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 349s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 19:59:59 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 19:59:59 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 348.9s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 19:59:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 343.8s ago] ('b9b1bd6d-d876-4e78-b4dc-42597ced131d',)
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 343.8s ago] ('b9b1bd6d-d876-4e78-b4dc-42597ced131d',)
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 343.8s ago] ('b9b1bd6d-d876-4e78-b4dc-42597ced131d',)
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 343.8s ago] ('b9b1bd6d-d876-4e78-b4dc-42597ced131d',)
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 343.9s ago] ('b9b1bd6d-d876-4e78-b4dc-42597ced131d',)
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 343.8s ago] ('b9b1bd6d-d876-4e78-b4dc-42597ced131d',)
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 343.8s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'b9b1bd6d-d876-4e78-b4dc-42597ced131d')
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 343.9s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'b9b1bd6d-d876-4e78-b4dc-42597ced131d')
2026-02-05 20:00:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:03 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 20:00:03 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 20:00:03 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 20:00:03 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 20:00:03 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 20:00:03 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 20:00:03 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:00:03 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 20:00:03 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:03 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353.1s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 20:00:03 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 20:00:03 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 20:00:03 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 20:00:03 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 20:00:03 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 20:00:03 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353.2s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353.2s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353.2s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353.3s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353.3s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353.4s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 353.3s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 20:00:03 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 20:00:03 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:03 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:19 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 20:00:19 - watchfiles.main - INFO - _log_changes:308 - 25 changes detected
2026-02-05 20:00:22 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 20:00:22 - watchfiles.main - INFO - _log_changes:308 - 12 changes detected
2026-02-05 20:00:24 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 20:00:25 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 20:00:26 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 20:00:26 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 20:00:28 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 378s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 20:00:28 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 20:00:28 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 20:00:28 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 20:00:28 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 20:00:28 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 20:00:28 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 378s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 378s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 378s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 378s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 378s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 378s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:00:28 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 20:00:28 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 377.9s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 377.9s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 20:00:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:39 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 389.4s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 20:00:39 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 20:00:39 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 20:00:39 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 20:00:39 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 20:00:39 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 20:00:39 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 389.4s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 389.4s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 389.4s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 389.4s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 389.4s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 389.4s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:00:39 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 20:00:39 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 389.3s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 389.3s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 20:00:39 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:40 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 20:00:40 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 384s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:00:40 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 384.1s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 384.1s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 384.1s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 384.1s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 384s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 384.1s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 384s ago] ('7207464a-9f03-4c49-9028-3fe137f353b5', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT status, final_grade, submitted_at, ai_feedback
            FROM submissions
            WHERE student_id = $1 AND activity_id = $2
              AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
            ORDER BY submitted_at DESC
            LIMIT 1
        
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 384.1s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO sessions_v2 (session_id, user_id, activity_id, mode, status, cognitive_status, session_metrics, start_time)
            VALUES ($1, $2, $3, $4, $5, CAST($6 AS jsonb), CAST($7 AS jsonb), NOW())
            RETURNING session_id
        
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 384.1s ago] ('27cfa92c-6799-42ef-a65e-b20e1155b916', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'socratic', 'active', '{"cognitive_phase": "exploration", "autonomy_level": 0.5, "engagement_score": 0.5, "ai_dependency_score": 0.0}', '{"total_interactions": 0, "hints_used": 0, "errors_encountered": 0}')
2026-02-05 20:00:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:01:10 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 20:01:12 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 20:01:13 - watchfiles.main - INFO - _log_changes:308 - 18 changes detected
2026-02-05 20:01:14 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 20:01:15 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-05 20:01:15 - watchfiles.main - INFO - _log_changes:308 - 10 changes detected
2026-02-05 20:01:15 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 20:01:16 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 20:01:48 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - __init__:90 - MistralProvider initialized
2026-02-05 20:01:48 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 20:01:48 - backend.src_v3.infrastructure.ai.rag.chroma_service - WARNING - __init__:43 - ChromaDB not available: {"error":"ChromaError","message":"Collection [ai_native_rag] already exists"} (trace ID: 00000000000000000000000000000000). RAG disabled.
2026-02-05 20:01:48 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - __init__:90 - MistralProvider initialized
2026-02-05 20:01:48 - backend.src_v3.application.student.use_cases - INFO - execute:122 - ğŸ’¬ SendMessage: session_id=27cfa92c-6799-42ef-a65e-b20e1155b916, message=dioos no entiendo
2026-02-05 20:01:48 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:01:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT session_id, user_id, activity_id, mode, status, 
                   cognitive_status, session_metrics, start_time, end_time
            FROM sessions_v2
            WHERE session_id = $1
        
2026-02-05 20:01:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 204.6s ago] ('27cfa92c-6799-42ef-a65e-b20e1155b916',)
2026-02-05 20:01:48 - backend.src_v3.application.student.use_cases - INFO - execute:126 - ğŸ“¦ Session found: True
2026-02-05 20:01:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT trace_id, session_id, interaction_type, interactional_data, timestamp
            FROM cognitive_traces_v2
            WHERE session_id = $1 
            AND interaction_type IN ('student_message', 'tutor_response', 'student_prompt')
            ORDER BY timestamp ASC
            LIMIT $2
        
2026-02-05 20:01:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 204.6s ago] ('27cfa92c-6799-42ef-a65e-b20e1155b916', 50)
2026-02-05 20:01:48 - backend.src_v3.application.student.use_cases - INFO - execute:134 - ğŸ“œ History length: 0
2026-02-05 20:01:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 20:01:48 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 204.6s ago] ('fd1f4443-32a3-4dd0-ac5d-6a5de400aaa0', '27cfa92c-6799-42ef-a65e-b20e1155b916', 'surface', 'student_message', '{"content": "dioos no entiendo", "metadata": {"current_code": "# Ejercicio: Contar n\\u00fameros pares con continue\\n#\\n# Tu tarea:\\n# 1. Define u ... (389 characters truncated) ... ares(lista)\\n", "error_context": null, "rag_context": null, "frustration_level": 0.0, "understanding_level": 0.5, "cognitive_phase": "exploration"}}')
2026-02-05 20:01:48 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:01:49 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - generate:268 - Mistral request successful
2026-02-05 20:01:49 - backend.src_v3.infrastructure.ai.agents - INFO - respond:163 - socratic_tutor_llm_call
2026-02-05 20:01:49 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:01:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 20:01:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 205.4s ago] ('90125013-8eaf-4f85-a826-78dc6c05a7b3', '27cfa92c-6799-42ef-a65e-b20e1155b916', 'surface', 'tutor_response', '{"content": "Entiendo que es desafiante. Empecemos por algo m\\u00e1s simple: \\u00bfQu\\u00e9 sabes sobre el operador m\\u00f3dulo (%) y c\\u00f3mo  ... (552 characters truncated) ... ares(lista)\\n", "error_context": null, "rag_context": null, "frustration_level": 0.0, "understanding_level": 0.5, "cognitive_phase": "exploration"}}')
2026-02-05 20:01:49 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:01:49 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:01:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT session_metrics FROM sessions_v2 WHERE session_id = $1
2026-02-05 20:01:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 204.8s ago] ('27cfa92c-6799-42ef-a65e-b20e1155b916',)
2026-02-05 20:01:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                UPDATE sessions_v2 
                SET session_metrics = CAST($1 AS jsonb)
                WHERE session_id = $2
            
2026-02-05 20:01:49 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 204.8s ago] ('{"hints_used": 0, "errors_encountered": 0, "total_interactions": 0}', '27cfa92c-6799-42ef-a65e-b20e1155b916')
2026-02-05 20:01:49 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:01:50 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - generate:268 - Mistral request successful
2026-02-05 20:01:50 - backend.src_v3.infrastructure.ai.agents - INFO - analyze_session:519 - governance_llm_call
2026-02-05 20:01:50 - backend.src_v3.infrastructure.ai.agents - WARNING - _parse_response:543 - Failed to parse governance JSON: Expecting value: line 1 column 1 (char 0)
2026-02-05 20:01:50 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:01:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 20:01:50 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 206.3s ago] ('65c0bce0-6c92-4298-9b0e-2108d771581e', '27cfa92c-6799-42ef-a65e-b20e1155b916', 'meta', 'governance_log', '{"risk_level": "medium", "dimension": "ai_dependency", "evidence": ["```json\\n{\\n  \\"risk_level\\": \\"INFO\\",\\n  \\"dimension\\": \\"Bienestar  ... (153 characters truncated) ... tion\\": \\"Monitor"], "recommendation": "No se pudo interpretar correctamente la salida del LLM. Usar juicio docente para revisar la sesi\\u00f3n."}')
2026-02-05 20:01:50 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:01:56 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 20:01:56 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - __init__:90 - MistralProvider initialized
2026-02-05 20:01:56 - chromadb.telemetry.product.posthog - ERROR - _direct_capture:61 - Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
2026-02-05 20:01:56 - backend.src_v3.infrastructure.ai.rag.chroma_service - WARNING - __init__:43 - ChromaDB not available: {"error":"ChromaError","message":"Collection [ai_native_rag] already exists"} (trace ID: 00000000000000000000000000000000). RAG disabled.
2026-02-05 20:01:56 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - __init__:90 - MistralProvider initialized
2026-02-05 20:01:56 - backend.src_v3.application.student.use_cases - INFO - execute:122 - ğŸ’¬ SendMessage: session_id=27cfa92c-6799-42ef-a65e-b20e1155b916, message=me podes pasar el codigo porfa
2026-02-05 20:01:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:01:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT session_id, user_id, activity_id, mode, status, 
                   cognitive_status, session_metrics, start_time, end_time
            FROM sessions_v2
            WHERE session_id = $1
        
2026-02-05 20:01:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 212.7s ago] ('27cfa92c-6799-42ef-a65e-b20e1155b916',)
2026-02-05 20:01:56 - backend.src_v3.application.student.use_cases - INFO - execute:126 - ğŸ“¦ Session found: True
2026-02-05 20:01:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT trace_id, session_id, interaction_type, interactional_data, timestamp
            FROM cognitive_traces_v2
            WHERE session_id = $1 
            AND interaction_type IN ('student_message', 'tutor_response', 'student_prompt')
            ORDER BY timestamp ASC
            LIMIT $2
        
2026-02-05 20:01:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 212.7s ago] ('27cfa92c-6799-42ef-a65e-b20e1155b916', 50)
2026-02-05 20:01:56 - backend.src_v3.application.student.use_cases - INFO - execute:134 - ğŸ“œ History length: 2
2026-02-05 20:01:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 20:01:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 212.6s ago] ('dee4629c-dd00-46e0-91d6-d4af464b31f9', '27cfa92c-6799-42ef-a65e-b20e1155b916', 'surface', 'student_message', '{"content": "me podes pasar el codigo porfa", "metadata": {"current_code": "# Ejercicio: Contar n\\u00fameros pares con continue\\n#\\n# Tu tarea:\\n ... (402 characters truncated) ... ares(lista)\\n", "error_context": null, "rag_context": null, "frustration_level": 0.0, "understanding_level": 0.5, "cognitive_phase": "exploration"}}')
2026-02-05 20:01:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:01:57 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 20:01:57 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - generate:268 - Mistral request successful
2026-02-05 20:01:57 - backend.src_v3.infrastructure.ai.agents - INFO - respond:163 - socratic_tutor_llm_call
2026-02-05 20:01:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:01:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 20:01:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.7s ago] ('c63a56ed-c4ab-46e0-98a7-fc2d2eb4cbc1', '27cfa92c-6799-42ef-a65e-b20e1155b916', 'surface', 'tutor_response', '{"content": "Lo siento, no puedo darte el c\\u00f3digo directamente. Pero puedo guiarte. \\u00bfQu\\u00e9 tal si empezamos por algo m\\u00e1s simple? ... (615 characters truncated) ... ares(lista)\\n", "error_context": null, "rag_context": null, "frustration_level": 0.0, "understanding_level": 0.5, "cognitive_phase": "exploration"}}')
2026-02-05 20:01:57 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:01:57 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:01:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT session_metrics FROM sessions_v2 WHERE session_id = $1
2026-02-05 20:01:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.1s ago] ('27cfa92c-6799-42ef-a65e-b20e1155b916',)
2026-02-05 20:01:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                UPDATE sessions_v2 
                SET session_metrics = CAST($1 AS jsonb)
                WHERE session_id = $2
            
2026-02-05 20:01:57 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 213.1s ago] ('{"hints_used": 0, "errors_encountered": 0, "total_interactions": 0}', '27cfa92c-6799-42ef-a65e-b20e1155b916')
2026-02-05 20:01:57 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:01:58 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - generate:268 - Mistral request successful
2026-02-05 20:01:58 - backend.src_v3.infrastructure.ai.agents - INFO - analyze_session:519 - governance_llm_call
2026-02-05 20:01:58 - backend.src_v3.infrastructure.ai.agents - WARNING - _parse_response:543 - Failed to parse governance JSON: Expecting value: line 1 column 1 (char 0)
2026-02-05 20:01:58 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:01:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 20:01:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 215.1s ago] ('b697ceda-7071-429f-908f-92c9818c43a0', '27cfa92c-6799-42ef-a65e-b20e1155b916', 'meta', 'governance_log', '{"risk_level": "medium", "dimension": "ai_dependency", "evidence": ["```json\\n{\\n  \\"risk_level\\": \\"LOW\\",\\n  \\"dimension\\": \\"Dependencia ... (159 characters truncated) ... er gu\\u00eda paso "], "recommendation": "No se pudo interpretar correctamente la salida del LLM. Usar juicio docente para revisar la sesi\\u00f3n."}')
2026-02-05 20:01:58 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:01:59 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 20:01:59 - watchfiles.main - INFO - _log_changes:308 - 8 changes detected
2026-02-05 20:02:00 - watchfiles.main - INFO - _log_changes:308 - 2 changes detected
2026-02-05 20:02:01 - watchfiles.main - INFO - _log_changes:308 - 13 changes detected
2026-02-05 20:02:01 - watchfiles.main - INFO - _log_changes:308 - 18 changes detected
2026-02-05 20:02:02 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 20:02:02 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 20:02:03 - watchfiles.main - INFO - _log_changes:308 - 253 changes detected
2026-02-05 20:02:03 - watchfiles.main - INFO - _log_changes:308 - 118 changes detected
2026-02-05 20:02:03 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 20:02:04 - watchfiles.main - INFO - _log_changes:308 - 64 changes detected
2026-02-05 20:02:04 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 20:02:06 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - __init__:90 - MistralProvider initialized
2026-02-05 20:02:06 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:455 - --- SUBMIT CODE CMD --- Session: 27cfa92c-6799-42ef-a65e-b20e1155b916, Final: True
2026-02-05 20:02:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:02:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT user_id, activity_id FROM sessions_v2 WHERE session_id = $1
            
2026-02-05 20:02:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00194s] ('27cfa92c-6799-42ef-a65e-b20e1155b916',)
2026-02-05 20:02:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade FROM submissions
                    WHERE student_id = $1 AND activity_id = $2 
                      AND status IN ('submitted', 'graded', 'reviewed') AND final_grade IS NOT NULL
                    ORDER BY submitted_at DESC
                    LIMIT 1
                
2026-02-05 20:02:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00123s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 20:02:06 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:487 - Submitting code for session 27cfa92c-6799-42ef-a65e-b20e1155b916, exercise 4892e969-b181-4443-a37a-fe3ee33732d2
2026-02-05 20:02:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT session_id, user_id, activity_id, mode, status, 
                   cognitive_status, session_metrics, start_time, end_time
            FROM sessions_v2
            WHERE session_id = $1
        
2026-02-05 20:02:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 223s ago] ('27cfa92c-6799-42ef-a65e-b20e1155b916',)
2026-02-05 20:02:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE exercise_id = $1
                
2026-02-05 20:02:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00179s] ('4892e969-b181-4443-a37a-fe3ee33732d2',)
2026-02-05 20:02:06 - backend.src_v3.infrastructure.sandbox.service - INFO - execute_code:165 - sandbox_execution
2026-02-05 20:02:06 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 20:02:08 - backend.src_v3.infrastructure.llm.mistral_provider - INFO - generate:268 - Mistral request successful
2026-02-05 20:02:08 - backend.src_v3.infrastructure.ai.agents - INFO - audit:375 - code_auditor_llm_call
2026-02-05 20:02:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO cognitive_traces_v2 
            (trace_id, session_id, trace_level, interaction_type, interactional_data, timestamp)
            VALUES ($1, $2, $3, $4, CAST($5 AS jsonb), NOW())
        
2026-02-05 20:02:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 224.4s ago] ('29ee25f9-572d-4b2d-bd4a-4e0033470854', '27cfa92c-6799-42ef-a65e-b20e1155b916', 'surface', 'tutor_response', '{"content": "**Evaluaci\\u00f3n IA:** 0/100\\n\\n**An\\u00e1lisis:** El c\\u00f3digo no cumple con la consigna ya que no implementa la funci\\u00f3n  ... (669 characters truncated) ...  aqu\\u00ed:\\n", "error_context": null, "rag_context": null, "frustration_level": 0.0, "understanding_level": 0.5, "cognitive_phase": "validation"}}')
2026-02-05 20:02:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:02:08 - backend.src_v3.application.student.use_cases - INFO - execute:428 - === EXERCISE ATTEMPT SAVE CHECK === exercise_id=4892e969-b181-4443-a37a-fe3ee33732d2, session=True
2026-02-05 20:02:08 - backend.src_v3.application.student.use_cases - INFO - execute:431 - Saving exercise attempt: session_id=27cfa92c-6799-42ef-a65e-b20e1155b916, user_id=91880ff2-3d5b-4ee9-acb5-61dafccf74b6, exercise_id=4892e969-b181-4443-a37a-fe3ee33732d2, grade=0
2026-02-05 20:02:08 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:02:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            INSERT INTO exercise_attempts_v2 
            (attempt_id, session_id, user_id, exercise_id, code_submitted, passed, grade, ai_feedback, execution_output, submitted_at)
            VALUES ($1, $2, NULL, $3, $4, $5, $6, $7, CAST($8 AS jsonb), NOW())
        
2026-02-05 20:02:08 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00344s] ('8be6ce8f-9b0d-4052-8210-bf000fca0b4d', '27cfa92c-6799-42ef-a65e-b20e1155b916', '4892e969-b181-4443-a37a-fe3ee33732d2', '# Ejercicio: Generador de combinaciones con bucles anidados\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada generar_combinaciones\n# 2. La funciÃ³n debe recibir dos listas\n# 3. Debe retornar una lista de tuplas con las combinaciones\n#\n# Escribe tu cÃ³digo aquÃ­:\n', False, 0, 'El cÃ³digo no cumple con la consigna ya que no implementa la funciÃ³n requerida y no produce ningÃºn resultado. AdemÃ¡s, el cÃ³digo estÃ¡ vacÃ­o y no muestra ningÃºn intento de soluciÃ³n.', '{"exit_code": 1, "stdout": "", "stderr": "FFF\\n======================================================================\\nFAIL: test_case_1 (__main__. ... (292 characters truncated) ... 0f3 caso 1: Test b\\u00e1sico con dos listas\\n\\n======================================================================\\nFAIL: test_case_2 (__mai"}')
2026-02-05 20:02:08 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:02:08 - backend.src_v3.application.student.use_cases - INFO - execute:447 - Exercise attempt saved successfully!
2026-02-05 20:02:08 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:494 - Submit execution success. Result keys: dict_keys(['grade', 'feedback', 'suggestion', 'tests_passed', 'passed', 'details', 'execution'])
2026-02-05 20:02:08 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:498 - Performing Full Activity Audit (Final Submission detected)
2026-02-05 20:02:08 - watchfiles.main - INFO - _log_changes:308 - 61 changes detected
2026-02-05 20:02:10 - watchfiles.main - INFO - _log_changes:308 - 23 changes detected
2026-02-05 20:02:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:507 - Fetching session context for 27cfa92c-6799-42ef-a65e-b20e1155b916
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT activity_id, user_id FROM sessions_v2 WHERE session_id = $1
                
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00144s] ('27cfa92c-6799-42ef-a65e-b20e1155b916',)
2026-02-05 20:02:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:515 - Context found: Activity=d9b70970-7615-4e35-aa87-d8ef68bb35e0, Student=91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 20:02:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:519 - Saving 10 exercise codes from frontend
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaciÃ³n', $4, $5)
                                    
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00146s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'f20355c6-c14e-4fec-b3e1-293dec88c7f0', '# Ejercicio: Contar nÃºmeros pares con continue\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada contar_impares\n# 2. La funciÃ³n debe recibir una list ... (132 characters truncated) ... numeros:\n        if n % 2 == 0:\n            continue\n        print(n)\n\n# Ejemplo de uso:\nlista = [1, 2, 3, 4, 5, 6, 7]\ncontar_impares(lista)\n', datetime.datetime(2026, 2, 5, 20, 2, 15, 465856), '27cfa92c-6799-42ef-a65e-b20e1155b916')
2026-02-05 20:02:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:535 - Saved code for exercise f20355c6-c14e-4fec-b3e1-293dec88c7f0
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaciÃ³n', $4, $5)
                                    
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.009836s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd90b4e7e-09da-4a24-8cc9-842e10f40779', '# Ejercicio: Tabla de multiplicar con bucles anidados\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada tabla_multiplicar\n# 2. La funciÃ³n debe recibir un nÃºmero entero n\n# 3. Debe imprimir una tabla de multiplicar n x n\n#\n# Escribe tu cÃ³digo aquÃ­:\n', datetime.datetime(2026, 2, 5, 20, 2, 15, 474425), '27cfa92c-6799-42ef-a65e-b20e1155b916')
2026-02-05 20:02:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:535 - Saved code for exercise d90b4e7e-09da-4a24-8cc9-842e10f40779
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaciÃ³n', $4, $5)
                                    
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01635s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '1a6debc7-6849-457a-af36-8847d320491c', '# Ejercicio: Contador de caracteres con while\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada contar_caracter\n# 2. La funciÃ³n debe recibir una cadena y un carÃ¡cter\n# 3. Debe retornar el conteo del carÃ¡cter en la cadena\n#\n# Escribe tu cÃ³digo aquÃ­:\n', datetime.datetime(2026, 2, 5, 20, 2, 15, 479931), '27cfa92c-6799-42ef-a65e-b20e1155b916')
2026-02-05 20:02:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:535 - Saved code for exercise 1a6debc7-6849-457a-af36-8847d320491c
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaciÃ³n', $4, $5)
                                    
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02218s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'c8cd395f-a957-47fe-b599-647c63609680', '# Ejercicio: IteraciÃ³n sobre diccionario con else\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada iterar_diccionario\n# 2. La funciÃ³n debe recibir un diccionario\n# 3. Debe imprimir cada clave y valor\n# 4. Debe imprimir un mensaje al final usando else\n#\n# Escribe tu cÃ³digo aquÃ­:\n', datetime.datetime(2026, 2, 5, 20, 2, 15, 486685), '27cfa92c-6799-42ef-a65e-b20e1155b916')
2026-02-05 20:02:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:535 - Saved code for exercise c8cd395f-a957-47fe-b599-647c63609680
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaciÃ³n', $4, $5)
                                    
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0275s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '52ede8eb-8170-442a-bbba-8b30c2d7a4a6', '# Ejercicio: Generador de secuencias con range\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada generar_secuencias\n# 2. La funciÃ³n debe recibir tres nÃºmeros: n1, n2, paso\n# 3. Debe imprimir tres secuencias diferentes\n#\n# Escribe tu cÃ³digo aquÃ­:\n', datetime.datetime(2026, 2, 5, 20, 2, 15, 492263), '27cfa92c-6799-42ef-a65e-b20e1155b916')
2026-02-05 20:02:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:535 - Saved code for exercise 52ede8eb-8170-442a-bbba-8b30c2d7a4a6
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaciÃ³n', $4, $5)
                                    
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03245s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '669b936b-85ad-4e2d-b6db-bb99293260dc', '# Ejercicio: BÃºsqueda con break y else\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada buscar_elemento\n# 2. La funciÃ³n debe recibir una lista y un  ... (2 characters truncated) ... emento\n# 3. Debe imprimir la posiciÃ³n del elemento si lo encuentra\n# 4. Debe imprimir un mensaje si no lo encuentra\n#\n# Escribe tu cÃ³digo aquÃ­:\n', datetime.datetime(2026, 2, 5, 20, 2, 15, 497165), '27cfa92c-6799-42ef-a65e-b20e1155b916')
2026-02-05 20:02:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:535 - Saved code for exercise 669b936b-85ad-4e2d-b6db-bb99293260dc
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaciÃ³n', $4, $5)
                                    
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03844s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '2962fa13-fc66-4751-b8fb-e4b349abd99f', '# Ejercicio: Contador de vocales con while\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada contar_vocales\n# 2. La funciÃ³n debe recibir una cadena\n# 3. Debe retornar el conteo de vocales\n#\n# Escribe tu cÃ³digo aquÃ­:\n', datetime.datetime(2026, 2, 5, 20, 2, 15, 503112), '27cfa92c-6799-42ef-a65e-b20e1155b916')
2026-02-05 20:02:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:535 - Saved code for exercise 2962fa13-fc66-4751-b8fb-e4b349abd99f
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaciÃ³n', $4, $5)
                                    
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.0445s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '35bd1d20-10a8-46bc-918b-030ffaaab8c4', '# Ejercicio: Generador de patrones con bucles anidados\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada generar_patrones\n# 2. La funciÃ³n debe recibir un nÃºmero entero n\n# 3. Debe imprimir tres patrones diferentes\n#\n# Escribe tu cÃ³digo aquÃ­:\n', datetime.datetime(2026, 2, 5, 20, 2, 15, 508256), '27cfa92c-6799-42ef-a65e-b20e1155b916')
2026-02-05 20:02:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:535 - Saved code for exercise 35bd1d20-10a8-46bc-918b-030ffaaab8c4
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaciÃ³n', $4, $5)
                                    
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04975s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'facf1298-eed1-4041-8602-bf8553049906', '# Ejercicio: BÃºsqueda binaria con while\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada busqueda_binaria\n# 2. La funciÃ³n debe recibir una lista ord ... (3 characters truncated) ... da y un elemento\n# 3. Debe retornar el Ã­ndice del elemento si lo encuentra\n# 4. Debe retornar -1 si no lo encuentra\n#\n# Escribe tu cÃ³digo aquÃ­:\n', datetime.datetime(2026, 2, 5, 20, 2, 15, 514537), '27cfa92c-6799-42ef-a65e-b20e1155b916')
2026-02-05 20:02:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:535 - Saved code for exercise facf1298-eed1-4041-8602-bf8553049906
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        INSERT INTO exercise_attempts_v2 
                                        (user_id, exercise_id, code_submitted, passed, grade, ai_feedback, submitted_at, session_id)
                                        VALUES ($1, $2, $3, false, 0, 'Pendiente de evaluaciÃ³n', $4, $5)
                                    
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05543s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', '4892e969-b181-4443-a37a-fe3ee33732d2', '# Ejercicio: Generador de combinaciones con bucles anidados\n#\n# Tu tarea:\n# 1. Define una funciÃ³n llamada generar_combinaciones\n# 2. La funciÃ³n debe recibir dos listas\n# 3. Debe retornar una lista de tuplas con las combinaciones\n#\n# Escribe tu cÃ³digo aquÃ­:\n', datetime.datetime(2026, 2, 5, 20, 2, 15, 519641), '27cfa92c-6799-42ef-a65e-b20e1155b916')
2026-02-05 20:02:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:535 - Saved code for exercise 4892e969-b181-4443-a37a-fe3ee33732d2
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:02:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:540 - All exercise codes saved successfully
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        WITH latest_attempts AS (
                            SELECT 
                                exercise_id,
                                code_submitted,
                                passed,
                                submitted_at,
                                ROW_NUMBER() OVER (PARTITION BY exercise_id ORDER BY submitted_at DESC) as rn
                            FROM exercise_attempts_v2
                            WHERE user_id = $1
                        )
                        SELECT 
                            e.exercise_id,
                            e.title,
                            e.difficulty,
                            COALESCE(la.code_submitted, '') as code_submitted,
                            COALESCE(la.passed, false) as passed
                        FROM exercises_v2 e
                        LEFT JOIN latest_attempts la ON e.exercise_id = la.exercise_id AND la.rn = 1
                        WHERE e.activity_id = $2 AND e.deleted_at IS NULL
                        ORDER BY e.unit_number
                    
2026-02-05 20:02:15 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00190s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 20:02:15 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:611 - Mistral Key Present: True, Length: 32
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00163s] (20, 'El ejercicio estÃ¡ mal nombrado (deberÃ­a ser contar_impares) y la funciÃ³n no estÃ¡ completa (falta el ejemplo de uso). AdemÃ¡s, el ejercicio pedÃ­a contar, no imprimir.', False, 'f20355c6-c14e-4fec-b3e1-293dec88c7f0', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6')
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.006588s ago] (0, 'El ejercicio estÃ¡ completamente vacÃ­o. Falta implementar la funciÃ³n y los bucles anidados para generar la tabla de multiplicar.', False, 'd90b4e7e-09da-4a24-8cc9-842e10f40779', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6')
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.01302s ago] (0, 'No hay cÃ³digo implementado. Se requiere usar un bucle while para contar las ocurrencias de un carÃ¡cter en una cadena.', False, '1a6debc7-6849-457a-af36-8847d320491c', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6')
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.017s ago] (0, 'El ejercicio estÃ¡ vacÃ­o. Se debe iterar sobre un diccionario e imprimir clave-valor, usando el bloque else al finalizar.', False, 'c8cd395f-a957-47fe-b599-647c63609680', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6')
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02216s ago] (0, 'No hay implementaciÃ³n. Se deben generar tres secuencias diferentes usando range con los parÃ¡metros n1, n2 y paso.', False, '52ede8eb-8170-442a-bbba-8b30c2d7a4a6', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6')
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02596s ago] (0, 'Ejercicio vacÃ­o. Se debe buscar un elemento en una lista, usando break al encontrarlo y else si no estÃ¡.', False, '669b936b-85ad-4e2d-b6db-bb99293260dc', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6')
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03063s ago] (0, 'No hay cÃ³digo. Se requiere contar vocales en una cadena usando un bucle while.', False, '2962fa13-fc66-4751-b8fb-e4b349abd99f', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6')
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03436s ago] (0, 'Ejercicio vacÃ­o. Se deben generar tres patrones diferentes usando bucles anidados para un nÃºmero n.', False, '35bd1d20-10a8-46bc-918b-030ffaaab8c4', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6')
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.03888s ago] (0, 'No hay implementaciÃ³n. Se debe implementar el algoritmo de bÃºsqueda binaria usando un bucle while.', False, 'facf1298-eed1-4041-8602-bf8553049906', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6')
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                        UPDATE exercise_attempts_v2 
                                        SET grade = $1, ai_feedback = $2, passed = $3
                                        WHERE attempt_id = (
                                            SELECT attempt_id FROM exercise_attempts_v2 
                                            WHERE exercise_id = $4 AND user_id = $5 
                                            ORDER BY submitted_at DESC LIMIT 1
                                        )
                                    
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.04482s ago] (0, 'Ejercicio vacÃ­o. Se deben generar todas las combinaciones posibles entre dos listas usando bucles anidados.', False, '4892e969-b181-4443-a37a-fe3ee33732d2', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6')
2026-02-05 20:02:28 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:673 - Starting risk analysis for session 27cfa92c-6799-42ef-a65e-b20e1155b916
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                SELECT COUNT(*) FROM cognitive_traces_v2 
                                WHERE session_id = $1 AND interaction_type = 'tutor_response'
                            
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00301s] ('27cfa92c-6799-42ef-a65e-b20e1155b916',)
2026-02-05 20:02:28 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:682 - Tutor messages: 3
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                SELECT interactional_data->>'content' as content
                                FROM cognitive_traces_v2
                                WHERE session_id = $1 AND interaction_type = 'student_message'
                                ORDER BY timestamp
                            
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00128s] ('27cfa92c-6799-42ef-a65e-b20e1155b916',)
2026-02-05 20:02:28 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:693 - Student messages count: 2
2026-02-05 20:02:28 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:698 - Total submissions (exercises): 10
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                INSERT INTO risks_v2 
                                (risk_id, session_id, activity_id, risk_level, risk_dimension, description, recommendations, resolved, created_at)
                                VALUES ($1, $2, $3, $4, $5, $6, $7, false, NOW())
                            
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00185s] ('1b6e1c6f-38d6-41ea-99ed-fc2b7dc678b5', '27cfa92c-6799-42ef-a65e-b20e1155b916', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', 'low', 'ai_dependency', 'Uso apropiado de IA (score: 0/100). Consultas conceptuales y trabajo autÃ³nomo.', '{"risk_score": 0, "ai_dependency_ratio": 0.3, "tutor_messages": 3, "code_submissions": 10, "code_requests": 0, "code_request_ratio": 0.0, "profanity_ ... (172 characters truncated) ...  ejercicios propuestos. Es fundamental practicar los conceptos b\\u00e1sicos de bucles y estructuras de control para avanzar en programaci\\u00f3n."}')
2026-02-05 20:02:28 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:835 - Risk analysis complete: level=low, score=0, code_requests=0, profanity=0
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                                INSERT INTO submissions (
                                    submission_id, student_id, activity_id, code_snapshot,
                                    status, submitted_at, auto_grade, final_grade, ai_feedback,
                                    created_at, updated_at
                                )
                                VALUES ($1, $2, $3, $4, $5, $6, 
                                        $7, $8, $9, NOW(), NOW())
                                ON CONFLICT (submission_id) DO UPDATE SET
                                    final_grade = EXCLUDED.final_grade,
                                    ai_feedback = EXCLUDED.ai_feedback,
                                    updated_at = NOW()
                            
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00144s] ('0272be5a-aa60-41b0-a3dc-34575116fa06', '91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0', '', 'submitted', datetime.datetime(2026, 2, 5, 20, 2, 28, 417782), 10, 10, 'El estudiante no ha completado ninguno de los ejercicios propuestos. Es fundamental practicar los conceptos bÃ¡sicos de bucles y estructuras de control para avanzar en programaciÃ³n.')
2026-02-05 20:02:28 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:02:28 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - submit_code:865 - Full activity audit completed. Risk level: low, AI dependency: 0.30, Final grade: 10
2026-02-05 20:02:41 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.5s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 20:02:41 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 20:02:41 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 20:02:41 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 20:02:41 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 20:02:41 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 20:02:41 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.4s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.4s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.4s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.5s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.5s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.5s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:02:41 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 20:02:41 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:02:41 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for student_courses - executing function
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT enrollments.enrollment_id, enrollments.user_id, enrollments.course_id, enrollments.module_id, enrollments.role, enrollments.status, enrollments.enrolled_at, enrollments.completed_at, enrollments.dropped_at, enrollments.metadata_json, enrollments.created_at, enrollments.updated_at 
FROM enrollments 
WHERE enrollments.user_id = $1::VARCHAR AND enrollments.status = $2::enrollment_status_new
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.5s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'ACTIVE')
2026-02-05 20:02:41 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2409 - ğŸ“š Found 2 enrollments for student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6
2026-02-05 20:02:41 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 52738ad0-80d2-47de-8d56-dcd266da25e3
2026-02-05 20:02:41 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2422 -    ğŸ“ Enrollment has module_id: 150ff713-e5fd-4ae2-bfe0-23ae281c123e
2026-02-05 20:02:41 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2424 - ğŸ“Š Grouped into 2 courses
2026-02-05 20:02:41 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course d94012e5-518d-451b-b8e0-ae81cf711050: 1 modules
2026-02-05 20:02:41 - backend.src_v3.infrastructure.http.api.v3.routers.student_router - INFO - list_student_courses:2426 -    Course a8133b07-5483-4fe7-8582-0916d81a37f2: 1 modules
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.5s ago] ('d94012e5-518d-451b-b8e0-ae81cf711050',)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.5s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.5s ago] ('52738ad0-80d2-47de-8d56-dcd266da25e3',)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.4s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT course_id, subject_code, year, semester
                    FROM courses
                    WHERE course_id = $1
                
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.5s ago] ('a8133b07-5483-4fe7-8582-0916d81a37f2',)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT modules.module_id, modules.course_id, modules.title, modules.description, modules.order_index, modules.is_published, modules.metadata_json, modules.created_at, modules.updated_at 
FROM modules 
WHERE modules.module_id = $1::VARCHAR AND modules.is_published = true
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.5s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                        SELECT activity_id, title, instructions, status, subject, unit_id, 
                               difficulty_level, created_at, order_index
                        FROM activities
                        WHERE module_id = $1
                          AND (status = 'active' OR status = 'published')
                        ORDER BY order_index ASC, created_at DESC
                    
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.5s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:02:41 - backend.src_v3.infrastructure.cache.redis_client - ERROR - set:182 - âŒ Unexpected error in SET for key cache:student_courses:1da9b1a2f54289424dfc9725f82448fa: Object of type CourseWithModules is not JSON serializable
2026-02-05 20:02:41 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for student_courses (TTL: 120s)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT user_gamification.user_id, user_gamification.xp, user_gamification.level, user_gamification.streak_days, user_gamification.last_activity_date, user_gamification.longest_streak, user_gamification.achievements, user_gamification.badges, user_gamification.total_exercises_completed, user_gamification.total_activities_completed, user_gamification.total_hints_used, user_gamification.created_at, user_gamification.updated_at 
FROM user_gamification 
WHERE user_gamification.user_id = $1::VARCHAR
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 513.4s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 20:02:41 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:02:46 - watchfiles.main - INFO - _log_changes:308 - 13 changes detected
2026-02-05 20:02:48 - watchfiles.main - INFO - _log_changes:308 - 9 changes detected
2026-02-05 20:02:49 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 20:02:51 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 20:02:52 - watchfiles.main - INFO - _log_changes:308 - 40 changes detected
2026-02-05 20:02:54 - watchfiles.main - INFO - _log_changes:308 - 3 changes detected
2026-02-05 20:02:54 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 20:02:54 - watchfiles.main - INFO - _log_changes:308 - 5 changes detected
2026-02-05 20:02:55 - watchfiles.main - INFO - _log_changes:308 - 1 change detected
2026-02-05 20:02:55 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:02:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, username, email, full_name, roles, hashed_password, is_active
            FROM users
            WHERE email = $1
            
2026-02-05 20:02:55 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00143s] ('docente@ainative.edu',)
2026-02-05 20:02:55 - backend.src_v3.infrastructure.http.api.v3.routers.auth_router - INFO - login:155 - Successful login for user: docente@ainative.edu
2026-02-05 20:02:55 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:02:56 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:113 - âŒ Cache MISS for teacher_modules - executing function
2026-02-05 20:02:56 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:02:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                m.module_id,
                m.title as name,
                m.description,
                m.course_id,
                c.subject_code,
                c.year,
                c.semester,
                m.created_at,
                COUNT(DISTINCT e_students.enrollment_id) as student_count
            FROM modules m
            JOIN courses c ON m.course_id = c.course_id
            JOIN enrollments e_teacher ON c.course_id = e_teacher.course_id
            LEFT JOIN enrollments e_students ON m.module_id = e_students.module_id 
                AND e_students.role = 'STUDENT' 
                AND e_students.status = 'ACTIVE'
            WHERE e_teacher.user_id = $1
              AND e_teacher.role = 'TEACHER'
              AND e_teacher.status = 'ACTIVE'
            GROUP BY m.module_id, m.title, m.description, m.course_id, 
                     c.subject_code, c.year, c.semester, m.created_at
            ORDER BY m.created_at DESC
        
2026-02-05 20:02:56 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00382s] ('1be823c5-22aa-4b70-b06d-f7f3ecad978e',)
2026-02-05 20:02:56 - backend.src_v3.infrastructure.cache.redis_client - INFO - set:175 - âœ… Cache SET successful: cache:teacher_modules:4d7d8be188160bb75e8ee994f0e39637
2026-02-05 20:02:56 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:118 - ğŸ’¾ Cached result for teacher_modules (TTL: 90s)
2026-02-05 20:02:56 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:02:58 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:02:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-05 20:02:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00211s] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e', 'ACTIVE')
2026-02-05 20:02:58 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:02:58 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:02:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-05 20:02:58 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02701s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e', 'ACTIVE')
2026-02-05 20:02:58 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:02:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:02:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-05 20:02:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00225s] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:02:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2592 - ğŸ“Š Module 150ff713-e5fd-4ae2-bfe0-23ae281c123e - Found 2 activities
2026-02-05 20:02:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2609 - ğŸ“Š Returning 2 activities
2026-02-05 20:02:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:02:59 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:02:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-05 20:02:59 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.02878s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:02:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2592 - ğŸ“Š Module 150ff713-e5fd-4ae2-bfe0-23ae281c123e - Found 2 activities
2026-02-05 20:02:59 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2609 - ğŸ“Š Returning 2 activities
2026-02-05 20:02:59 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:03:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:03:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-05 20:03:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 3.098s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e', 'ACTIVE')
2026-02-05 20:03:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:03:01 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:03:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                e.enrollment_id,
                e.user_id,
                e.role,
                e.status,
                e.enrolled_at,
                u.full_name,
                u.email
            FROM enrollments e
            JOIN users u ON e.user_id = u.id
            WHERE e.module_id = $1
         AND e.status = $2 ORDER BY e.enrolled_at DESC
2026-02-05 20:03:01 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 3.11s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e', 'ACTIVE')
2026-02-05 20:03:01 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:03:03 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:03:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-05 20:03:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 4.312s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:03:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2592 - ğŸ“Š Module 150ff713-e5fd-4ae2-bfe0-23ae281c123e - Found 2 activities
2026-02-05 20:03:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2609 - ğŸ“Š Returning 2 activities
2026-02-05 20:03:03 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:03:03 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:03:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                a.activity_id,
                a.title,
                a.instructions,
                a.difficulty,
                a.estimated_duration_minutes,
                a.order_index,
                a.status,
                a.created_at,
                COUNT(DISTINCT s.submission_id) as total_submissions,
                COUNT(DISTINCT CASE WHEN s.status = 'graded' THEN s.submission_id END) as graded_submissions
            FROM activities a
            LEFT JOIN submissions s ON a.activity_id = s.activity_id
            WHERE a.module_id = $1
            GROUP BY a.activity_id
            ORDER BY a.order_index ASC, a.created_at DESC
        
2026-02-05 20:03:03 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 4.327s ago] ('150ff713-e5fd-4ae2-bfe0-23ae281c123e',)
2026-02-05 20:03:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2592 - ğŸ“Š Module 150ff713-e5fd-4ae2-bfe0-23ae281c123e - Found 2 activities
2026-02-05 20:03:03 - backend.src_v3.infrastructure.http.api.v3.routers.teacher_router - INFO - get_module_activities:2609 - ğŸ“Š Returning 2 activities
2026-02-05 20:03:03 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 531.7s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00212s] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 531.6s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 531.7s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT exercise_id, title, description, difficulty, language, 
                       mission_markdown, starter_code, solution_code, test_cases
                FROM exercises_v2
                WHERE activity_id = $1
                ORDER BY created_at ASC
                
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 531.7s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT
                    u.id as student_id,
                    u.email,
                    u.full_name,
                    COUNT(DISTINCT ex.exercise_id) as total_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as submitted_exercises,
                    COUNT(DISTINCT CASE WHEN att.passed = true THEN ex.exercise_id END) as graded_exercises,
                    AVG(CASE WHEN att.passed = true THEN 10 ELSE 5 END) as avg_score,
                    MAX(att.submitted_at) as last_submission
                FROM users u
                INNER JOIN sessions_v2 s ON s.user_id = u.id
                CROSS JOIN exercises_v2 ex
                LEFT JOIN exercise_attempts_v2 att ON att.exercise_id = ex.exercise_id AND att.user_id = u.id
                WHERE s.activity_id = $1
                AND u.roles @> '["student"]'::jsonb
                GROUP BY u.id, u.email, u.full_name
                ORDER BY u.full_name
            
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.05211s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00191s] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 531.7s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT ON (sv.user_id)
                sv.session_id, sv.user_id, sv.activity_id, sv.status, sv.session_metrics, sv.start_time,
                u.id, u.full_name, u.username, u.email
            FROM sessions_v2 sv
            LEFT JOIN users u ON sv.user_id = u.id
            WHERE sv.activity_id = $1
            ORDER BY sv.user_id, sv.start_time DESC
        
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00223s] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 531.8s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00179s] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00240s] ('27cfa92c-6799-42ef-a65e-b20e1155b916', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 531.8s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:331 - Student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6 - Found 10 exercises, 10 graded, total: 20
2026-02-05 20:03:06 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:337 - Grade from session_metrics: None
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00177s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 20:03:06 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:350 - Grade from submissions: 10.0
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00156s] ('27cfa92c-6799-42ef-a65e-b20e1155b916',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 20:03:06 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:556 - Retrieved 1 total analytics (sessions + submissions) for activity d9b70970-7615-4e35-aa87-d8ef68bb35e0
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT activity_id, course_id, teacher_id, title, subject, instructions, status, policies, created_at
            FROM activities
            WHERE activity_id = $1
        
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 531.8s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2702 - ROLLBACK
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - SELECT activities.activity_id, activities.title, activities.subject, activities.unit_id, activities.teacher_id, activities.course_id, activities.module_id, activities.order_index, activities.instructions, activities.status, activities.difficulty_level, activities.policies, activities.start_date, activities.end_date, activities.created_at, activities.deleted_at 
FROM activities 
WHERE activities.activity_id = $1::VARCHAR
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.1049s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT ON (sv.user_id)
                sv.session_id, sv.user_id, sv.activity_id, sv.status, sv.session_metrics, sv.start_time,
                u.id, u.full_name, u.username, u.email
            FROM sessions_v2 sv
            LEFT JOIN users u ON sv.user_id = u.id
            WHERE sv.activity_id = $1
            ORDER BY sv.user_id, sv.start_time DESC
        
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.09063s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT DISTINCT s.student_id, u.full_name, u.email
            FROM submissions s
            LEFT JOIN users u ON s.student_id = u.id
            WHERE s.activity_id = $1
              AND NOT EXISTS (
                  SELECT 1 FROM sessions_v2 sv
                  WHERE sv.user_id = s.student_id 
                    AND sv.activity_id = s.activity_id
              )
            ORDER BY u.full_name, u.email
        
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07585s ago] ('d9b70970-7615-4e35-aa87-d8ef68bb35e0',)
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    ea.exercise_id,
                    e.title,
                    ea.grade,
                    ea.ai_feedback
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 
                  AND e.activity_id = $2
                  AND ea.attempt_id = (
                      SELECT attempt_id FROM exercise_attempts_v2 
                      WHERE exercise_id = ea.exercise_id AND session_id = $1
                      ORDER BY submitted_at DESC LIMIT 1
                  )
                ORDER BY e.unit_number
            
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.07585s ago] ('27cfa92c-6799-42ef-a65e-b20e1155b916', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 20:03:06 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:331 - Student 91880ff2-3d5b-4ee9-acb5-61dafccf74b6 - Found 10 exercises, 10 graded, total: 20
2026-02-05 20:03:06 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:337 - Grade from session_metrics: None
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                    SELECT final_grade 
                    FROM submissions 
                    WHERE student_id = $1 AND activity_id = $2
                    ORDER BY created_at DESC LIMIT 1
                
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06878s ago] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 20:03:06 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:350 - Grade from submissions: 10.0
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 0.06804s ago] ('27cfa92c-6799-42ef-a65e-b20e1155b916',)
2026-02-05 20:03:06 - backend.src_v3.infrastructure.http.api.v3.routers.analytics_router - INFO - get_activity_submissions_analytics:556 - Retrieved 1 total analytics (sessions + submissions) for activity d9b70970-7615-4e35-aa87-d8ef68bb35e0
2026-02-05 20:03:06 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:03:12 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2699 - BEGIN (implicit)
2026-02-05 20:03:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT id, full_name, username, email FROM users WHERE id = $1
        
2026-02-05 20:03:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00144s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6',)
2026-02-05 20:03:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
            SELECT 
                sv.session_id,
                sv.activity_id,
                a.title as activity_title,
                sv.status,
                sv.cognitive_status,
                sv.session_metrics,
                sv.start_time,
                sv.end_time,
                sv.user_id
            FROM sessions_v2 sv
            LEFT JOIN activities a ON sv.activity_id = a.activity_id
            WHERE sv.user_id = $1
         AND sv.activity_id = $2 ORDER BY sv.start_time DESC LIMIT 1
2026-02-05 20:03:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00189s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 20:03:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT 
                    timestamp,
                    interaction_type,
                    interactional_data,
                    cognitive_reasoning,
                    COALESCE(ai_involvement, 0) as frustration,
                    COALESCE(ai_involvement, 0.5) as understanding
                FROM cognitive_traces_v2
                WHERE session_id = $1
                ORDER BY timestamp
            
2026-02-05 20:03:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00136s] ('27cfa92c-6799-42ef-a65e-b20e1155b916',)
2026-02-05 20:03:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT DISTINCT ON (ea.exercise_id)
                    ea.exercise_id,
                    e.title,
                    CASE WHEN ea.passed THEN 'passed' ELSE 'failed' END as status,
                    ea.code_submitted,
                    ea.ai_feedback,
                    ea.grade,
                    ea.submitted_at
                FROM exercise_attempts_v2 ea
                JOIN exercises_v2 e ON ea.exercise_id = e.exercise_id
                WHERE ea.session_id = $1 AND e.activity_id = $2
                ORDER BY ea.exercise_id, ea.submitted_at DESC
            
2026-02-05 20:03:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00159s] ('27cfa92c-6799-42ef-a65e-b20e1155b916', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 20:03:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT final_grade, ai_feedback, status
                FROM submissions
                WHERE student_id = $1 AND activity_id = $2
                ORDER BY submitted_at DESC LIMIT 1
            
2026-02-05 20:03:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [generated in 0.00276s] ('91880ff2-3d5b-4ee9-acb5-61dafccf74b6', 'd9b70970-7615-4e35-aa87-d8ef68bb35e0')
2026-02-05 20:03:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - 
                SELECT risk_level, risk_dimension, description, recommendations
                FROM risks_v2
                WHERE session_id = $1
                ORDER BY created_at DESC LIMIT 1
            
2026-02-05 20:03:12 - sqlalchemy.engine.Engine - INFO - _execute_context:1843 - [cached since 5.576s ago] ('27cfa92c-6799-42ef-a65e-b20e1155b916',)
2026-02-05 20:03:12 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2705 - COMMIT
2026-02-05 20:03:33 - backend.src_v3.infrastructure.cache.redis_client - INFO - get:120 - âœ… Cache HIT: cache:teacher_modules:4d7d8be188160bb75e8ee994f0e39637
2026-02-05 20:03:33 - backend.src_v3.infrastructure.cache.decorators - INFO - wrapper:109 - âœ… Cache HIT for teacher_modules
